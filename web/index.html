<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOATIFY.APP | Soluciones de IA y Desarrollo Web - GOATIFY IA</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Descubre las mejores soluciones de IA y desarrollo web con GOATIFY.APP. Potenciamos tu negocio con automatizaci√≥n, p√°ginas web smart y chat con inteligencia artificial.">
    <meta name="keywords" content="Goatify, Goatify IA, inteligencia artificial, desarrollo web, automatizaci√≥n, chatbots, p√°ginas web, soluciones IA">

    <!-- Favicon -->
    <link rel="icon" href="logos hd.png" type="image/png">

    <!-- External Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>

<style>
/* ===== STYLESHEET FOR PRICING PAGE V21 (TAILWIND HYBRID) ===== */
:root {
    --primary-color: #7e57c2;
    --secondary-color: #5c6bc0;
    --accent-color: #00e5ff;
    --dark-color: #1a1a2e;
    --light-color: #f5f7fa;
    --white-color: #ffffff;
    --text-color: #333;
    --success-color: #28a745;
    --warning-color: #ffc107;
    --danger-color: #dc3545;
    --font-main: 'Inter', sans-serif;
    --shadow-light: 0 4px 15px rgba(0, 0, 0, 0.06);
    --shadow-medium: 0 8px 25px rgba(0, 0, 0, 0.1);
    --shadow-dark: 0 10px 30px rgba(0, 0, 0, 0.15);
    --border-radius-sm: 8px;
    --border-radius-md: 16px;
    --border-radius-lg: 24px;
    --header-height: 70px;
}

body { 
    font-family: var(--font-main); 
    color: var(--text-color); 
    background-color: var(--white-color);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Custom Styles to complement Tailwind */
.btn { 
    padding: 14px 30px; 
    border-radius: 50px; 
    font-weight: 700; 
    transition: all 0.4s; 
    display: inline-flex; 
    align-items: center; 
    justify-content: center; 
    gap: 12px; 
    border: 2px solid transparent; 
    cursor: pointer; 
    font-size: 1rem; 
    text-transform: uppercase;
    letter-spacing: 0.5px;
    line-height: 1.2;
    text-decoration: none;
}
.btn-primary { background: linear-gradient(45deg, var(--primary-color), var(--secondary-color)); color: var(--white-color); box-shadow: 0 4px 20px rgba(126, 87, 194, 0.4); }
.btn-primary:hover { transform: translateY(-3px) scale(1.05); }
.btn-outline { background-color: transparent; color: var(--primary-color); border: 2px solid var(--primary-color); }
.btn-outline:hover { background-color: var(--primary-color); color: var(--white-color); }
.btn-sm { font-size: 0.8rem; padding: 8px 18px; }
.btn-accent { background-color: var(--accent-color); color: var(--dark-color); border-color: var(--accent-color); }
.btn-accent:hover { background-color: #00cde5; }


.pricing-toggle-switch { position: relative; display: inline-block; width: 60px; height: 34px; }
.pricing-toggle-switch input { opacity: 0; width: 0; height: 0; }
.pricing-toggle-slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
.pricing-toggle-slider:before { position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .pricing-toggle-slider { background-color: var(--primary-color); }
input:checked + .pricing-toggle-slider:before { transform: translateX(26px); }

.pricing-comparison-table {
    width: 100%; min-width: 1100px; border-collapse: collapse; text-align: center;
    background: var(--white-color); border-radius: var(--border-radius-lg);
    overflow: hidden; box-shadow: var(--shadow-medium);
}
.pricing-comparison-table th, .pricing-comparison-table td { padding: 20px 15px; border-bottom: 1px solid #eee; vertical-align: middle; }
.pricing-comparison-table .plan-header.popular { border-color: var(--primary-color); background: #f1ecff; }
.pricing-comparison-table .feature-category-row td { background: #fafafa; text-align: left; font-weight: 700; color: var(--primary-color); padding-left: 30px; }
.pricing-comparison-table .feature-check, .pricing-comparison-table .feature-star { font-size: 1.5rem; color: var(--success-color); }
.pricing-comparison-table .feature-star { color: var(--warning-color); }
.pricing-comparison-table .feature-dash { font-size: 1.5rem; color: #ccc; }

.pricing-card.popular {
    border: 2px solid var(--primary-color);
    transform: scale(1.03);
}

.faq-item.active .faq-question i { transform: rotate(180deg); }
.faq-item.active .faq-answer { max-height: 500px; padding: 25px 25px 30px; border-top: 1px solid #eee; }

.cart-fab {
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 60px;
    height: 60px;
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    box-shadow: var(--shadow-dark);
    cursor: pointer;
    z-index: 1500;
    transition: transform 0.3s ease;
}
.cart-fab:hover { transform: scale(1.1); }
.cart-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background-color: var(--danger-color);
    color: white;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    font-size: 0.8rem;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
}

.toast-message {
    position: fixed; bottom: -100px; left: 50%; transform: translateX(-50%);
    background-color: var(--dark-color); color: var(--white-color); padding: 12px 20px;
    border-radius: var(--border-radius-sm); box-shadow: var(--shadow-medium);
    z-index: 2500; transition: bottom 0.5s ease;
}
.toast-message.show { bottom: 40px; }

</style>
</head>
<body class="bg-white">

<header class="bg-white/95 backdrop-blur-sm shadow-md sticky top-0 z-50 h-[70px] flex items-center">
    <div class="container mx-auto px-5">
        <nav class="flex justify-between items-center w-full">
            <a href="/" class="logo">
                <img src="logos hd.png" alt="GOATIFY Logo" class="h-11" onerror="this.onerror=null; this.src='https://placehold.co/150x45/7e5fff/ffffff?text=GOATIFY';">
            </a>
            <ul class="nav-links hidden md:flex items-center space-x-6">
                <li><a href="#web-designs" class="font-semibold text-gray-700 hover:text-[--primary-color] transition-colors">P√°ginas Web</a></li>
                <li><a href="#automation-plans" class="font-semibold text-gray-700 hover:text-[--primary-color] transition-colors">Automatizaci√≥n</a></li>
                <li><a href="#ai-chat-plans" class="font-semibold text-gray-700 hover:text-[--primary-color] transition-colors">AI Chat</a></li>
                <li><a href="#faq" class="font-semibold text-gray-700 hover:text-[--primary-color] transition-colors">FAQ</a></li>
            </ul>
            <div class="nav-cta">
                 <a href="https://calendly.com/goatify/reunion-express" class="btn btn-primary hidden sm:inline-flex" target="_blank">Agendar Demo</a>
            </div>
            <div class="mobile-menu-icon md:hidden text-2xl cursor-pointer">
                <i class="fas fa-bars"></i>
            </div>
        </nav>
    </div>
</header>

<main>
    <!-- Promo Banner Section -->
    <section id="promo-banner" class="bg-gradient-to-r from-[--primary-color] to-[--secondary-color] text-white py-3 shadow-lg">
        <div class="container mx-auto px-5 text-center font-semibold">
            <p>üöÄ ¬°Oferta Especial! Suscr√≠bete al plan <strong>GOAT BOOST</strong> (o superior) y obt√©n tu <strong>P√°gina Web Smart ¬°GRATIS!</strong></p>
        </div>
    </section>

    <!-- Global Currency Converter Section -->
    <section id="currency-converter-section" class="py-10 bg-gray-50 border-b border-gray-200">
        <div class="container mx-auto px-5 flex flex-col items-center justify-center gap-4">
            <label for="currency-selector" class="block text-center font-bold text-xl text-[--dark-color]">üåç Ver precios en tu moneda local</label>
            <p class="text-gray-600 text-center max-w-md">Selecciona tu moneda y todos los precios de la p√°gina se actualizar√°n autom√°ticamente.</p>
            <select id="currency-selector" class="p-3 rounded-lg border-2 border-gray-300 font-semibold w-full max-w-xs text-center focus:ring-2 focus:ring-[--primary-color] focus:border-[--primary-color]">
                <option value="USD">USA / Ecuador (USD)</option>
                <option value="EUR">Europa (EUR)</option>
                <option value="MXN">M√©xico (MXN)</option>
                <option value="CLP">Chile (CLP)</option>
                <option value="PEN">Per√∫ (PEN)</option>
                <option value="COP">Colombia (COP)</option>
                <option value="ARS">Argentina (ARS)</option>
                <option value="UYU">Uruguay (UYU)</option>
                <option value="CAD">Canad√° (CAD)</option>
            </select>
        </div>
    </section>

    <!-- Web Designs Section -->
    <section class="section py-20 bg-[--light-color]" id="web-designs">
        <div class="container mx-auto px-5">
            <h1 class="text-4xl md:text-5xl font-extrabold text-center mb-4 text-[--dark-color]">Tu P√°gina Web Smart: El Motor de Ventas</h1>
            <p class="text-center text-lg text-gray-600 max-w-4xl mx-auto mb-12">Creamos sitios web inteligentes y personalizados con c√≥digo puro, dise√±ados para convertir visitantes en clientes y potenciar tu marca. Olv√≠date de plantillas gen√©ricas. Construimos cada sitio desde cero, asegurando un rendimiento, seguridad y una experiencia de usuario √∫nicos para tu negocio.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 items-stretch" id="web-designs-container">
                <!-- Web designs will be populated by JS -->
            </div>
            <div class="bg-white p-8 rounded-3xl mt-12 max-w-5xl mx-auto text-center shadow-md">
                <h3 class="text-2xl font-bold mb-6">Todos Nuestros Paquetes Web Incluyen</h3>
                <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-6">
                    <div class="flex flex-col items-center gap-2"><i class="fas fa-mobile-alt text-3xl text-[--primary-color]"></i><span>Dise√±o Adaptable</span></div>
                    <div class="flex flex-col items-center gap-2"><i class="fas fa-tachometer-alt text-3xl text-[--primary-color]"></i><span>Alta Velocidad</span></div>
                    <div class="flex flex-col items-center gap-2"><i class="fas fa-shield-alt text-3xl text-[--primary-color]"></i><span>Seguridad (SSL)</span></div>
                    <div class="flex flex-col items-center gap-2"><i class="fas fa-search text-3xl text-[--primary-color]"></i><span>Amigable con SEO</span></div>
                    <div class="flex flex-col items-center gap-2"><i class="fas fa-headset text-3xl text-[--primary-color]"></i><span>Soporte</span></div>
                    <div class="flex flex-col items-center gap-2"><i class="fab fa-whatsapp text-3xl text-[--primary-color]"></i><span>Bot√≥n WhatsApp</span></div>
                </div>
            </div>
             <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-5 rounded-2xl max-w-3xl mx-auto mt-8 text-base">
                <strong>Dominio:</strong> Con los planes de automatizaci√≥n GOAT PRO o superiores, tu Web Smart gratuita se aloja en un subdominio (ej: <strong>tu-marca.goatify.app</strong>).
                <br>
                ¬øPrefieres un dominio propio (ej: <strong>tu-marca.com</strong>)? Lo gestionamos por ti por solo <strong>$20 anuales</strong>.
            </div>
        </div>
    </section>

    <hr class="border-0 h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent my-20 w-4/5 mx-auto">

    <!-- AI Chat Plans Section -->
    <section class="section py-20" id="ai-chat-plans">
        <div class="container mx-auto px-5">
            <h2 class="text-4xl md:text-5xl font-extrabold text-center mb-4 text-[--dark-color]">Planes de GOATIFY AI Chat</h2>
            <p class="text-center text-lg text-gray-600 max-w-3xl mx-auto mb-8">Herramientas de IA para que las uses a tu manera. Crea, resuelve y vende desde un chat simple y poderoso.</p>
            <div class="bg-[#f0e6ff] border-l-4 border-[--primary-color] p-5 rounded-2xl max-w-3xl mx-auto mb-12 text-base">
                <p>Estos planes te dan <strong class="text-[--primary-color]">acceso directo a nuestra plataforma de IA</strong>. No requieren reuni√≥n. Simplemente elige un plan, reg√≠strate y empieza a crear contenido, escribir copys o generar ideas al instante.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 items-stretch">
                <!-- Free Plan -->
                <div class="pricing-card bg-white rounded-3xl shadow-lg p-8 flex flex-col transition-transform duration-300 hover:-translate-y-2 relative overflow-hidden">
                    <h3 class="text-2xl font-extrabold">Free</h3>
                    <div class="plan-price text-4xl font-extrabold my-4" data-price-usd="0">Gratis</div>
                    <p class="text-gray-500">Para Siempre</p>
                    <ul class="space-y-3 my-5 text-left flex-grow">
                        <li class="flex items-start gap-3"><i class="fas fa-check-circle text-[--success-color] mt-1"></i><span>Acceso limitado al chat</span></li>
                        <li class="flex items-start gap-3"><i class="fas fa-check-circle text-[--success-color] mt-1"></i><span>Historial ilimitado</span></li>
                        <li class="flex items-start gap-3"><i class="fas fa-check-circle text-[--success-color] mt-1"></i><span>Organizaci√≥n por Proyectos (Limitado)</span></li>
                    </ul>
                    <div class="usage-details-toggle font-semibold text-[--secondary-color] cursor-pointer mt-4 pt-4 border-t border-gray-200 flex items-center gap-2 transition-colors hover:text-[--primary-color]">
                        <i class="fas fa-chevron-down transition-transform duration-300"></i> Ver detalles de uso
                    </div>
                    <div class="usage-details-content max-h-0 overflow-hidden transition-all duration-400 ease-out">
                        <ul class="text-sm mt-2 space-y-1">
                            <li class="flex justify-between p-1"><span>Mensajes de texto</span><strong>100 / mes</strong></li>
                            <li class="flex justify-between p-1"><span>B√∫squedas web</span><strong>10 / mes</strong></li>
                            <li class="flex justify-between p-1"><span>Archivos / Im√°genes</span><strong>-</strong></li>
                        </ul>
                    </div>
                    <a href="https://www.goatify.app" target="_blank" class="btn btn-outline w-full mt-auto">Empezar Gratis</a>
                </div>
                
                <!-- Boost Plan -->
                <div class="pricing-card bg-white rounded-3xl shadow-lg p-8 flex flex-col transition-transform duration-300 hover:-translate-y-2 relative overflow-hidden">
                    <h3 class="text-2xl font-extrabold">GOAT BOOST</h3>
                    <div class="plan-price text-4xl font-extrabold my-4" data-price-usd="7"></div>
                    <p class="text-gray-500">/ mes</p>
                    <ul class="space-y-3 my-5 text-left flex-grow">
                        <li class="flex items-start gap-3"><i class="fas fa-star text-[--primary-color] mt-1"></i><span>Todo lo de Free y m√°s</span></li>
                        <li class="flex items-start gap-3"><i class="fas fa-check-circle text-[--success-color] mt-1"></i><span>Respuestas ultrarr√°pidas ‚ö°</span></li>
                        <li class="flex items-start gap-3"><i class="fas fa-check-circle text-[--success-color] mt-1"></i><span>English Teacher</span></li>
                        <li class="flex items-start gap-3"><i class="fas fa-check-circle text-[--success-color] mt-1"></i><span>Workflows Limitados</span></li>
                        <li class="flex items-start gap-3"><i class="fas fa-check-circle text-[--success-color] mt-1"></i><span>P√°gina Web Smart Gratis</span></li>
                    </ul>
                     <div class="usage-details-toggle font-semibold text-[--secondary-color] cursor-pointer mt-4 pt-4 border-t border-gray-200 flex items-center gap-2 transition-colors hover:text-[--primary-color]">
                        <i class="fas fa-chevron-down transition-transform duration-300"></i> Ver detalles de uso
                    </div>
                    <div class="usage-details-content max-h-0 overflow-hidden transition-all duration-400 ease-out">
                       <ul class="text-sm mt-2 space-y-1">
                            <li class="flex justify-between p-1"><span>Mensajes de texto</span><strong>500 / mes</strong></li>
                            <li class="flex justify-between p-1"><span>B√∫squedas web</span><strong>70 / mes</strong></li>
                            <li class="flex justify-between p-1"><span>Archivos / Im√°genes</span><strong>10 / mes</strong></li>
                        </ul>
                    </div>
                    <a href="https://www.goatify.app" target="_blank" class="btn btn-primary btn-accent w-full mt-auto">Obtener Boost</a>
                </div>

                <!-- Pro Plan -->
                <div class="pricing-card popular bg-white rounded-3xl shadow-2xl p-8 flex flex-col transition-transform duration-300 hover:-translate-y-2 relative overflow-hidden">
                    <div class="absolute top-0 left-1/2 -translate-x-1/2 bg-gradient-to-r from-[--primary-color] to-[--secondary-color] text-white px-6 py-2 rounded-b-xl font-bold text-sm">M√°s Popular</div>
                    <h3 class="text-2xl font-extrabold mt-8">GOAT PRO</h3>
                     <div class="plan-price text-4xl font-extrabold my-4" data-price-usd="17"></div>
                    <p class="text-gray-500">/ mes</p>
                     <ul class="space-y-3 my-5 text-left flex-grow">
                         <li class="flex items-start gap-3"><i class="fas fa-star text-[--primary-color] mt-1"></i><span>Todo lo de Boost y m√°s</span></li>
                         <li class="flex items-start gap-3"><i class="fas fa-check-circle text-[--success-color] mt-1"></i><span>Acceso a todos los modelos de IA</span></li>
                         <li class="flex items-start gap-3"><i class="fas fa-check-circle text-[--success-color] mt-1"></i><span>Acceso a todos los Workflows</span></li>
                         <li class="flex items-start gap-3"><i class="fas fa-check-circle text-[--success-color] mt-1"></i><span>Comunidad privada y webinars</span></li>
                         <li class="flex items-start gap-3"><i class="fas fa-check-circle text-[--success-color] mt-1"></i><span>Asistencia prioritaria 1-a-1</span></li>
                         <li class="flex items-start gap-3"><i class="fas fa-check-circle text-[--success-color] mt-1"></i><span>P√°gina Web Gratis para Fundadores</span></li>
                    </ul>
                    <div class="usage-details-toggle font-semibold text-[--secondary-color] cursor-pointer mt-4 pt-4 border-t border-gray-200 flex items-center gap-2 transition-colors hover:text-[--primary-color]">
                        <i class="fas fa-chevron-down transition-transform duration-300"></i> Ver detalles de uso
                    </div>
                    <div class="usage-details-content max-h-0 overflow-hidden transition-all duration-400 ease-out">
                        <ul class="text-sm mt-2 space-y-1">
                            <li class="flex justify-between p-1"><span>Mensajes de texto</span><strong>1,200 / mes</strong></li>
                            <li class="flex justify-between p-1"><span>B√∫squedas web</span><strong>150 / mes</strong></li>
                            <li class="flex justify-between p-1"><span>Archivos / Im√°genes</span><strong>30 / mes</strong></li>
                        </ul>
                    </div>
                    <a href="https://www.goatify.app" target="_blank" class="btn btn-primary w-full mt-auto">Quiero mi plan PRO + WEB</a>
                </div>
            </div>

            <div class="bg-[#f0f4f8] border-l-4 border-[#5c6bc0] p-5 rounded-2xl max-w-3xl mx-auto mt-12 text-base">
                <h4 class="font-bold text-lg text-[--dark-color] mb-2 flex items-center gap-3"><i class="fas fa-brain"></i> Pol√≠tica de Uso Razonable</h4>
                <p>Si llegas a tu l√≠mite mensual de mensajes, te notificaremos para que puedas mejorar tu plan o esperar al siguiente ciclo. <strong>Nunca cortamos el servicio sin previo aviso.</strong></p>
            </div>
        </div>
    </section>

    <hr class="border-0 h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent my-20 w-4/5 mx-auto">

    <!-- Automation Plans Section -->
    <section class="section py-20" id="automation-plans">
        <div class="container mx-auto px-5">
            <h2 class="text-4xl md:text-5xl font-extrabold text-center mb-4 text-[--dark-color]">Planes de Automatizaci√≥n GOATIFY</h2>
            <p class="text-center text-lg text-gray-600 max-w-3xl mx-auto mb-8">Soluciones completas para automatizar tus ventas en WhatsApp, Redes Sociales y tu P√°gina Web.</p>
            <div class="bg-[#f0e6ff] border-l-4 border-[--primary-color] p-5 rounded-2xl max-w-3xl mx-auto mb-12 text-base">
                <p>Estos planes son un servicio <strong>"llave en mano"</strong>. Incluyen una reuni√≥n de activaci√≥n de 30 minutos para configurar un sistema a la medida de tu negocio. Elige tu plan y <strong class="text-[--primary-color]">agenda una llamada</strong> para empezar, o <strong class="text-[--primary-color]">a√±√°delo al carrito</strong> para un pago directo.</p>
            </div>

            <div class="flex flex-wrap justify-center items-center gap-6 mb-12 p-6 bg-white rounded-2xl shadow-md max-w-lg mx-auto">
                <div class="flex items-center gap-4 font-semibold">
                    <span>Pago Mensual</span>
                    <label class="pricing-toggle-switch">
                        <input type="checkbox" id="billing-toggle">
                        <span class="pricing-toggle-slider"></span>
                    </label>
                    <span class="text-[--success-color] font-bold">Pago Anual (¬°Ahorra 2 Meses!)</span>
                </div>
            </div>
            
            <div class="overflow-x-auto">
                <table class="pricing-comparison-table">
                    <!-- Table content will be populated by JS -->
                </table>
            </div>
        </div>
    </section>
    
    <hr class="border-0 h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent my-20 w-4/5 mx-auto">

    <!-- Add-ons & Training Sections -->
    <section class="section py-20 bg-[--light-color]" id="addons">
        <div class="container mx-auto px-5">
            <h2 class="text-4xl md:text-5xl font-extrabold text-center mb-4 text-[--dark-color]">Soluciones Adicionales</h2>
            <p class="text-center text-lg text-gray-600 max-w-3xl mx-auto mb-12">Potencia tu plan con estas herramientas y servicios especializados.</p>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8" id="addons-container">
                <!-- Add-ons will be populated by JS -->
            </div>
        </div>
    </section>
    
    <hr class="border-0 h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent my-20 w-4/5 mx-auto">

    <section class="section py-20" id="training">
        <div class="container mx-auto px-5">
            <h2 class="text-4xl md:text-5xl font-extrabold text-center mb-4 text-[--dark-color]">Capacitaci√≥n & Consultor√≠a IA Profesional</h2>
            <p class="text-center text-lg text-gray-600 max-w-3xl mx-auto mb-12">Maximiza el potencial de la IA en tu negocio con nuestro apoyo experto.</p>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-8" id="training-container">
                <!-- Training services will be populated by JS -->
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="section py-20 bg-[--light-color]">
        <div class="container mx-auto px-5">
            <h2 class="text-4xl md:text-5xl font-extrabold text-center mb-12 text-[--dark-color]">Preguntas Frecuentes</h2>
            <div class="max-w-3xl mx-auto space-y-4">
                <div class="faq-item bg-white rounded-2xl shadow-md overflow-hidden">
                    <div class="faq-question p-6 font-semibold text-lg cursor-pointer flex justify-between items-center hover:bg-gray-50">¬øCu√°l es la diferencia entre los planes de "Automatizaci√≥n" y los de "AI Chat"?<i class="fas fa-chevron-down transition-transform duration-300"></i></div>
                    <div class="faq-answer max-h-0 overflow-hidden transition-all duration-400 ease-out"><p class="px-6 pb-6 text-gray-600">¬°Buena pregunta! Los <strong>Planes de Automatizaci√≥n</strong> son un servicio completo donde nosotros configuramos y gestionamos un bot de ventas para ti en WhatsApp y redes sociales. Los <strong>Planes de AI Chat</strong> te dan acceso a nuestra herramienta de chat inteligente para que t√∫ mismo la uses para crear contenido, escribir copys, etc.</p></div>
                </div>
                <div class="faq-item bg-white rounded-2xl shadow-md overflow-hidden">
                    <div class="faq-question p-6 font-semibold text-lg cursor-pointer flex justify-between items-center hover:bg-gray-50">¬øPor qu√© todos los planes de Automatizaci√≥n requieren una reuni√≥n?<i class="fas fa-chevron-down transition-transform duration-300"></i></div>
                    <div class="faq-answer max-h-0 overflow-hidden transition-all duration-400 ease-out"><p class="px-6 pb-6 text-gray-600">Porque no ofrecemos un producto gen√©rico. La reuni√≥n de 30 minutos es crucial para entender tus objetivos, tu negocio y tus clientes. As√≠, podemos configurar tu bot de forma personalizada para que te d√© los mejores resultados desde el primer d√≠a. Es parte de nuestro servicio premium.</p></div>
                </div>
            </div>
        </div>
    </section>
</main>

<footer class="bg-[--dark-color] text-gray-400 pt-16 pb-8">
    <div class="container mx-auto px-5">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 mb-12">
            <div class="footer-column">
                <a href="/"><img src="logos hd.png" alt="GOATIFY Logo" class="h-10 mb-4" onerror="this.onerror=null; this.src='https://placehold.co/150x45/7e5fff/ffffff?text=GOATIFY';"></a>
                <p class="text-base leading-relaxed max-w-xs">IA que vende por ti, mientras vives tu vida. Automatizaci√≥n inteligente para negocios ambiciosos.</p>
                <div class="flex space-x-4 mt-6">
                    <a href="https://www.instagram.com/goatify.ia/" target="_blank" aria-label="Instagram" class="text-2xl hover:text-[--accent-color] transition-all hover:-translate-y-1"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.facebook.com/profile.php?id=61574864266396" target="_blank" aria-label="Facebook" class="text-2xl hover:text-[--accent-color] transition-all hover:-translate-y-1"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.tiktok.com/@goatify_app" target="_blank" aria-label="TikTok" class="text-2xl hover:text-[--accent-color] transition-all hover:-translate-y-1"><i class="fab fa-tiktok"></i></a>
                </div>
            </div>
            <div>
                <h4 class="text-lg font-bold text-white mb-6">Navegaci√≥n</h4>
                <ul class="space-y-3">
                    <li><a href="/" class="hover:text-[--accent-color] transition-colors">Inicio</a></li>
                    <li><a href="#automation-plans" class="hover:text-[--accent-color] transition-colors">Pricing</a></li>
                    <li><a href="#web-designs" class="hover:text-[--accent-color] transition-colors">Servicios</a></li>
                </ul>
            </div>
             <div>
                <h4 class="text-lg font-bold text-white mb-6">Legal</h4>
                <ul class="space-y-3">
                    <li><a class="policy-link cursor-pointer hover:text-[--accent-color] transition-colors" data-policy="general">Pol√≠ticas Generales</a></li>
                    <li><a class="policy-link cursor-pointer hover:text-[--accent-color] transition-colors" data-policy="privacy">Pol√≠tica de Privacidad</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-lg font-bold text-white mb-6">Contacto</h4>
                <ul class="space-y-3">
                    <li><a href="mailto:info@goatify.app" class="flex items-center gap-3 hover:text-[--accent-color] transition-colors"><i class="fas fa-envelope w-5"></i> info@goatify.app</a></li>
                    <li><a href="https://wa.me/17439106116" target="_blank" class="flex items-center gap-3 hover:text-[--accent-color] transition-colors"><i class="fab fa-whatsapp w-5"></i> WhatsApp</a></li>
                    <li><a href="https://calendly.com/goatify" target="_blank" class="flex items-center gap-3 hover:text-[--accent-color] transition-colors"><i class="fas fa-calendar-alt w-5"></i> Agendar Reuni√≥n</a></li>
                </ul>
            </div>
        </div>
        <div class="text-center pt-8 border-t border-gray-700 text-sm text-gray-500">
            <p>&copy; <span id="currentYear"></span> GOATIFY IA. Todos los derechos reservados.</p>
        </div>
    </div>
</footer>

<!-- CART MODAL -->
<div class="modal-overlay hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-[1000] items-center justify-center" id="cartModal">
    <div class="modal-content bg-white w-11/12 max-w-md rounded-2xl shadow-2xl flex flex-col max-h-[85vh] relative">
        <div class="p-6 border-b flex justify-between items-center">
            <h3 class="text-2xl font-bold">üõí Tu Carrito</h3>
            <button class="close-modal-btn text-3xl text-gray-400 hover:text-[--danger-color]" data-target="#cartModal">&times;</button>
        </div>
        <div class="p-6 flex-grow overflow-y-auto">
            <div class="cart-items-container" id="cartItemsContainer"></div>
            <div class="flex flex-col items-end font-bold pt-4 border-t mt-2">
                <span class="text-xl" id="cartTotalLocal"></span>
                <span class="text-sm text-gray-500" id="cartTotalUSD"></span>
            </div>
        </div>
        <div class="p-6 bg-gray-50 rounded-b-2xl">
            <button class="btn btn-primary w-full" id="cartCheckoutBtn"><i class="fab fa-whatsapp"></i> Finalizar por WhatsApp</button>
        </div>
    </div>
</div>

<!-- LEGAL POLICY MODAL -->
<div class="modal-overlay hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-[1000] items-center justify-center" id="legalModal">
    <div class="modal-content bg-white w-11/12 max-w-3xl rounded-2xl shadow-2xl flex flex-col max-h-[85vh] relative">
        <div class="p-6 border-b flex justify-between items-center">
            <h3 class="text-2xl font-bold" id="legalModalTitle"></h3>
            <button class="close-modal-btn text-3xl text-gray-400 hover:text-[--danger-color]" data-target="#legalModal">&times;</button>
        </div>
        <div class="modal-body p-8 overflow-y-auto prose max-w-none" id="legalModalBody">
        </div>
    </div>
</div>

<div class="cart-fab" id="cartFab">
    <i class="fas fa-shopping-cart"></i>
    <span class="cart-badge hidden" id="cartBadge">0</span>
</div>

<div class="toast-message" id="toastMessage"></div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- DATA SOURCES ---
        const automationPlans = [
            { id: 'auto_trial', name: 'TRIAL üß™', description: 'Prueba el poder de nuestra IA.', price_usd: 4, price_annual: 4, type: 'automation', popular: false },
            { id: 'auto_pro', name: 'GOAT PRO üöÄ', description: 'La soluci√≥n ideal para crecer. Incluye todo lo del plan TRIAL.', price_usd: 37, price_annual: 370, type: 'automation', popular: true },
            { id: 'auto_business', name: 'BUSINESS üåü', description: 'M√°s potencia y herramientas. Incluye todo lo del plan PRO.', price_usd: 57, price_annual: 570, type: 'automation', popular: false },
            { id: 'auto_elite', name: 'ELITE üëë', description: 'M√°ximo poder para tu imperio. Incluye todo lo del plan BUSINESS.', price_usd: 77, price_annual: 770, type: 'automation', popular: false }
        ];

        const webSmartPlans = [
            { id: 'web_smart', name: 'Web Smart', description: 'Ideal para startups y profesionales', price_usd: 47, period: 'pago √∫nico', popular: false, features: ['Sitio Web de hasta 5 secciones', 'Dise√±o 100% personalizado a tu marca', 'Integraci√≥n de Pagos (PayPal/Stripe)', 'Conexi√≥n a redes sociales y WhatsApp', 'Optimizaci√≥n SEO inicial'], buttonText: 'Iniciar Proyecto' },
            { id: 'web_smart_pro', name: 'Web Smart PRO', description: 'Perfecto para PYMEs y agencias', price_usd: 97, period: 'pago √∫nico', popular: true, features: ['Todo lo de Web Smart +', 'Secciones ilimitadas', 'Blog o Portafolio din√°mico', 'Optimizaci√≥n SEO Avanzada', 'Panel de control para autogesti√≥n'], buttonText: 'Elegir Este Plan' },
            { id: 'web_ecommerce_smart', name: 'E-commerce Smart', description: 'Para vender tus productos online', price_usd: 147, period: 'pago √∫nico', popular: false, features: ['Todo lo de Web Smart PRO +', 'Tienda online completa y optimizada', 'M√∫ltiples pasarelas de pago', 'Carga inicial de hasta 20 productos', 'Sistema de gesti√≥n de pedidos e inventario'], buttonText: 'Empezar a Vender' }
        ];

        const addOns = [
            { id: 'addon_domain', name: 'Dominio Personalizado', description: 'Compra, configuraci√≥n y conexi√≥n de tu dominio profesional (ej. tumarca.com). Incluye certificado de seguridad SSL.', price_usd: 20, period: 'anual', icon: 'fa-globe' },
            { id: 'addon_social', name: 'Social Autopilot PRO', description: 'Automatizaci√≥n mensual de publicaciones e interacciones en Instagram, Facebook y TikTok, optimizadas con IA para engagement.', price_usd: 50, period: 'mes', icon: 'fa-share-alt' },
            { id: 'addon_ads', name: 'Ads Autopilot', description: 'Creaci√≥n, gesti√≥n y optimizaci√≥n de campa√±as publicitarias en Meta (Facebook/Instagram) y Google Ads, impulsadas por IA para m√°ximo ROI.', price_usd: 50, period: 'mes', icon: 'fa-bullseye' },
            { id: 'addon_email', name: 'Email Marketing IA', description: 'Automatizaci√≥n mensual de campa√±as de email marketing con embudos de venta, secuencias de bienvenida y recuperaci√≥n de leads inactivos.', price_usd: 50, period: 'mes', icon: 'fa-envelope-open-text' },
            { id: 'addon_video', name: 'Video IA Promos', description: 'Videos promocionales generados por IA, perfectos para reels, TikTok, historias y anuncios publicitarios de alto impacto visual y sonoro.', price_usd: 50, period: 'mes', icon: 'fa-video' },
            { id: 'addon_reports', name: 'Reportes Inteligentes Pro', description: 'An√°lisis mensual de rendimiento impulsado por IA, incluyendo tasa de conversi√≥n, sugerencias de mejora y proyecciones de crecimiento detalladas.', price_usd: 20, period: 'mes', icon: 'fa-chart-line' }
        ];

        const trainingServices = [
            { id: 'train_initial', name: 'Video de Capacitaci√≥n Inicial', description: 'Tutorial personalizado con acceso a panel, recomendaciones de uso y flujo b√°sico para tu bot IA, para un inicio r√°pido.', price_usd: 0, period: 'Incluido', icon: 'fa-video' },
            { id: 'train_advanced', name: 'Capacitaci√≥n Personalizada Avanzada', description: 'Reuni√≥n de 1 hora por Zoom para entrenarte o capacitar a tu equipo en el uso avanzado de GOATIFY IA y optimizaci√≥n de estrategias.', price_usd: 30, period: 'hora', icon: 'fa-users' },
            { id: 'train_consult', name: 'Consultor√≠a IA Estrat√©gica Premium', description: 'Diagn√≥stico profundo + plan de automatizaci√≥n y mejora de procesos espec√≠ficos de tu negocio con IA, dise√±ado para resultados de alto impacto.', price_usd: 30, period: 'hora', icon: 'fa-brain' },
            { id: 'train_webinar', name: 'Webinars Mensuales Gratuitos Expertos', description: 'Masterclass exclusivas sobre IA para negocios, √∫ltimas tendencias, estrategias de venta y optimizaci√≥n de flujos con expertos de la industria.', price_usd: 0, period: 'Gratis', icon: 'fa-microphone-alt' }
        ];

        const legalPolicies = {
            general: {
                title: "Pol√≠ticas Generales",
                content: `<h5>1. Aceptaci√≥n de los T√©rminos</h5><p>Al acceder y utilizar los servicios de GOATIFY IA, usted acepta estar sujeto a estos t√©rminos y condiciones. Si no est√° de acuerdo con alguna parte de los t√©rminos, no podr√° utilizar nuestros servicios.</p><h5>2. Modificaciones</h5><p>GOATIFY IA se reserva el derecho de modificar o reemplazar estos T√©rminos en cualquier momento. Es su responsabilidad revisar peri√≥dicamente los cambios. El uso continuado del servicio despu√©s de la publicaci√≥n de cualquier cambio constituye la aceptaci√≥n de dichos cambios.</p><h5>3. Uso del Servicio</h5><p>Usted se compromete a no utilizar el servicio para ning√∫n prop√≥sito ilegal o no autorizado. Usted es responsable de toda la actividad que ocurra bajo su cuenta.</p>`
            },
            privacy: {
                title: "Pol√≠tica de Privacidad",
                content: `<h5>1. Recopilaci√≥n de Informaci√≥n</h5><p>Recopilamos informaci√≥n que usted nos proporciona directamente, como su nombre, correo electr√≥nico y datos de pago. Tambi√©n recopilamos informaci√≥n autom√°ticamente cuando utiliza nuestros servicios, como datos de uso e informaci√≥n del dispositivo.</p><h5>2. Uso de la Informaci√≥n</h5><p>Utilizamos la informaci√≥n recopilada para proporcionar, mantener y mejorar nuestros servicios, procesar transacciones, comunicarnos con usted y personalizar su experiencia.</p><h5>3. Intercambio de Informaci√≥n</h5><p>No compartimos su informaci√≥n personal con terceros, excepto seg√∫n sea necesario para proporcionar nuestros servicios (por ejemplo, con procesadores de pago) o si as√≠ lo exige la ley.</p>`
            }
        };

        // --- DYNAMIC CONTENT POPULATION ---
        function populateAutomationTable() {
            const desktopTable = document.querySelector('.pricing-comparison-table');
            if (!desktopTable) return;
            desktopTable.innerHTML = `
                <thead>
                    <tr><th class="w-1/5"></th>
                        ${automationPlans.map(plan => `
                            <th class="plan-header w-1/5 ${plan.popular ? 'popular' : ''}">
                                ${plan.popular ? '<div class="inline-block bg-gradient-to-r from-[--primary-color] to-[--secondary-color] text-white px-4 py-1.5 text-xs font-bold rounded-full mb-2.5">M√ÅS POPULAR</div>' : ''}
                                <h3 class="text-xl font-bold text-[--dark-color]">${plan.name}</h3>
                                <p class="text-sm text-gray-500 font-medium min-h-[30px] mt-1">${plan.description}</p>
                                <div class="plan-price text-4xl font-extrabold text-[--primary-color] my-2.5" data-price-usd="${plan.price_usd}" data-price-annual="${plan.price_annual}"></div>
                                <p class="price-period text-sm font-medium text-gray-600 min-h-[1.2rem]"></p>
                                <div class="flex flex-col gap-2.5 items-center justify-center mt-4">
                                    <a href="https://calendly.com/goatify" target="_blank" class="btn btn-primary w-full"><i class="fas fa-calendar-alt"></i> Agendar</a>
                                    <button class="btn btn-outline btn-sm w-full add-to-cart-btn" data-id="${plan.id}" data-type="automation">A√±adir al Carrito</button>
                                </div>
                            </th>`).join('')}
                    </tr>
                </thead>
                <tbody>
                    <tr class="feature-category-row"><td colspan="5">Capacidades del Bot</td></tr>
                    <tr><td class="feature-name text-left font-medium pl-8">Chatbot con IA (GPT-3.5 Turbo)</td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td></tr>
                    <tr><td class="feature-name text-left font-medium pl-8">Flujo conversacional con cierre de ventas</td><td><span class="feature-dash">‚Äî</span></td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td></tr>
                    <tr><td class="feature-name text-left font-medium pl-8">Automatizaci√≥n Redes Sociales (FB/IG)</td><td><span class="feature-dash">‚Äî</span></td><td><span class="feature-dash">‚Äî</span></td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td></tr>
                    <tr class="feature-category-row"><td colspan="5">Beneficios y Herramientas</td></tr>
                    <tr><td class="feature-name text-left font-medium pl-8">P√°gina Web Smart GRATIS</td><td><span class="feature-dash">‚Äî</span></td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td></tr>
                    <tr><td class="feature-name text-left font-medium pl-8">P√°gina Web Smart Avanzada</td><td><span class="feature-dash">‚Äî</span></td><td><span class="feature-dash">‚Äî</span></td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td></tr>
                    <tr><td class="feature-name text-left font-medium pl-8">Acceso a API y CRM B√°sico</td><td><span class="feature-dash">‚Äî</span></td><td><span class="feature-dash">‚Äî</span></td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td></tr>
                    <tr class="feature-category-row"><td colspan="5">Soporte y Estrategia</td></tr>
                    <tr><td class="feature-name text-left font-medium pl-8">Configuraci√≥n inicial asistida</td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td></tr>
                    <tr><td class="feature-name text-left font-medium pl-8">Reuni√≥n virtual completa con estratega</td><td><span class="feature-dash">‚Äî</span></td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td><td><i class="fas fa-check-circle feature-check"></i></td></tr>
                    <tr><td class="feature-name text-left font-medium pl-8">Gesti√≥n Ads Avanzada con IA</td><td><span class="feature-dash">‚Äî</span></td><td><span class="feature-dash">‚Äî</span></td><td><span class="feature-dash">‚Äî</span></td><td><i class="fas fa-check-circle feature-check"></i></td></tr>
                    <tr><td class="feature-name text-left font-medium pl-8">Consultor√≠a Estrat√©gica IA personalizada</td><td><span class="feature-dash">‚Äî</span></td><td><span class="feature-dash">‚Äî</span></td><td><span class="feature-dash">‚Äî</span></td><td><i class="fas fa-check-circle feature-check"></i></td></tr>
                    <tr><td class="feature-name text-left font-medium pl-8">Prioridad en Nuevas Funcionalidades</td><td><span class="feature-dash">‚Äî</span></td><td><span class="feature-dash">‚Äî</span></td><td><span class="feature-dash">‚Äî</span></td><td><i class="fas fa-star feature-star"></i></td></tr>
                </tbody>`;
        }

        function createWebPlanCard(plan) {
            let buttonClass = plan.popular ? 'btn-primary' : 'btn-outline';
            return `
                <div class="pricing-card ${plan.popular ? 'popular' : ''} bg-white rounded-3xl shadow-lg p-8 flex flex-col transition-transform duration-300 hover:-translate-y-2 relative overflow-hidden">
                    ${plan.popular ? '<div class="absolute top-0 left-1/2 -translate-x-1/2 bg-gradient-to-r from-[--primary-color] to-[--secondary-color] text-white px-6 py-2 rounded-b-xl font-bold text-sm">M√°s Popular</div>' : ''}
                    <h3 class="text-2xl font-extrabold ${plan.popular ? 'mt-8' : ''}">${plan.name}</h3>
                    <p class="text-gray-500 my-2">${plan.description}</p>
                    <div class="plan-price text-4xl font-extrabold my-4" data-price-usd="${plan.price_usd}"></div>
                    <p class="plan-period text-gray-500">${plan.period}</p>
                    <ul class="space-y-3 my-5 text-left flex-grow">
                        ${plan.features.map(feature => `<li class="flex items-start gap-3"><i class="fas fa-check-circle text-[--success-color] mt-1"></i><span>${feature}</span></li>`).join('')}
                    </ul>
                    <button class="btn ${buttonClass} add-to-cart-btn w-full mt-auto" data-id="${plan.id}" data-type="web">${plan.buttonText}</button>
                </div>
            `;
        }

        function createServiceCard(item, type) {
            const button = item.price_usd > 0 
                ? `<button class="btn btn-accent btn-sm add-to-cart-btn mt-auto w-full" data-id="${item.id}" data-type="${type}">+ A√±adir</button>`
                : `<div class="mt-auto w-full h-[35px]"></div>`; // Placeholder for alignment
            
            const priceText = item.price_usd > 0 ? '' : (item.period === 'Gratis' ? 'Gratis' : 'Incluido');

            return `
                <div class="bg-white rounded-3xl shadow-lg p-6 flex flex-col text-center transition-transform duration-300 hover:-translate-y-2">
                    <i class="fas ${item.icon} text-4xl text-[--primary-color] mb-4"></i>
                    <h3 class="text-xl font-bold text-[--dark-color] flex-grow">${item.name}</h3>
                    <p class="text-gray-600 my-3 min-h-[80px]">${item.description}</p>
                    <div class="plan-price text-3xl font-extrabold text-[--secondary-color] my-2" data-price-usd="${item.price_usd}">${priceText}</div>
                    <p class="plan-period text-gray-500 mb-5">${item.period}</p>
                    ${button}
                </div>
            `;
        }
        
        function populateServiceSections() {
            const webContainer = document.getElementById('web-designs-container');
            if (webContainer) {
                webContainer.innerHTML = webSmartPlans.map(plan => createWebPlanCard(plan)).join('');
            }
            const addonsContainer = document.getElementById('addons-container');
            if (addonsContainer) {
                addonsContainer.innerHTML = addOns.map(item => createServiceCard(item, 'addon')).join('');
            }
            const trainingContainer = document.getElementById('training-container');
            if (trainingContainer) {
                trainingContainer.innerHTML = trainingServices.map(item => createServiceCard(item, 'training')).join('');
            }
        }
        
        // --- GENERAL SCRIPT ---
        document.getElementById('currentYear').textContent = new Date().getFullYear();
        document.querySelectorAll('.faq-question').forEach(q => q.addEventListener('click', () => q.parentElement.classList.toggle('active')));
        document.querySelectorAll('.usage-details-toggle').forEach(toggle => {
            toggle.addEventListener('click', (e) => {
                const card = e.currentTarget.closest('.pricing-card');
                const content = card.querySelector('.usage-details-content');
                const icon = card.querySelector('.usage-details-toggle i');
                
                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                    icon.style.transform = 'rotate(0deg)';
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                    icon.style.transform = 'rotate(180deg)';
                } 
            });
        });

        // --- MODAL LOGIC ---
        const cartModal = document.getElementById('cartModal');
        const legalModal = document.getElementById('legalModal');
        document.querySelectorAll('.close-modal-btn').forEach(btn => {
            btn.addEventListener('click', () => document.querySelector(btn.dataset.target).style.display = 'none');
        });
        window.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal-overlay')) {
                e.target.style.display = 'none';
            }
        });
        document.querySelectorAll('.policy-link').forEach(link => {
            link.addEventListener('click', (e) => {
                const policyKey = e.target.dataset.policy;
                const policy = legalPolicies[policyKey];
                document.getElementById('legalModalTitle').textContent = policy.title;
                document.getElementById('legalModalBody').innerHTML = policy.content;
                legalModal.style.display = 'flex';
            });
        });

        // --- PRICING & CURRENCY ---
        const billingToggle = document.getElementById('billing-toggle');
        const currencySelector = document.getElementById('currency-selector');
        const currencyData = {
            USD: { symbol: '$', rate: 1, format: p => `$${p.toFixed(2)}` },
            EUR: { symbol: '‚Ç¨', rate: 0.93, format: p => `‚Ç¨${p.toFixed(2)}` },
            MXN: { symbol: '$', rate: 18.5, format: p => `$${p.toLocaleString('es-MX', {minimumFractionDigits: 2, maximumFractionDigits: 2})}` },
            CLP: { symbol: '$', rate: 930, format: p => `$${Math.round(p).toLocaleString('es-CL')}` },
            PEN: { symbol: 'S/', rate: 3.75, format: p => `S/${p.toLocaleString('es-PE', {minimumFractionDigits: 2, maximumFractionDigits: 2})}` },
            COP: { symbol: '$', rate: 4100, format: p => `$${Math.round(p).toLocaleString('es-CO')}` },
            ARS: { symbol: '$', rate: 910, format: p => `$${p.toLocaleString('es-AR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}` },
            UYU: { symbol: '$U', rate: 39, format: p => `$U${Math.round(p).toLocaleString('es-UY')}` },
            CAD: { symbol: '$', rate: 1.37, format: p => `$${p.toFixed(2)}` }
        };

        function updatePrices() {
            const isAnnual = billingToggle.checked;
            const currency = currencyData[currencySelector.value];
            
            document.querySelectorAll('[data-price-usd]').forEach(el => {
                let basePriceUSD = parseFloat(el.dataset.priceUsd);
                
                if (basePriceUSD === 0 || isNaN(basePriceUSD)) {
                    return; // Skip elements with price 0 or invalid price, as their text is set on creation
                }

                // Specific logic for automation plans (monthly vs annual)
                if (el.closest('#automation-plans')) {
                    const annualPrice = parseFloat(el.dataset.priceAnnual);
                    if (!isNaN(annualPrice)) {
                        basePriceUSD = isAnnual ? annualPrice : basePriceUSD;
                    }
                }
                
                el.textContent = currency.format(basePriceUSD * currency.rate);
            });

            document.querySelectorAll('#automation-plans .price-period').forEach(el => {
                const priceEl = el.previousElementSibling;
                const basePrice = parseFloat(priceEl.dataset.priceUsd);
                const annualPrice = parseFloat(priceEl.dataset.priceAnnual);
                if (!basePrice || !annualPrice) return;
                if (basePrice === annualPrice) { el.textContent = 'pago √∫nico / 7 d√≠as'; } 
                else { el.textContent = isAnnual ? '/a√±o' : '/mes'; }
            });

            updateCartUI(); 
        }

        // --- SHOPPING CART LOGIC ---
        let cart = [];
        const cartFab = document.getElementById('cartFab');
        const cartBadge = document.getElementById('cartBadge');
        const cartItemsContainer = document.getElementById('cartItemsContainer');
        const cartTotalLocal = document.getElementById('cartTotalLocal');
        const cartTotalUSD = document.getElementById('cartTotalUSD');
        const cartCheckoutBtn = document.getElementById('cartCheckoutBtn');
        const toastMessage = document.getElementById('toastMessage');

        function showToast(message) {
            toastMessage.textContent = message;
            toastMessage.classList.add('show');
            setTimeout(() => toastMessage.classList.remove('show'), 3000);
        }

        function handleAddToCart(event) {
            const button = event.target;
            const itemId = button.dataset.id;
            const itemType = button.dataset.type;
            const isAnnual = billingToggle.checked;
            
            let itemData;
            let newItem;
            let sourceArray;

            switch(itemType) {
                case 'automation': sourceArray = automationPlans; break;
                case 'web': sourceArray = webSmartPlans; break;
                case 'addon': sourceArray = addOns; break;
                case 'training': sourceArray = trainingServices; break;
            }
            
            itemData = sourceArray.find(p => p.id === itemId);

            newItem = {
                id: itemData.id,
                name: itemData.name,
                price_usd: (itemType === 'automation' && isAnnual) ? itemData.price_annual : itemData.price_usd,
                period: (itemType === 'automation') ? (isAnnual ? 'Anual' : 'Mensual') : itemData.period,
                type: itemType
            };

            if (cart.some(item => item.id === newItem.id)) {
                showToast(`"${newItem.name}" ya est√° en el carrito.`);
                return;
            }
            
            if (itemType === 'automation') {
                cart = cart.filter(item => item.type !== 'automation');
            }
            
            cart.push(newItem);
            showToast(`"${itemData.name}" a√±adido al carrito.`);
            updateCartUI();
        }

        function updateCartUI() {
            cartBadge.textContent = cart.length;
            cartBadge.classList.toggle('hidden', cart.length === 0);
            
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `<p class="text-center text-gray-500 py-10 italic">Tu carrito est√° vac√≠o.</p>`;
                cartTotalLocal.textContent = '';
                cartTotalUSD.textContent = '';
                return;
            }

            cartItemsContainer.innerHTML = '';
            let totalUSD = 0;
            const currency = currencyData[currencySelector.value];

            cart.forEach(item => {
                totalUSD += item.price_usd;
                const itemDiv = document.createElement('div');
                itemDiv.className = 'flex justify-between items-center py-3 border-b';
                itemDiv.innerHTML = `
                    <div class="flex flex-col">
                        <span class="font-semibold">${item.name}</span>
                        <span class="text-sm text-gray-500">${currency.format(item.price_usd * currency.rate)} (${item.period})</span>
                    </div>
                    <button class="cart-item-remove text-xl text-[--danger-color] hover:text-red-700" data-id="${item.id}">&times;</button>
                `;
                cartItemsContainer.appendChild(itemDiv);
            });
            
            cartTotalLocal.textContent = `Total: ${currency.format(totalUSD * currency.rate)} ${currencySelector.value}`;
            cartTotalUSD.textContent = currencySelector.value !== 'USD' ? `(Equivalente a $${totalUSD.toFixed(2)} USD)` : '';

            document.querySelectorAll('.cart-item-remove').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    cart = cart.filter(item => item.id !== e.target.dataset.id);
                    updateCartUI();
                });
            });
        }
        
        function checkout() {
            if (cart.length === 0) return;
            let message = "¬°Hola GOATIFY! üëã Me gustar√≠a comprar lo siguiente:\n\n";
            cart.forEach(item => {
                message += `*Producto:* ${item.name}\n`;
                message += `*Tipo:* ${item.period}\n`;
                message += `*Precio:* $${item.price_usd.toFixed(2)} USD\n---\n`;
            });
            const totalUSD = cart.reduce((sum, item) => sum + item.price_usd, 0);
            message += `\n*TOTAL:* $${totalUSD.toFixed(2)} USD\n\n`;
            message += `Por favor, cont√°ctenme para finalizar la compra. ¬°Gracias! üòä`;
            const whatsappUrl = `https://wa.me/17439106116?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // --- INITIALIZATION ---
        // 1. Build the static structure of the page from data
        populateAutomationTable();
        populateServiceSections();
        
        // 2. Set initial prices and cart state
        updatePrices();
        
        // 3. Add event listeners that only update dynamic content
        billingToggle.addEventListener('change', updatePrices);
        currencySelector.addEventListener('change', updatePrices);
        cartFab.addEventListener('click', () => {
             cartModal.style.display = 'flex';
        });
        cartCheckoutBtn.addEventListener('click', checkout);
        document.body.addEventListener('click', (e) => {
            if (e.target.classList.contains('add-to-cart-btn')) {
                handleAddToCart(e);
            }
        });
    });
</script>

</body>
</html>
