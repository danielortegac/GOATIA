<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D'CORE - Regalos Artesanales con Corazón en Ecuador</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Descubre en D'CORE regalos únicos y artesanales, hechos con el corazón. Tejidos, maderas talladas y bordados que cuentan una historia. Envíos a todo Ecuador.">
    <meta name="keywords" content="regalos artesanales Ecuador, detalles personalizados, madera tallada, muñecos de lana, bordados a mano, D'CORE, regalos originales, artesanías ecuatorianas, cursos de tejido, asesorías, calendario de regalos">
    <meta name="author" content="D'CORE">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.dcore.com/">
    <meta property="og:title" content="D'CORE - Un Legado de Detalles del Corazón">
    <meta property="og:description" content="Regalos únicos y artesanales hechos con amor. Tejidos, maderas talladas y bordados que cuentan una historia.">
    <meta property="og:image" content="./logo-dcore.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.dcore.com/">
    <meta property="twitter:title" content="D'CORE - Un Legado de Detalles del Corazón">
    <meta property="twitter:description" content="Regalos únicos y artesanales hechos con amor. Tejidos, maderas talladas y bordados que cuentan una historia.">
    <meta property="twitter:image" content="./logo-dcore.jpg">

    <link rel="icon" href="./logo-dcore.jpg" type="image/jpeg">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #FFF6E0;
            color: #333;
            overflow-x: hidden;
        }
        .font-serif { font-family: 'Cormorant Garamond', serif; }
        
        /* Paleta de colores */
        .bg-red { background-color: #E63946; }
        .bg-green { background-color: #339989; }
        .bg-orange { background-color: #F7B500; }
        .text-red { color: #E63946; }
        .text-green { color: #339989; }
        .text-orange { color: #F7B500; }

        .btn-primary {
            background-color: #E63946;
            color: white;
            padding: 0.85rem 2.5rem;
            border-radius: 9999px;
            font-weight: 600;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            box-shadow: 0 4px 10px rgba(230, 57, 70, 0.4);
            border: 2px solid transparent;
        }
        .btn-primary:hover {
            background-color: transparent;
            color: #E63946;
            border-color: #E63946;
            box-shadow: 0 6px 15px rgba(230, 57, 70, 0.2);
            transform: translateY(-4px);
        }

        .fade-in-up { opacity: 0; transform: translateY(40px); transition: opacity 1s cubic-bezier(0.19, 1, 0.22, 1), transform 1s cubic-bezier(0.19, 1, 0.22, 1); }
        .in-view { opacity: 1; transform: translateY(0); }
        
        .product-card {
            background-color: #fff;
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1), box-shadow 0.4s cubic-bezier(0.19, 1, 0.22, 1);
            overflow: hidden;
            position: relative;
        }
        .product-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.12);
        }
        .product-card img { transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1); }
        .product-card:hover img { transform: scale(1.08); }
        
        #cart-overlay, #chatbot-overlay, #calendar-overlay {
            position: fixed; inset: 0; background-color: rgba(0,0,0,0.5); z-index: 49; opacity: 0; transition: opacity 0.5s cubic-bezier(0.23, 1, 0.32, 1); pointer-events: none;
        }
        #cart-overlay.open, #chatbot-overlay.open, #calendar-overlay.open { opacity: 1; pointer-events: auto; }

        .slide-in-right { transform: translateX(100%); transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1); }
        .slide-in-right.open { transform: translateX(0); }
        
        .slide-in-bottom { transform: translateY(100%); transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1); }
        .slide-in-bottom.open { transform: translateY(0); }

        .cart-count {
            top: -0.5rem; right: -0.5rem; background-color: #E63946; color: white; border-radius: 9999px; font-size: 0.75rem; width: 1.25rem; height: 1.25rem; display: flex; justify-content: center; align-items: center; font-weight: bold;
        }
        
        .sale-badge { position: absolute; top: 1rem; left: 1rem; background-color: #E63946; color: white; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: bold; font-size: 0.875rem; z-index: 10; }
        
        header { transition: background-color 0.4s ease, box-shadow 0.4s ease; }
        header.scrolled { background-color: rgba(255, 246, 224, 0.95); box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }

        .stagger-child { opacity: 0; transform: translateY(30px); transition: opacity 0.8s cubic-bezier(0.19, 1, 0.22, 1), transform 0.8s cubic-bezier(0.19, 1, 0.22, 1); }
        .in-view .stagger-child { opacity: 1; transform: translateY(0); }
        
        /* Chatbot styles */
        #chatbot-btn { z-index: 50; animation: pulse 2s infinite; }
        #chatbot-modal {
            max-width: 90%;
            max-height: 80%;
            bottom: 0; left: 0; right: 0;
            margin: auto;
            border-radius: 1.5rem 1.5rem 0 0;
            z-index: 50;
            display: flex; flex-direction: column;
        }
        #chat-window { flex-grow: 1; overflow-y: auto; padding-bottom: 1rem; }
        .message {
            max-width: 80%;
            padding: 0.75rem 1rem;
            border-radius: 1.5rem;
            margin-bottom: 1rem;
            word-wrap: break-word;
        }
        .user-message { background-color: #E63946; color: white; align-self: flex-end; border-bottom-right-radius: 0; }
        .bot-message { background-color: #f0f0f0; color: #333; align-self: flex-start; border-bottom-left-radius: 0; }

        .chat-options-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        .chat-option-btn {
            background-color: #339989;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-weight: 500;
            font-size: 0.875rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .chat-option-btn:hover {
            background-color: #2b7d72;
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(51, 153, 137, 0.7); }
            70% { transform: scale(1.1); box-shadow: 0 0 0 10px rgba(51, 153, 137, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(51, 153, 137, 0); }
        }
        
        /* Calendar styles */
        .calendar-container {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.5rem;
            text-align: center;
        }
        .calendar-day {
            padding: 0.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }
        .calendar-day.current-month { background-color: #f3f4f6; }
        .calendar-day.today { background-color: #E63946; color: white; font-weight: bold; }
        .calendar-day.event { border: 2px solid #339989; }
        .calendar-day.user-event { border: 2px solid #F7B500; }
        .calendar-day:hover { background-color: #ddd; }
        .calendar-day:not(.current-month) { color: #aaa; }

        @media (max-width: 768px) {
            .calendar-container {
                gap: 0.25rem;
            }
            .calendar-day {
                padding: 0.25rem;
                font-size: 0.75rem;
            }
        }
        
        /* Countdown timer styles */
        .countdown-container {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }
        .countdown-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .countdown-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #E63946;
        }
        .countdown-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #555;
        }

        .course-card-content {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
        }

        .course-details li {
            position: relative;
            padding-left: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .course-details li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #339989;
            font-weight: bold;
        }

        /* --- BOTONES DE CARRUSEL MEJORADOS --- */
        .carousel-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(76, 60, 52, 0.5); /* #4C3C34 con opacidad */
            color: white;
            border: none;
            width: 2.75rem; /* 44px para mejor zona de toque */
            height: 2.75rem; /* 44px */
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 9999px;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .carousel-button:hover {
            background-color: rgba(76, 60, 52, 0.8);
            transform: translateY(-50%) scale(1.05);
            box-shadow: 0 6px 15px rgba(0,0,0,0.25);
        }
        .carousel-button.prev { left: 0.75rem; }
        .carousel-button.next { right: 0.75rem; }
        
        .carousel-container {
            position: relative;
            width: 100%;
            height: 320px; 
            overflow: hidden;
            border-radius: 1.5rem;
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        @media (min-width: 768px) { 
            .carousel-container {
                height: 60vh;
                max-height: 550px;
            }
        }
        
        .carousel-track {
            display: flex; height: 100%;
            transition: transform 1s cubic-bezier(0.65, 0, 0.35, 1);
        }
        .carousel-slide {
            min-width: 100%; height: 100%;
            background-size: cover;
            background-position: center;
        }

        /* Testimonial Carousel Styles */
        #testimonial-slider-wrapper {
            overflow: hidden;
            width: 100%;
        }
        #testimonial-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .testimonial-card {
            width: 100%;
            flex-shrink: 0;
            box-sizing: border-box;
            padding: 0 0.5rem;
        }

        @media (min-width: 768px) {
            #testimonial-track {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
                transform: none !important; /* Override JS transform */
            }
            .testimonial-card {
                width: auto;
                padding: 0;
            }
        }
        @media (min-width: 1024px) {
            #testimonial-track {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
    </style>
</head>
<body class="bg-yellow-50 text-gray-800">

    <!-- Header & Navigation -->
    <header class="sticky top-0 z-40 bg-yellow-50/80 backdrop-blur-lg py-4">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <a href="#inicio" class="flex items-center space-x-3">
                <img src="./logo-dcore.jpg" alt="D'CORE Logo" class="w-12 h-12 rounded-full">
                <span class="text-3xl font-serif font-bold text-red">D'CORE</span>
            </a>
            <nav class="hidden md:flex space-x-8 text-lg font-medium">
                <a href="#nosotros" class="hover:text-red transition-colors">Nuestra Historia</a>
                <a href="#productos" class="hover:text-red transition-colors">Productos</a>
                <a href="#cursos" class="hover:text-red transition-colors">Cursos</a>
                <a href="#asesorias" class="hover:text-red transition-colors">Asesorías</a>
                <a href="#testimonios" class="hover:text-red transition-colors">Opiniones</a>
            </nav>
            <div class="flex items-center space-x-4">
                <button id="cart-btn" class="relative">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 sm:h-9 sm:w-9 text-red" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 0 00-8 0v4M5 9h14l1 12H4L5 9z" /></svg>
                    <span id="cart-count" class="absolute cart-count hidden">0</span>
                </button>
                <button id="calendar-btn" class="relative">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 sm:h-9 sm:w-9 text-red" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                </button>
                <button id="chatbot-btn" class="fixed bottom-4 right-4 bg-green text-white p-3 rounded-full shadow-lg z-50 hover:bg-green/80 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.486 2 2 6.486 2 12c0 3.864 1.95 7.378 5 9.424l-1.928 1.928.707.707 2.016-2.016c.394.073.799.112 1.21.112 5.514 0 10-4.486 10-10S17.514 2 12 2zM8 13.5c-.828 0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5 1.5.672 1.5 1.5-.672 1.5-1.5 1.5zM12 13.5c-.828 0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5 1.5.672 1.5 1.5-.672 1.5-1.5 1.5zM16 13.5c-.828 0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5 1.5.672 1.5 1.5-.672 1.5-1.5 1.5z"/></svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Cart Modal -->
    <div id="cart-overlay"></div>
    <div id="cart-modal" class="slide-in-right fixed top-0 right-0 h-full w-full md:w-96 bg-white shadow-2xl z-50 p-6 flex flex-col">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold font-serif text-red">Tu Carrito</h2>
            <button id="close-cart-btn" class="text-red text-4xl leading-none">&times;</button>
        </div>
        <div id="cart-items" class="flex-1 overflow-y-auto space-y-4 pr-2"></div>
        <div id="cart-summary" class="mt-6 pt-4 border-t border-gray-200">
            <div class="flex justify-between items-center text-xl font-bold mb-4"><span class="font-serif">Total:</span><span id="cart-total">$0.00</span></div>
            <button id="whatsapp-btn" class="btn-primary w-full text-center">Enviar por WhatsApp</button>
        </div>
    </div>
    
    <!-- Chatbot Modal -->
    <div id="chatbot-overlay"></div>
    <div id="chatbot-modal" class="slide-in-bottom fixed h-3/4 w-full md:w-96 bg-white shadow-2xl p-6 flex flex-col">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold font-serif text-green">Chat de D'CORE</h2>
            <button id="close-chatbot-btn" class="text-red text-3xl leading-none">&times;</button>
        </div>
        <div id="chat-window" class="flex flex-col space-y-4 flex-1"></div>
        <div class="mt-4 flex flex-col space-y-2">
            <div id="chat-options" class="chat-options-container"></div>
            <div class="flex space-x-2">
                <input type="text" id="chat-input" class="flex-1 rounded-full px-4 py-2 bg-gray-100 border-2 border-green/50 focus:outline-none focus:ring-2 focus:ring-green" placeholder="Escriba su mensaje...">
                <button id="send-btn" class="bg-green text-white rounded-full p-2.5 hover:bg-green/80 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Calendar Modal -->
    <div id="calendar-overlay"></div>
    <div id="calendar-modal" class="slide-in-right fixed top-0 right-0 h-full w-full md:w-96 bg-white shadow-2xl z-50 p-6 flex flex-col">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold font-serif text-orange">Tu Calendario de Regalos</h2>
            <button id="close-calendar-btn" class="text-red text-4xl leading-none">&times;</button>
        </div>
        
        <div class="flex flex-col md:flex-row items-start md:space-x-4">
            <div class="w-full md:w-1/2 mb-4 md:mb-0">
                <div class="flex justify-between items-center mb-4">
                    <button id="prev-month-btn" class="p-2 rounded-full hover:bg-gray-100 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg></button>
                    <h3 id="current-month-year" class="text-lg font-semibold"></h3>
                    <button id="next-month-btn" class="p-2 rounded-full hover:bg-gray-100 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg></button>
                </div>
                <div class="calendar-container text-gray-500 font-bold mb-2 text-sm">
                    <span>Dom</span><span>Lun</span><span>Mar</span><span>Mié</span><span>Jue</span><span>Vie</span><span>Sáb</span>
                </div>
                <div id="calendar-days" class="calendar-container flex-1"></div>
            </div>
            <div class="w-full md:w-1/2">
                <h4 class="font-bold text-lg mb-2">Fechas especiales del mes:</h4>
                <ul id="month-events" class="text-sm text-gray-600"></ul>
                <div class="mt-8 pt-4 border-t border-gray-200">
                    <h4 class="font-bold text-lg mb-2">Añadir una nueva fecha:</h4>
                    <div class="flex flex-col space-y-2">
                        <input type="text" id="event-name-input" class="rounded-lg p-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange" placeholder="Nombre del evento">
                        <input type="date" id="event-date-input" class="rounded-lg p-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange">
                        <button id="add-event-btn" class="btn-primary">Añadir fecha</button>
                        <button id="whatsapp-reminder-btn" class="btn-primary bg-green text-white">Recordatorio por WhatsApp</button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Main Hero Section -->
    <main>
        <section id="inicio" class="relative min-h-screen flex items-center justify-center text-center px-6 overflow-hidden bg-yellow-50">
            <div class="relative z-10 fade-in-up in-view">
                <img src="./logo-dcore.jpg" alt="D'CORE Logo" class="stagger-child mx-auto mb-4 w-24 h-24 rounded-full" style="transition-delay: 100ms">
                <h1 style="transition-delay: 200ms" class="stagger-child text-6xl md:text-8xl font-serif font-extrabold text-red">D'CORE</h1>
                <p style="transition-delay: 300ms" class="stagger-child text-xl md:text-3xl font-serif text-gray-700">Un Legado de Detalles del Corazón</p>
                <p style="transition-delay: 400ms" class="stagger-child mt-6 max-w-2xl mx-auto text-lg md:text-xl font-light">Donde cada regalo es una historia. Explora nuestras creaciones tejidas, talladas y bordadas, hechas con amor y autenticidad.</p>
                <a style="transition-delay: 500ms" href="#productos" class="stagger-child mt-10 inline-block btn-primary">Explorar la Colección</a>
            </div>
        </section>

        <!-- Countdown Section -->
        <section id="countdown" class="container mx-auto px-6 py-12 text-center fade-in-up">
            <h2 class="text-4xl md:text-5xl font-serif font-bold text-red mb-6">¡Super Oferta!</h2>
            <p class="text-lg mb-4">No se pierda el descuento del 20% en toda la colección de madera. ¡Solo por tiempo limitado!</p>
            <div id="countdown-timer" class="countdown-container">
                <div class="countdown-item">
                    <span id="days" class="countdown-value">00</span>
                    <span class="countdown-label">Días</span>
                </div>
                <div class="countdown-item">
                    <span id="hours" class="countdown-value">00</span>
                    <span class="countdown-label">Horas</span>
                </div>
                <div class="countdown-item">
                    <span id="minutes" class="countdown-value">00</span>
                    <span class="countdown-label">Minutos</span>
                </div>
                <div class="countdown-item">
                    <span id="seconds" class="countdown-value">00</span>
                    <span class="countdown-label">Segundos</span>
                </div>
            </div>
        </section>
        
        <!-- Calendar Section -->
        <section id="gift-calendar" class="container mx-auto px-6 py-20 fade-in-up">
            <div class="in-view bg-green/20 rounded-3xl p-8 md:p-12">
                <h2 class="text-4xl md:text-5xl font-serif font-bold text-center text-green mb-6">Su Calendario de Regalos</h2>
                <p class="text-center text-lg max-w-3xl mx-auto mb-10">
                    Marque sus fechas importantes y reciba recordatorios. Nunca olvide un cumpleaños o aniversario de nuevo.
                </p>
                <div class="flex flex-col md:flex-row md:space-x-8">
                    <div class="w-full md:w-1/2 mb-8 md:mb-0">
                        <div class="flex justify-between items-center mb-4">
                            <button id="prev-month-section-btn" class="p-2 rounded-full hover:bg-gray-100 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg></button>
                            <h3 id="current-month-year-section" class="text-lg font-semibold"></h3>
                            <button id="next-month-section-btn" class="p-2 rounded-full hover:bg-gray-100 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg></button>
                        </div>
                        <div class="calendar-container text-gray-500 font-bold mb-2 text-sm">
                            <span>Dom</span><span>Lun</span><span>Mar</span><span>Mié</span><span>Jue</span><span>Vie</span><span>Sáb</span>
                        </div>
                        <div id="calendar-days-section" class="calendar-container flex-1"></div>
                    </div>
                    <div class="w-full md:w-1/2">
                        <div class="mt-4 md:mt-0">
                            <h4 class="font-bold text-lg mb-2">Fechas de este mes:</h4>
                            <ul id="month-events-section" class="text-sm text-gray-600"></ul>
                        </div>
                        <div class="mt-8 pt-4 border-t border-gray-300">
                            <h4 class="font-bold text-lg mb-2">Añadir una nueva fecha:</h4>
                            <div class="flex flex-col space-y-2">
                                <input type="text" id="event-name-input-section" class="rounded-lg p-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange text-black" placeholder="Nombre del evento">
                                <input type="date" id="event-date-input-section" class="rounded-lg p-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange text-black">
                                <button id="add-event-btn-section" class="btn-primary">Añadir fecha</button>
                                <button id="whatsapp-reminder-btn-section" class="btn-primary bg-green text-white text-xs py-2">Recordatorio por WhatsApp</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Our Story Section -->
        <section id="nosotros" class="container mx-auto px-6 py-20 fade-in-up">
            <div class="in-view">
                <h2 class="text-4xl md:text-5xl font-serif font-bold text-center mb-12 stagger-child" style="transition-delay: 0ms;">Nuestra Historia</h2>
                <div class="flex flex-col md:flex-row items-center md:space-x-12">
                    <div class="w-full md:flex-1 mb-8 md:mb-0 stagger-child" style="transition-delay: 100ms;">
                        <div class="carousel-container">
                             <div class="carousel-track" id="main-carousel-track"></div>
                             <button id="prev-btn" class="carousel-button prev"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" /></svg></button>
                             <button id="next-btn" class="carousel-button next"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg></button>
                        </div>
                    </div>
                    <div class="flex-1 stagger-child" style="transition-delay: 200ms;">
                        <p class="text-lg leading-relaxed mb-4">La historia de D'CORE no empezó en un bazar, sino en intercambios de nueve hermanos: Pepe, Alba, Marco, Paty, Lenin, Lupe, Kathy, Cubi y Marie. Crecieron en un hogar donde los regalos no se compraban, se creaban.</p>
                        <p class="text-lg leading-relaxed mb-4">Un amigo, conmovido por un obsequio, dijo: <span class="font-semibold italic text-red">“Su regalo tiene un valor que el dinero no puede comprar”</span>. Esa frase encendió una chispa y transformó una tradición familiar en una misión: compartir esa magia con el mundo.</p>
                        <p class="text-lg leading-relaxed">Así nació D'CORE, uniendo talentos en madera, pintura, bordado y tejido. Cada pieza es un fragmento de nuestra historia, un regalo que conecta corazones y honra las tradiciones familiares que valoran los lazos entre generaciones.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Product Gallery Section -->
        <section id="productos" class="container mx-auto px-6 py-20 bg-orange/20 rounded-3xl my-12 fade-in-up">
            <h2 class="text-4xl md:text-5xl font-serif font-bold text-center mb-12">Nuestros Productos</h2>
            <p class="text-center text-lg max-w-3xl mx-auto mb-10">
                Además de nuestras colecciones, ofrecemos la posibilidad de crear **modelos personalizados de cualquier personaje o serie**. ¡Haga su idea realidad!
            </p>
            <div id="product-grid" class="grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-8"></div>
        </section>
        
        <!-- Courses Section -->
        <section id="cursos" class="container mx-auto px-6 py-20 fade-in-up">
            <h2 class="text-4xl md:text-5xl font-serif font-bold text-center text-green mb-12">Clases y Cursos</h2>
            <p class="text-center text-lg max-w-3xl mx-auto mb-10">
                ¡No deje que la tradición se pierda! Aprenda con nuestros cursos personalizados. Ideales para un regalo único o para compartir con su pareja de una manera terapéutica y de conexión.
            </p>
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Course 1 -->
                <div class="product-card p-6 text-center flex flex-col justify-between">
                    <div>
                        <img src="./IMG-20250830-WA0045.jpg" alt="Curso de bordado de muñecos" class="w-full h-32 md:h-48 object-cover rounded-xl mb-4">
                        <h3 class="text-lg sm:text-xl font-bold font-serif text-green mb-2">Taller Inicial: Bordado de Muñecos</h3>
                        <p class="text-gray-600 mb-4 text-xs sm:text-sm">Aprenda las técnicas fundamentales del bordado para crear personajes adorables. Incluye materiales y guía paso a paso.</p>
                        <ul class="text-left text-xs sm:text-sm text-gray-500 mb-4 course-details">
                            <li>Introducción a la fibra y materiales</li>
                            <li>Técnicas de costura y acabado</li>
                            <li>Diseño de personajes personalizados</li>
                        </ul>
                    </div>
                    <div class="flex items-center justify-between mt-auto mb-4">
                        <span class="text-lg sm:text-xl font-bold text-green">$55.00</span>
                        <a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20estoy%20interesado%20en%20el%20Taller%20Inicial%20de%20Bordado%20de%20Muñecos." target="_blank" class="btn-primary text-xs sm:text-sm">Inscribirse</a>
                    </div>
                </div>
                <!-- Course 2 -->
                <div class="product-card p-6 text-center flex flex-col justify-between">
                    <div>
                        <img src="./IMG-20250830-WA0046.jpg" alt="Taller creativo para parejas" class="w-full h-32 md:h-48 object-cover rounded-xl mb-4">
                        <h3 class="text-lg sm:text-xl font-bold font-serif text-green mb-2">Taller de Bordado Creativo en Pareja</h3>
                        <p class="text-gray-600 mb-4 text-xs sm:text-sm">Un plan único para crear juntos una obra de arte bordada con significado personal. Es un espacio terapéutico para conectar y divertirse.</p>
                        <ul class="text-left text-xs sm:text-sm text-gray-500 mb-4 course-details">
                             <li>Bordado colaborativo y técnicas de diseño</li>
                             <li>Creación de un proyecto en pareja</li>
                             <li>Sesión de fotos y souvenirs al finalizar</li>
                        </ul>
                    </div>
                    <div class="flex items-center justify-between mt-auto mb-4">
                        <span class="text-lg sm:text-xl font-bold text-green">$90.00</span>
                        <a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20estoy%20interesado%20en%20el%20Taller%20de%20Bordado%20Creativo%20en%20Pareja." target="_blank" class="btn-primary text-xs sm:text-sm">Inscribirse</a>
                    </div>
                </div>
                <!-- Course 3 -->
                <div class="product-card p-6 text-center flex flex-col justify-between">
                    <div>
                        <img src="./IMG-20250830-WA0034.jpg" alt="Taller de tejeduría en madera 1:1" class="w-full h-32 md:h-48 object-cover rounded-xl mb-4">
                        <h3 class="text-lg sm:text-xl font-bold font-serif text-green mb-2">Taller de Tejeduría en Madera (1 a 1)</h3>
                        <p class="text-gray-600 mb-4 text-xs sm:text-sm">Sesión personalizada con un artesano para aprender a tejer en madera, creando un regalo o una pieza de decoración a su gusto.</p>
                        <ul class="text-left text-xs sm:text-sm text-gray-500 mb-4 course-details">
                             <li>Guía personalizada en técnicas de tejeduría</li>
                             <li>Creación de un objeto decorativo</li>
                             <li>Consejos para cuidado y mantenimiento</li>
                        </ul>
                    </div>
                    <div class="flex items-center justify-between mt-auto mb-4">
                        <span class="text-lg sm:text-xl font-bold text-green">$75.00</span>
                        <a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20estoy%20interesado%20en%20el%20Taller%20de%20Tejeduría%20en%20Madera%20(1%20a%201)." target="_blank" class="btn-primary text-xs sm:text-sm">Inscribirse</a>
                    </div>
                </div>
                <!-- Course 4 -->
                <div class="product-card p-6 text-center flex flex-col justify-between">
                    <div>
                        <img src="./IMG-20250830-WA0022.jpg" alt="Taller de diseño en madera" class="w-full h-32 md:h-48 object-cover rounded-xl mb-4">
                        <h3 class="text-lg sm:text-xl font-bold font-serif text-green mb-2">Taller de Diseño y Corte en Madera</h3>
                        <p class="text-gray-600 mb-4 text-xs sm:text-sm">Curso avanzado para aprender a cortar y diseñar piezas de madera para la creación de objetos más grandes, como pequeños muebles.</p>
                        <ul class="text-left text-xs sm:text-sm text-gray-500 mb-4 course-details">
                            <li>Introducción a herramientas de corte</li>
                            <li>Técnicas de ensamblaje y diseño</li>
                            <li>Creación de un mueble pequeño o estante</li>
                        </ul>
                    </div>
                    <div class="flex items-center justify-between mt-auto mb-4">
                        <span class="text-lg sm:text-xl font-bold text-green">$120.00</span>
                        <a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20estoy%20interesado%20en%20el%20Taller%20de%20Diseño%20y%20Corte%20en%20Madera." target="_blank" class="btn-primary text-xs sm:text-sm">Inscribirse</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Advisory Section -->
        <section id="asesorias" class="container mx-auto px-6 py-20 fade-in-up">
            <div class="in-view flex flex-col md:flex-row-reverse items-center gap-12 bg-green/20 rounded-3xl p-8 md:p-12">
                <div class="stagger-child flex-1 text-center md:text-left" style="transition-delay: 0ms;">
                    <h2 class="text-4xl md:text-5xl font-serif font-bold text-green mb-4">Asesorías Personalizadas</h2>
                    <p class="text-lg text-gray-600 mb-6">
                        ¿Tiene una idea en mente pero no sabe por dónde empezar? Con nuestras asesorías, le ayudamos a materializarla. Desde el concepto, elección de materiales, hasta la técnica, le guiamos en cada paso para que su proyecto sea un éxito.
                    </p>
                    <a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20quisiera%20una%20asesoría%20personalizada." target="_blank" class="btn-primary bg-green text-white border-green hover:bg-transparent hover:text-green text-sm">Contratar Asesoría ($30/hora)</a>
                </div>
                <div class="stagger-child flex-1 w-full" style="transition-delay: 100ms;">
                    <img src="./IMG-20250830-WA0035.jpg" alt="Asesoría personalizada" class="w-full h-auto object-cover rounded-2xl shadow-xl transform transition-transform duration-500 hover:scale-105">
                </div>
            </div>
        </section>
        
        <!-- Delivery Banner -->
        <section class="container mx-auto px-6 pt-12 pb-4 fade-in-up">
             <div class="bg-red text-white text-center p-4 rounded-2xl shadow-lg flex items-center justify-center space-x-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0" /></svg>
                <p class="font-semibold tracking-wider text-lg">ENTREGAS EN TODO EL ECUADOR</p>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonios" class="container mx-auto px-6 py-20 fade-in-up">
            <h2 class="text-4xl md:text-5xl font-serif font-bold text-center text-orange mb-12">Lo que dicen nuestros clientes</h2>
            <div class="relative">
                <div id="testimonial-slider-wrapper">
                    <div id="testimonial-track">
                        <!-- Testimonial Card 1 -->
                        <div class="testimonial-card">
                            <div class="product-card h-full p-6 md:p-8 text-left flex flex-col">
                                <div class="flex items-center mb-4">
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                </div>
                                <p class="text-gray-600 italic mb-4 flex-grow">"¡El muñeco de lana es adorable! La calidad es increíble y se nota el cariño en cada puntada. Fue el regalo perfecto para mi sobrina."</p>
                                <p class="font-bold text-right text-orange mt-auto">- Sofía M. <span class="font-light text-gray-500">de Guayaquil</span></p>
                            </div>
                        </div>
                        <!-- Testimonial Card 2 -->
                        <div class="testimonial-card">
                           <div class="product-card h-full p-6 md:p-8 text-left flex flex-col">
                                <div class="flex items-center mb-4">
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                </div>
                                <p class="text-gray-600 italic mb-4 flex-grow">"El detalle en madera que compré superó mis expectativas. ¡Calidad y arte puro! Se nota el amor en cada pieza."</p>
                                <p class="font-bold text-right text-orange mt-auto">- Carlos G. <span class="font-light text-gray-500">de Quito</span></p>
                            </div>
                        </div>
                        <!-- Testimonial Card 3 -->
                        <div class="testimonial-card">
                           <div class="product-card h-full p-6 md:p-8 text-left flex flex-col">
                                <div class="flex items-center mb-4">
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                </div>
                                <p class="text-gray-600 italic mb-4 flex-grow">"El servicio de concierge para regalos es una maravilla. Programé un obsequio para mi aniversario y llegó justo a tiempo. ¡Totalmente recomendado!"</p>
                                <p class="font-bold text-right text-orange mt-auto">- David R. <span class="font-light text-gray-500">de Cuenca</span></p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Mobile Navigation Buttons -->
                <button id="testimonial-prev-btn" class="carousel-button prev md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" /></svg></button>
                <button id="testimonial-next-btn" class="carousel-button next md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg></button>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-red text-white py-12 mt-12">
        <div class="container mx-auto px-6 text-center">
            <img src="./logo-dcore.jpg" alt="D'CORE Logo" class="mx-auto mb-6 w-24 h-24 rounded-full border-4 border-white">
            <h3 class="text-3xl font-serif font-bold">D'CORE</h3>
            <p class="mt-2 text-lg text-white">Un Legado de Detalles del Corazón</p>
            <div class="flex justify-center space-x-6 my-6">
                 <a href="https://wa.me/593987786632" target="_blank" class="text-white hover:text-gray-200 transition-transform transform hover:scale-110"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99 0-3.903-.52-5.588-1.48L.057 24zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.886-.001 2.267.655 4.398 1.803 6.12l-1.34 4.885 5.023-1.311z"/></svg></a>
                 <a href="https://www.instagram.com/_hannah.yanez/" target="_blank" class="text-white hover:text-gray-200 transition-transform transform hover:scale-110"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919-4.919C8.416 2.175 8.796 2.163 12 2.163m0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948s.014 3.667.072 4.947c.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072s3.667-.014 4.947-.072c4.358-.2 6.78-2.618 6.98-6.98.059-1.281.073-1.689.073-4.948s-.014-3.667-.072-4.947c-.2-4.358-2.618-6.78-6.98-6.98C8.333 0 7.927.014 4.667.072H12zM12 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44 1.441-.645 1.441-1.44-.645-1.44-1.441-1.44z"/></svg></a>
            </div>
            <div class="mt-8 pt-8 border-t border-red/40">
                <p class="text-sm text-red/60">&copy; 2025 D'CORE. Todos los derechos reservados.</p>
                <p class="text-sm text-red/60 mt-4 tracking-wider">Diseñado por <a href="https://www.goatify.app/web" target="_blank" class="font-semibold underline hover:text-white">Goatify IA</a> en colaboración con Hannah Yánez, fundadora de la marca.</p>
            </div>
        </div>
    </footer>

    <div id="toast" class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-red text-white px-6 py-3 rounded-full shadow-lg transition-transform duration-500 transform translate-y-20 opacity-0">
        Producto añadido al carrito.
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Local storage for calendar events
            function getLocalEvents() {
                try {
                    const events = JSON.parse(localStorage.getItem('userEvents')) || [];
                    return events;
                } catch (e) {
                    console.error("Error al obtener eventos de localStorage:", e);
                    return [];
                }
            }

            function saveLocalEvents(events) {
                try {
                    localStorage.setItem('userEvents', JSON.stringify(events));
                } catch (e) {
                    console.error("Error al guardar eventos en localStorage:", e);
                }
            }

            // Smooth scrolling
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                });
            });
            
            // Header scroll effect
            const header = document.querySelector('header');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 20) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });

            // Intersection Observer for fade-in animations
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('in-view');
                        entry.target.querySelectorAll('.stagger-child').forEach((child, i) => {
                             child.style.transitionDelay = `${i * 150}ms`;
                        });
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            document.querySelectorAll('.fade-in-up').forEach(element => { observer.observe(element); });
            
            // Product data
            const products = [
                { name: "Muñeco de Lana", price: 25.00, image: "./IMG-20250830-WA0045.jpg" },
                { name: "Llavero Tallado", price: 15.00, image: "./IMG-20250830-WA0029.jpg", discount: 15 },
                { name: "Camiseta Bordada", price: 40.00, image: "./IMG-20250830-WA0046.jpg" },
                { name: "Caja de Madera", price: 30.00, image: "./IMG-20250830-WA0030.jpg", discount: 20 },
                { name: "Figura Tejida", price: 20.00, image: "./IMG-20250830-WA0047.jpg" },
                { name: "Detalle Tallado", price: 18.00, image: "./IMG-20250830-WA0027.jpg", discount: 20 },
                { name: "Muñeco de Lana (Diseño 2)", price: 25.00, image: "./IMG-20250830-WA0026.jpg" },
                { name: "Llavero Tallado (Diseño 2)", price: 15.00, image: "./IMG-20250830-WA0023.jpg", discount: 20 },
                { name: "Camiseta Bordada (Diseño 2)", price: 40.00, image: "./IMG-20250830-WA0024.jpg" },
                { name: "Figura de Madera", price: 35.00, image: "./IMG-20250830-WA0020.jpg", discount: 20 },
                { name: "Muñeco Personalizado", price: 50.00, image: "./IMG-20250830-WA0021.jpg" },
                { name: "Caja de Madera (Diseño 2)", price: 32.00, image: "./IMG-20250830-WA0022.jpg", discount: 20 },
                { name: "Bolso de Tela", price: 28.00, image: "./IMG-20250830-WA0042.jpg" },
                { name: "Bolso de Tela (Diseño 2)", price: 28.00, image: "./IMG-20250830-WA0043.jpg" },
                { name: "Marco de Madera", price: 22.00, image: "./IMG-20250830-WA0044.jpg", discount: 20 },
                { name: "Llavero de Metal", price: 10.00, image: "./IMG-20250830-WA0039.jpg" },
                { name: "Muñeca de Lana", price: 25.00, image: "./IMG-20250830-WA0040.jpg" },
                { name: "Tarro de Cerámica", price: 15.00, image: "./IMG-20250830-WA0041.jpg" },
                { name: "Alcancía de Madera", price: 20.00, image: "./IMG-20250830-WA0037.jpg", discount: 20 },
                { name: "Reloj de Pared", price: 55.00, image: "./IMG-20250830-WA0038.jpg", discount: 20 },
                { name: "Cuadro de Madera", price: 45.00, image: "./IMG-20250830-WA0036.jpg", discount: 20 },
                { name: "Collar de Madera", price: 12.00, image: "./IMG-20250830-WA0033.jpg", discount: 20 },
                { name: "Pulsera de Madera", price: 8.00, image: "./IMG-20250830-WA0034.jpg", discount: 20 },
                { name: "Bordado Personalizado", price: 50.00, image: "./IMG-20250830-WA0035.jpg" },
                { name: "Cenicero de Madera", price: 20.00, image: "./IMG-20250830-WA0031.jpg", discount: 20 },
                { name: "Vasos de Madera", price: 15.00, image: "./IMG-20250830-WA0032.jpg", discount: 20 },
                { name: "Llavero de Peluche", price: 10.00, image: "./IMG-20250830-WA0028.jpg" },
            ];

            const productGrid = document.getElementById('product-grid');
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.classList.add('product-card', 'flex', 'flex-col', 'text-center');

                let priceHTML = `<span class="text-2xl font-bold text-red mb-4">$${product.price.toFixed(2)}</span>`;
                let saleBadgeHTML = '';
                let finalPrice = product.price;

                if (product.discount) {
                    finalPrice = product.price * (1 - product.discount / 100);
                    saleBadgeHTML = `<div class="sale-badge">-${product.discount}%</div>`;
                    priceHTML = `
                        <div class="flex items-center justify-center space-x-2 mb-4">
                            <span class="text-xl font-bold text-red">$${finalPrice.toFixed(2)}</span>
                            <span class="text-lg text-gray-400 line-through">$${product.price.toFixed(2)}</span>
                        </div>
                    `;
                }

                productCard.innerHTML = `
                    ${saleBadgeHTML}
                    <div class="overflow-hidden rounded-t-2xl"><img src="${product.image}" alt="${product.name}" class="w-full h-48 sm:h-64 object-cover"></div>
                    <div class="p-4 md:p-6 flex-1 flex flex-col">
                        <h3 class="text-lg md:text-xl font-semibold mb-2 flex-grow">${product.name}</h3>
                        ${priceHTML}
                        <button class="add-to-cart-btn btn-primary w-full mt-auto text-sm">Añadir al Carrito</button>
                    </div>
                `;
                productGrid.appendChild(productCard);
            });
            // Shopping Cart Logic
            let cart = [];
            const cartBtn = document.getElementById('cart-btn');
            const closeCartBtn = document.getElementById('close-cart-btn');
            const cartModal = document.getElementById('cart-modal');
            const cartOverlay = document.getElementById('cart-overlay');
            const cartItemsContainer = document.getElementById('cart-items');
            const cartTotalSpan = document.getElementById('cart-total');
            const cartCountSpan = document.getElementById('cart-count');
            const whatsappBtn = document.getElementById('whatsapp-btn');
            const toast = document.getElementById('toast');

            function openCart() { cartModal.classList.add('open'); cartOverlay.classList.add('open'); }
            function closeCart() { cartModal.classList.remove('open'); cartOverlay.classList.remove('open'); }

            cartBtn.addEventListener('click', openCart);
            closeCartBtn.addEventListener('click', closeCart);
            cartOverlay.addEventListener('click', closeCart);

            document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const name = e.target.closest('.product-card').querySelector('h3').textContent;
                    const priceText = e.target.closest('.product-card').querySelector('span').textContent;
                    const price = parseFloat(priceText.replace('$', ''));
                    const image = e.target.closest('.product-card').querySelector('img').src;
                    const existingItem = cart.find(item => item.name === name);
                    if (existingItem) {
                        existingItem.quantity++;
                    } else {
                        cart.push({ name, price: parseFloat(price), image, quantity: 1 });
                    }
                    updateCart();
                    showToast(`Se añadió ${name} al carrito.`);
                });
            });

            cartItemsContainer.addEventListener('click', (e) => {
                const target = e.target.closest('button');
                if (!target) return;
                
                const name = target.closest('.flex-1').querySelector('h4').textContent;
                const action = target.dataset.action;
                const itemInCart = cart.find(item => item.name === name);
                if (!itemInCart) return;

                if (action === 'increase') {
                    itemInCart.quantity++;
                } else if (action === 'decrease') {
                    itemInCart.quantity--;
                    if (itemInCart.quantity === 0) {
                        cart = cart.filter(item => item.name !== name);
                    }
                } else if (action === 'remove') {
                    cart = cart.filter(item => item.name !== name);
                }
                updateCart();
            });

            function updateCart() {
                cartItemsContainer.innerHTML = '';
                let total = 0;
                let totalItems = 0;
                if (cart.length === 0) {
                    cartItemsContainer.innerHTML = '<p class="text-center text-gray-500">El carrito está vacío.</p>';
                    cartCountSpan.classList.add('hidden');
                } else {
                    cart.forEach(item => {
                        total += item.price * item.quantity;
                        totalItems += item.quantity;
                        const itemElement = document.createElement('div');
                        itemElement.classList.add('flex', 'items-center', 'space-x-2', 'p-2', 'bg-gray-50', 'rounded-lg');
                        itemElement.innerHTML = `
                            <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded-lg">
                            <div class="flex-1">
                                <h4 class="font-bold text-sm">${item.name}</h4>
                                <div class="flex items-center space-x-2 mt-1">
                                    <button data-action="decrease" data-name="${item.name}" class="quantity-btn w-6 h-6 bg-gray-200 rounded-full font-bold">-</button>
                                    <span>${item.quantity}</span>
                                    <button data-action="increase" data-name="${item.name}" class="quantity-btn w-6 h-6 bg-gray-200 rounded-full font-bold">+</button>
                                </div>
                            </div>
                            <div class="text-right">
                               <span class="font-semibold text-sm">$${(item.price * item.quantity).toFixed(2)}</span>
                               <button data-action="remove" data-name="${item.name}" class="remove-btn text-red text-xs mt-1">Eliminar</button>
                            </div>
                        `;
                        cartItemsContainer.appendChild(itemElement);
                    });
                    cartCountSpan.classList.remove('hidden');
                    cartCountSpan.textContent = totalItems;
                }
                cartTotalSpan.textContent = `$${total.toFixed(2)}`;
            }

            whatsappBtn.addEventListener('click', () => {
                if (cart.length === 0) {
                    showToast("Su carrito está vacío.");
                    return;
                }
                let message = "¡Hola D'CORE! Me gustaría comprar los siguientes productos:\n\n";
                cart.forEach(item => {
                    message += `* ${item.quantity} x ${item.name} ($${(item.price * item.quantity).toFixed(2)})\n`;
                });
                message += `\nTotal: $${cartTotalSpan.textContent.replace('$', '')}`;
                const whatsappUrl = `https://wa.me/593987786632?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            });
            
            function showToast(message) {
                toast.textContent = message;
                toast.classList.remove('opacity-0', 'translate-y-20');
                setTimeout(() => { toast.classList.add('opacity-0', 'translate-y-20'); }, 3000);
            }

            // Chatbot Logic
            const chatbotBtn = document.getElementById('chatbot-btn');
            const closeChatbotBtn = document.getElementById('close-chatbot-btn');
            const chatbotModal = document.getElementById('chatbot-modal');
            const chatbotOverlay = document.getElementById('chatbot-overlay');
            const chatInput = document.getElementById('chat-input');
            const sendBtn = document.getElementById('send-btn');
            const chatWindow = document.getElementById('chat-window');
            const chatOptionsContainer = document.getElementById('chat-options');

            const chatbotConversations = {
                'saludo': {
                    text: "¡Hola! Soy el asistente virtual de D'CORE. Con gusto le guiaré en lo que necesite. ¿Desea que le muestre nuestras categorías de información?",
                    options: ['Conocer opciones', 'No, gracias']
                },
                'conocer opciones': {
                    text: "Le puedo ayudar con:\n- Productos\n- Cursos\n- Asesorías\n- La Marca\n- Contacto\nPor favor, seleccione la opción que desee conocer:",
                    options: ['Productos', 'Cursos', 'Asesorías', 'La Marca', 'Contacto']
                },
                'no, gracias': {
                    text: "Entendido. Si cambia de opinión, puede iniciar la conversación nuevamente. ¡Que tenga un excelente día!"
                },
                'productos': {
                    text: "Nuestros productos son regalos artesanales de lana, madera y bordado. ¿Le gustaría saber sobre alguno en particular o prefiere ver la colección?",
                    options: ['Colección', 'Personalizados', 'Volver']
                },
                'colección': {
                    text: "Puede ver nuestra colección completa en la sección 'Nuestros Productos'. Si desea información sobre algún precio, puede preguntarme.",
                    options: ['Volver']
                },
                'personalizados': {
                    text: "También hacemos modelos personalizados de cualquier personaje o serie. Para una cotización, le recomiendo contactarnos directamente por WhatsApp.",
                    options: ['Volver']
                },
                'cursos': {
                    text: "Ofrecemos talleres para que aprenda a crear con sus propias manos. Contamos con:\n- Taller Inicial: Bordado de Muñecos ($55)\n- Taller de Bordado Creativo para Parejas ($90)\n- Taller de Tejeduría en Madera (1 a 1) ($75)\n- Taller de Diseño y Corte en Madera ($120)\n¿Sobre cuál le gustaría saber más?",
                    options: ['Taller Bordado de Muñecos', 'Taller Bordado Parejas', 'Taller Tejeduría Madera', 'Taller Diseño en Madera', 'Volver']
                },
                'taller bordado de muñecos': {
                    text: "El Taller Inicial de Bordado de Muñecos le enseñará las técnicas fundamentales para crear adorables personajes de lana y tela, ideal para principiantes.",
                    options: ['Cursos', 'Volver']
                },
                'taller bordado parejas': {
                    text: "El Taller de Bordado Creativo en Pareja es un espacio único para conectar y crear juntos una pieza de arte. Es una experiencia con un enfoque terapéutico y de empoderamiento.",
                    options: ['Cursos', 'Volver']
                },
                'taller tejeduría madera': {
                    text: "En el Taller de Tejeduría en Madera (1 a 1), le guiarán paso a paso en la creación de un objeto decorativo o un regalo, un proyecto totalmente personalizado para usted.",
                    options: ['Cursos', 'Volver']
                },
                'taller diseño en madera': {
                    text: "El Taller de Diseño y Corte en Madera es un curso avanzado para aprender a crear objetos más grandes y complejos, como pequeños muebles. Aprenderá a usar herramientas y técnicas de ensamblaje.",
                    options: ['Cursos', 'Volver']
                },
                'asesorias': {
                    text: "Brindamos asesorías personalizadas para que concrete sus ideas. El servicio tiene un costo de $30 por hora y le guiamos en cada paso. Si desea contratar este servicio, por favor contáctenos por WhatsApp.",
                    options: ['Volver']
                },
                'la marca': {
                    text: "D'CORE es una marca familiar de 9 hermanos que crecieron haciendo sus propios regalos. Decidieron compartir esta tradición, uniendo sus talentos en madera, pintura, bordado y tejido para crear piezas únicas con un gran valor sentimental.",
                    options: ['Volver']
                },
                'contacto': {
                    text: "Para cualquier consulta o pedido, puede contactarnos directamente a través de nuestro número de WhatsApp: +593 98 778 6632.",
                    options: ['Volver']
                },
                'default': {
                    text: "Disculpe, no he comprendido su solicitud. Le ruego que seleccione una de las siguientes opciones para poderle asistir:",
                    options: ['Volver']
                }
            };
            
            function displayChatOptions(options) {
                chatOptionsContainer.innerHTML = '';
                if (options) {
                    options.forEach(option => {
                        const button = document.createElement('button');
                        button.classList.add('chat-option-btn');
                        button.textContent = option;
                        button.addEventListener('click', () => handleChatInteraction(option));
                        chatOptionsContainer.appendChild(button);
                    });
                }
            }

            function handleChatInteraction(message) {
                const lowerCaseMessage = message.toLowerCase().trim();
                let responseKey = 'default';

                if (lowerCaseMessage === 'conocer opciones' || lowerCaseMessage === 'volver') {
                    responseKey = 'conocer opciones';
                } else if (lowerCaseMessage === 'productos') {
                    responseKey = 'productos';
                } else if (lowerCaseMessage === 'cursos') {
                    responseKey = 'cursos';
                } else if (lowerCaseMessage === 'asesorías' || lowerCaseMessage === 'asesorias') {
                    responseKey = 'asesorias';
                } else if (lowerCaseMessage === 'la marca') {
                    responseKey = 'la marca';
                } else if (lowerCaseMessage === 'contacto') {
                    responseKey = 'contacto';
                } else if (lowerCaseMessage === 'no, gracias') {
                    responseKey = 'no, gracias';
                } else if (lowerCaseMessage === 'colección') {
                    responseKey = 'colección';
                } else if (lowerCaseMessage === 'personalizados') {
                    responseKey = 'personalizados';
                } else if (lowerCaseMessage === 'taller bordado de muñecos') {
                    responseKey = 'taller bordado de muñecos';
                } else if (lowerCaseMessage === 'taller bordado parejas') {
                    responseKey = 'taller bordado parejas';
                } else if (lowerCaseMessage === 'taller tejeduría madera') {
                    responseKey = 'taller tejeduría madera';
                } else if (lowerCaseMessage === 'taller diseño en madera') {
                    responseKey = 'taller diseño en madera';
                } else if (lowerCaseMessage === 'hola') {
                    responseKey = 'saludo';
                }

                const conversation = chatbotConversations[responseKey];
                addMessageToChat(message, true);
                addMessageToChat(conversation.text, false);
                displayChatOptions(conversation.options);
                chatInput.value = '';
            }

            function addMessageToChat(message, isUser) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message');
                const formattedMessage = message.replace(/usted/gi, 'Usted');
                messageDiv.textContent = formattedMessage;
                if (isUser) {
                    messageDiv.classList.add('user-message');
                } else {
                    messageDiv.classList.add('bot-message');
                }
                chatWindow.appendChild(messageDiv);
                chatWindow.scrollTop = chatWindow.scrollHeight;
            }

            function sendMessage() {
                const userMessage = chatInput.value.trim();
                if (userMessage === '') return;

                addMessageToChat(userMessage, true);
                chatInput.value = '';

                const loadingDiv = document.createElement('div');
                loadingDiv.classList.add('message', 'bot-message', 'italic', 'text-gray-500');
                loadingDiv.textContent = 'Escribiendo...';
                chatWindow.appendChild(loadingDiv);
                chatWindow.scrollTop = chatWindow.scrollHeight;

                setTimeout(() => {
                    loadingDiv.remove();
                    handleChatInteraction(userMessage);
                }, 1000);
            }

            chatbotBtn.addEventListener('click', () => { 
                chatbotModal.classList.add('open'); 
                chatbotOverlay.classList.add('open'); 
                // Clear chat and show greeting
                chatWindow.innerHTML = '';
                addMessageToChat(chatbotConversations['saludo'].text, false);
                displayChatOptions(chatbotConversations['saludo'].options);
            });
            closeChatbotBtn.addEventListener('click', () => { chatbotModal.classList.remove('open'); chatbotOverlay.classList.remove('open'); });
            chatbotOverlay.addEventListener('click', () => { chatbotModal.classList.remove('open'); chatbotOverlay.classList.remove('open'); });
            sendBtn.addEventListener('click', sendMessage);
            chatInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') sendMessage(); });
            
            // Carousel Logic
            const mainCarouselTrack = document.getElementById('main-carousel-track');
            const storyImages = [
                "./IMG-20250830-WA0034.jpg", // Manos de artesano
                "./IMG-20250830-WA0035.jpg", // Programación de regalos
                "./IMG-20250830-WA0046.jpg", // Camiseta Bordada
                "./IMG-20250830-WA0045.jpg", // Muñeco de Lana
                "./IMG-20250830-WA0030.jpg"  // Caja de Madera
            ];
            storyImages.forEach(imageUrl => {
                const slide = document.createElement('div');
                slide.className = 'carousel-slide';
                slide.style.backgroundImage = `url('${imageUrl}')`;
                mainCarouselTrack.appendChild(slide);
            });
            let mainCurrentSlide = 0;
            const mainSlides = mainCarouselTrack.children;
            const mainPrevBtn = document.getElementById('prev-btn');
            const mainNextBtn = document.getElementById('next-btn');

            function updateMainCarousel() {
                if (mainSlides.length > 0) {
                     mainCarouselTrack.style.transform = `translateX(-${mainCurrentSlide * 100}%)`;
                }
            }
            function nextMainSlide() { mainCurrentSlide = (mainCurrentSlide + 1) % mainSlides.length; updateMainCarousel(); }
            function prevMainSlide() { mainCurrentSlide = (mainCurrentSlide - 1 + mainSlides.length) % mainSlides.length; updateMainCarousel(); }
            mainNextBtn.addEventListener('click', nextMainSlide);
            mainPrevBtn.addEventListener('click', prevMainSlide);
            setInterval(nextMainSlide, 4000);

            const testimonialTrack = document.getElementById('testimonial-track');
            const testimonialSlides = Array.from(testimonialTrack.children);
            const testimonialPrevBtn = document.getElementById('testimonial-prev-btn');
            const testimonialNextBtn = document.getElementById('testimonial-next-btn');
            let currentTestimonialSlide = 0;
            function updateTestimonialCarousel() {
                if (window.innerWidth < 768) {
                    testimonialTrack.style.transform = `translateX(-${currentTestimonialSlide * 100}%)`;
                } else {
                    testimonialTrack.style.transform = 'none';
                }
            }
            function nextTestimonialSlide() { currentTestimonialSlide = (currentTestimonialSlide + 1) % testimonialSlides.length; updateTestimonialCarousel(); }
            function prevTestimonialSlide() { currentTestimonialSlide = (currentTestimonialSlide - 1 + testimonialSlides.length) % testimonialSlides.length; updateTestimonialCarousel(); }
            testimonialNextBtn.addEventListener('click', nextTestimonialSlide);
            testimonialPrevBtn.addEventListener('click', prevTestimonialSlide);
            let touchStartX = 0;
            let touchEndX = 0;
            testimonialTrack.addEventListener('touchstart', e => { touchStartX = e.touches[0].clientX; }, { passive: true });
            testimonialTrack.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].clientX;
                if (touchStartX - touchEndX > 50) { nextTestimonialSlide(); } else if (touchEndX - touchStartX > 50) { prevTestimonialSlide(); }
            }, { passive: true });
            window.addEventListener('resize', updateTestimonialCarousel);

            // Countdown timer logic
            const countdownEnd = new Date(Date.now() + 1000 * 60 * 60 * 24 * 7); // 7 días desde ahora
            const daysSpan = document.getElementById('days');
            const hoursSpan = document.getElementById('hours');
            const minutesSpan = document.getElementById('minutes');
            const secondsSpan = document.getElementById('seconds');
            function updateCountdown() {
                const now = new Date();
                const diff = countdownEnd - now;
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                daysSpan.textContent = String(days).padStart(2, '0');
                hoursSpan.textContent = String(hours).padStart(2, '0');
                minutesSpan.textContent = String(minutes).padStart(2, '0');
                secondsSpan.textContent = String(seconds).padStart(2, '0');
                if (diff < 0) {
                    clearInterval(countdownInterval);
                    daysSpan.textContent = hoursSpan.textContent = minutesSpan.textContent = secondsSpan.textContent = '00';
                }
            }
            updateCountdown();
            const countdownInterval = setInterval(updateCountdown, 1000);

            // Calendar Logic
            const calendarBtn = document.getElementById('calendar-btn');
            const closeCalendarBtn = document.getElementById('close-calendar-btn');
            const calendarModal = document.getElementById('calendar-modal');
            const calendarOverlay = document.getElementById('calendar-overlay');

            const currentMonthYearHeader = document.getElementById('current-month-year');
            const calendarDaysContainer = document.getElementById('calendar-days');
            const prevMonthBtn = document.getElementById('prev-month-btn');
            const nextMonthBtn = document.getElementById('next-month-btn');
            const addEventBtn = document.getElementById('add-event-btn');
            const eventNameInput = document.getElementById('event-name-input');
            const eventDateInput = document.getElementById('event-date-input');
            const monthEventsList = document.getElementById('month-events');
            const whatsappReminderBtn = document.getElementById('whatsapp-reminder-btn');
            
            // For the calendar section in the main page
            const currentMonthYearSection = document.getElementById('current-month-year-section');
            const calendarDaysSection = document.getElementById('calendar-days-section');
            const prevMonthSectionBtn = document.getElementById('prev-month-section-btn');
            const nextMonthSectionBtn = document.getElementById('next-month-section-btn');
            const eventNameInputSection = document.getElementById('event-name-input-section');
            const eventDateInputSection = document.getElementById('event-date-input-section');
            const addEventBtnSection = document.getElementById('add-event-btn-section');
            const whatsappReminderBtnSection = document.getElementById('whatsapp-reminder-btn-section');
            const monthEventsSection = document.getElementById('month-events-section');

            let currentMonth = new Date();
            let userEvents = getLocalEvents();

            const specialDates = {
                // Fechas especiales precargadas
                1: [ { day: 1, name: "Año Nuevo" }, { day: 6, name: "Día de Reyes" }, { day: 15, name: "Día del Artesano Ecuatoriano" }, { day: 24, name: "Día Internacional de la Educación" }, {day: 28, name: "Día Internacional de la Protección de Datos"}, {day: 17, name: "Día de San Antonio Abad"}, {day: 26, name: "Día Mundial de la Educación Ambiental"} ],
                2: [ { day: 2, name: "Día de la Candelaria" }, { day: 12, name: "Día del Oriente Ecuatoriano" }, { day: 14, name: "Día de San Valentín" }, { day: 27, name: "Día del Civismo" }, {day: 19, name: "Día de la Batalla del Portete de Tarqui"}, {day: 1, name: "Día del Amor y la Amistad"}, {day: 21, name: "Día Internacional de la Lengua Materna"} ],
                3: [ { day: 8, name: "Día Internacional de la Mujer" }, { day: 15, name: "Día del Consumidor" }, { day: 20, name: "Día de la Felicidad" }, {day: 21, name: "Día Mundial de la Poesía"}, {day: 22, name: "Día Mundial del Agua"}, {day: 1, name: "Día de Cero Discriminación"}, {day: 3, name: "Día Mundial de la Vida Silvestre"} ],
                4: [ { day: 7, name: "Día Mundial de la Salud" }, { day: 14, name: "Día del Niño Ecuatoriano"}, { day: 22, name: "Día de la Tierra" }, { day: 23, name: "Día del Libro" }, {day: 26, name: "Día del Servidor Público"}, {day: 1, name: "Día de la Diversión en el Trabajo"}, {day: 12, name: "Día Internacional de los Vuelos Espaciales Tripulados"} ],
                5: [ { day: 1, name: "Día del Trabajo" }, { day: 10, name: "Día de la Madre" }, { day: 24, name: "Batalla de Pichincha" }, {day: 17, name: "Día de Internet"}, {day: 21, name: "Día de la Afroecuatorianidad"}, {day: 31, name: "Día Mundial sin Tabaco"} ],
                6: [ { day: 1, name: "Día del Niño" }, { day: 5, name: "Día Mundial del Ambiente"}, { day: 16, name: "Día del Padre" }, { day: 21, name: "Inti Raymi" }, { day: 24, name: "San Juan" }, {day: 26, name: "Día de la Lucha contra el Tráfico de Drogas"} ],
                7: [ { day: 1, name: "Día del Arquitecto" }, { day: 6, name: "Día Mundial del Beso" }, { day: 24, name: "Natalicio de Simón Bolívar" }, { day: 25, name: "Fundación de Guayaquil" }, {day: 26, name: "Día de la Abuela"}, {day: 28, name: "Día del Perro Callejero"} ],
                8: [ { day: 10, name: "Primer Grito de la Independencia" }, { day: 12, name: "Día Internacional de la Juventud" }, { day: 26, name: "Día del Abuelo" }, {day: 17, name: "Día del Veterinario"}, {day: 19, name: "Día Mundial de la Asistencia Humanitaria"}, {day: 29, name: "Día Mundial del Videojuego"} ],
                9: [ { day: 1, name: "Día del Deporte"}, { day: 21, name: "Día Mundial de la Paz" }, { day: 26, name: "Día de la Bandera Nacional" }, {day: 16, name: "Día Internacional de la Preservación de la Capa de Ozono"} ],
                10: [ { day: 4, name: "Día Mundial de los Animales" }, { day: 9, name: "Independencia de Guayaquil" }, { day: 12, name: "Día de la Interculturalidad" }, {day: 31, name: "Día del Escudo Nacional"}, {day: 16, name: "Día Mundial de la Alimentación"}, {day: 24, name: "Día de las Naciones Unidas"} ],
                11: [ { day: 1, name: "Día de Todos los Santos" }, { day: 2, name: "Día de los Difuntos" }, { day: 3, name: "Independencia de Cuenca" }, {day: 15, name: "Día Mundial de la Filosofía"}, {day: 20, name: "Día Internacional de los Derechos del Niño"} ],
                12: [ { day: 6, name: "Fundación de Quito" }, { day: 24, name: "Nochebuena" }, { day: 25, name: "Navidad" }, { day: 31, name: "Fin de Año" }, {day: 10, name: "Día Internacional de los Derechos Humanos"}, {day: 18, name: "Día Internacional del Migrante"} ],
            };

            function renderCalendar(isSection = false) {
                const year = currentMonth.getFullYear();
                const month = currentMonth.getMonth();
                const container = isSection ? calendarDaysSection : calendarDaysContainer;
                const header = isSection ? currentMonthYearSection : currentMonthYearHeader;
                
                header.textContent = `${currentMonth.toLocaleString('es-ES', { month: 'long', year: 'numeric' })}`;
                container.innerHTML = '';
                const firstDay = new Date(year, month, 1).getDay();
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                const today = new Date();

                for (let i = 0; i < firstDay; i++) {
                    const emptyDay = document.createElement('div');
                    container.appendChild(emptyDay);
                }

                for (let day = 1; day <= daysInMonth; day++) {
                    const dayElement = document.createElement('div');
                    dayElement.classList.add('calendar-day', 'current-month');
                    dayElement.textContent = day;
                    const date = new Date(year, month, day);

                    if (date.getDate() === today.getDate() && date.getMonth() === today.getMonth() && date.getFullYear() === today.getFullYear()) {
                        dayElement.classList.add('today');
                    }
                    
                    const monthEvents = specialDates[month + 1] || [];
                    const isSpecialEvent = monthEvents.find(e => e.day === day);
                    if (isSpecialEvent) {
                        dayElement.classList.add('event');
                        dayElement.title = isSpecialEvent.name;
                    }
                    
                    const isUserEvent = userEvents.find(e => {
                        const eventDate = new Date(e.date);
                        return eventDate.getDate() === day && eventDate.getMonth() === month && eventDate.getFullYear() === year;
                    });
                    if (isUserEvent) {
                        dayElement.classList.add('user-event');
                        dayElement.title = isUserEvent.name;
                    }
                    
                    dayElement.addEventListener('click', () => {
                        const dayString = String(day).padStart(2, '0');
                        const monthString = String(month + 1).padStart(2, '0');
                        const dateString = `${year}-${monthString}-${dayString}`;
                        const inputElement = isSection ? eventDateInputSection : eventDateInput;
                        inputElement.value = dateString;
                        showToast(`Día ${day} seleccionado.`);
                    });

                    container.appendChild(dayElement);
                }
                
                if (!isSection) renderMonthEvents();
                if (isSection) renderMonthEvents(true);
            }
            
            function renderMonthEvents(isSection = false) {
                const list = isSection ? monthEventsSection : monthEventsList;
                list.innerHTML = '';
                const month = currentMonth.getMonth() + 1;
                const year = currentMonth.getFullYear();
                
                const events = (specialDates[month] || []).concat(
                    userEvents.filter(e => {
                        const eventDate = new Date(e.date);
                        return eventDate.getMonth() + 1 === month && eventDate.getFullYear() === year;
                    })
                ).sort((a,b) => a.day - b.day);

                if (events.length > 0) {
                    events.forEach(event => {
                        const li = document.createElement('li');
                        li.textContent = `${event.day}: ${event.name}`;
                        list.appendChild(li);
                    });
                } else {
                    const li = document.createElement('li');
                    li.textContent = "No hay fechas especiales este mes.";
                    list.appendChild(li);
                }
            }

            function prevMonth() {
                currentMonth.setMonth(currentMonth.getMonth() - 1);
                renderCalendar();
                renderCalendar(true);
            }

            function nextMonth() {
                currentMonth.setMonth(currentMonth.getMonth() + 1);
                renderCalendar();
                renderCalendar(true);
            }

            function addEvent(isSection = false) {
                const eventName = isSection ? eventNameInputSection.value.trim() : eventNameInput.value.trim();
                const eventDate = isSection ? eventDateInputSection.value : eventDateInput.value;
                if (!eventName || !eventDate) {
                    showToast('Por favor, ingrese un nombre y una fecha.');
                    return;
                }
                
                userEvents.push({ name: eventName, date: eventDate });
                saveLocalEvents(userEvents);
                renderCalendar();
                renderCalendar(true);
                
                if (isSection) {
                    eventNameInputSection.value = '';
                    eventDateInputSection.value = '';
                } else {
                    eventNameInput.value = '';
                    eventDateInput.value = '';
                }
                showToast("Fecha especial añadida a su calendario.");
            }

            whatsappReminderBtn.addEventListener('click', () => {
                const eventName = eventNameInput.value.trim();
                const eventDate = eventDateInput.value;
                if (!eventName || !eventDate) {
                    showToast('Por favor, ingrese un nombre y una fecha para el recordatorio.');
                    return;
                }
                const dateObj = new Date(eventDate);
                const dateString = dateObj.toLocaleDateString('es-ES', { day: 'numeric', month: 'long', year: 'numeric' });
                const message = `Hola D'CORE, le escribo para agendar un recordatorio para la fecha especial: "${eventName}" el ${dateString}.`;
                const whatsappUrl = `https://wa.me/593987786632?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            });

            whatsappReminderBtnSection.addEventListener('click', () => {
                const eventName = eventNameInputSection.value.trim();
                const eventDate = eventDateInputSection.value;
                if (!eventName || !eventDate) {
                    showToast('Por favor, ingrese un nombre y una fecha para el recordatorio.');
                    return;
                }
                const dateObj = new Date(eventDate);
                const dateString = dateObj.toLocaleDateString('es-ES', { day: 'numeric', month: 'long', year: 'numeric' });
                const message = `Hola D'CORE, le escribo para agendar un recordatorio para la fecha especial: "${eventName}" el ${dateString}.`;
                const whatsappUrl = `https://wa.me/593987786632?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            });


            function setupCalendar() {
                renderCalendar();
                renderCalendar(true);

                prevMonthBtn.addEventListener('click', prevMonth);
                nextMonthBtn.addEventListener('click', nextMonth);
                prevMonthSectionBtn.addEventListener('click', prevMonth);
                nextMonthSectionBtn.addEventListener('click', nextMonth);
                
                addEventBtn.addEventListener('click', () => addEvent(false));
                addEventBtnSection.addEventListener('click', () => addEvent(true));

                calendarBtn.addEventListener('click', () => {
                    calendarModal.classList.add('open');
                    calendarOverlay.classList.add('open');
                });
                closeCalendarBtn.addEventListener('click', () => {
                    calendarModal.classList.remove('open');
                    calendarOverlay.classList.remove('open');
                });
                calendarOverlay.addEventListener('click', () => {
                    calendarModal.classList.remove('open');
                    calendarOverlay.classList.remove('open');
                });
            }

            setupCalendar();
        });

    </script>
</body>
</html>
