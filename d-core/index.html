<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D'CORE - Regalos Artesanales con Coraz√≥n en Ecuador</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Descubre en D'CORE regalos √∫nicos y artesanales, hechos con el coraz√≥n. Tejidos, maderas talladas y bordados que cuentan una historia. Env√≠os a todo Ecuador.">
    <meta name="keywords" content="regalos artesanales Ecuador, detalles personalizados, madera tallada, mu√±ecos de lana, bordados a mano, D'CORE, regalos originales, artesan√≠as ecuatorianas, cursos de tejido, asesor√≠as, calendario de regalos, muebles a medida">
    <meta name="author" content="D'CORE">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.dcore.com/">
    <meta property="og:title" content="D'CORE - Un Legado de Detalles del Coraz√≥n">
    <meta property="og:description" content="Regalos √∫nicos y artesanales hechos con amor. Tejidos, maderas talladas y bordados que cuentan una historia.">
    <meta property="og:image" content="https://images.pexels.com/photos/190537/pexels-photo-190537.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.dcore.com/">
    <meta property="twitter:title" content="D'CORE - Un Legado de Detalles del Coraz√≥n">
    <meta property="twitter:description" content="Regalos √∫nicos y artesanales hechos con amor. Tejidos, maderas talladas y bordados que cuentan una historia.">
    <meta property="twitter:image" content="https://images.pexels.com/photos/190537/pexels-photo-190537.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1">

    <link rel="icon" href="./logo-dcore.jpg" type="image/jpeg">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #FFF6E0;
            color: #333;
            overflow-x: hidden;
        }
        .font-serif { font-family: 'Cormorant Garamond', serif; }
        
        /* Paleta de colores */
        .bg-red { background-color: #E63946; }
        .bg-green { background-color: #339989; }
        .bg-orange { background-color: #F7B500; }
        .text-red { color: #E63946; }
        .text-green { color: #339989; }
        .text-orange { color: #F7B500; }

        .btn-primary {
            background-color: #E63946;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: 600;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            box-shadow: 0 4px 10px rgba(230, 57, 70, 0.4);
            border: 2px solid transparent;
            text-align: center;
            white-space: nowrap;
        }
        .btn-primary:hover {
            background-color: transparent;
            color: #E63946;
            border-color: #E63946;
            box-shadow: 0 6px 15px rgba(230, 57, 70, 0.2);
            transform: translateY(-4px);
        }

        /* Animation Improvements */
        .fade-in-up { 
            opacity: 0; 
            transform: translateY(50px); 
            transition: opacity 0.8s cubic-bezier(0.19, 1, 0.22, 1), transform 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        }
        .in-view { 
            opacity: 1; 
            transform: translateY(0); 
        }
        .stagger-child { 
            opacity: 0; 
            transform: translateY(30px); 
            transition: opacity 0.7s cubic-bezier(0.19, 1, 0.22, 1), transform 0.7s cubic-bezier(0.19, 1, 0.22, 1); 
        }
        .in-view .stagger-child { 
            opacity: 1; 
            transform: translateY(0); 
        }
        
        .product-card {
            background-color: #fff;
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1), box-shadow 0.4s cubic-bezier(0.19, 1, 0.22, 1);
            overflow: hidden;
            position: relative;
        }
        .product-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.12);
        }
        .product-card img { transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1); }
        .product-card:hover img { transform: scale(1.08); }
        
        #cart-overlay, #chatbot-overlay {
            position: fixed; inset: 0; background-color: rgba(0,0,0,0.5); z-index: 49; opacity: 0; transition: opacity 0.5s cubic-bezier(0.23, 1, 0.32, 1); pointer-events: none;
        }
        #cart-overlay.open, #chatbot-overlay.open { opacity: 1; pointer-events: auto; }

        .slide-in-right { transform: translateX(100%); transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1); }
        .slide-in-right.open { transform: translateX(0); }
        
        .slide-in-bottom { transform: translateY(110%); transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1); }
        .slide-in-bottom.open { transform: translateY(0); }

        .cart-count {
            top: -0.5rem; right: -0.5rem; background-color: #E63946; color: white; border-radius: 9999px; font-size: 0.75rem; width: 1.25rem; height: 1.25rem; display: flex; justify-content: center; align-items: center; font-weight: bold;
        }
        
        .sale-badge { position: absolute; top: 1rem; left: 1rem; background-color: #E63946; color: white; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: bold; font-size: 0.875rem; z-index: 10; }
        
        header { transition: background-color 0.4s ease, box-shadow 0.4s ease; }
        header.scrolled { background-color: rgba(255, 246, 224, 0.95); box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }
        
        /* --- Luminous Platinum Effect --- */
        .platinum-text {
            font-weight: bold;
            color: #d1d5db; /* A base silver color */
            background: linear-gradient(120deg, #e5e7eb, #d1d5db, #9ca3af, #d1d5db, #e5e7eb);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 5s linear infinite;
        }
        @keyframes shimmer {
            0% { background-position: 200% 50%; }
            100% { background-position: -200% 50%; }
        }

        /* --- CHATBOT DESIGN IMPROVEMENTS --- */
        #chatbot-btn-trigger { 
            z-index: 50; 
            animation: pulse 2s infinite; 
            background-color: #E63946;
        }
        #chatbot-btn-trigger:hover {
            background-color: #c22d39;
        }

        #chatbot-modal {
            width: calc(100% - 2rem);
            max-width: 380px;
            max-height: 85vh;
            bottom: 1rem;
            right: 1rem;
            border-radius: 1.5rem;
            background: #ffffff;
            border: 1px solid #e5e7eb;
            display: flex; flex-direction: column;
            overflow: hidden;
            z-index: 50;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        @media (min-width: 768px) {
            #chatbot-modal {
                width: auto;
                bottom: 0;
                right: 0;
                margin: 0 2rem 0 0;
                height: 70vh;
                max-height: 650px;
            }
        }

        .chatbot-header {
            background: linear-gradient(135deg, #E63946, #c22d39);
            color: white;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }
        .chatbot-header h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.5rem;
        }
        .chatbot-header button { color: white; opacity: 0.8; transition: opacity 0.3s; }
        .chatbot-header button:hover { opacity: 1; }

        #chat-window {
            padding: 1.5rem;
            flex-grow: 1;
            overflow-y: auto;
            background-color: #f9fafb;
            background-image: url("data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23e5e7eb' fill-opacity='0.4' fill-rule='evenodd'%3E%3Cpath d='M5 0h1L0 6V5zM6 5v1H5z'/%3E%3C/g%3E%3C/svg%3E");
            scrollbar-width: thin;
            scrollbar-color: #E63946 #f0f0f0;
        }
        #chat-window::-webkit-scrollbar { width: 6px; }
        #chat-window::-webkit-scrollbar-track { background: #f0f0f0; }
        #chat-window::-webkit-scrollbar-thumb { background-color: #E63946; border-radius: 6px; }

        .message {
            max-width: 85%;
            padding: 0.75rem 1.25rem;
            margin-bottom: 1rem;
            line-height: 1.5;
            word-wrap: break-word;
            opacity: 0;
            transform: translateY(10px);
            animation: pop-in 0.4s cubic-bezier(0.23, 1, 0.32, 1) forwards;
        }
        @keyframes pop-in {
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            background-color: #E63946;
            color: white;
            border-radius: 1.5rem 1.5rem 0.25rem 1.5rem;
            align-self: flex-end;
        }
        .bot-message {
            background-color: #e5e7eb;
            color: #1f2937;
            border-radius: 1.5rem 1.5rem 1.5rem 0.25rem;
            align-self: flex-start;
        }
        .bot-message strong { color: #E63946; }
        .bot-message a { color: #339989; font-weight: bold; text-decoration: underline; }

        .typing-indicator {
            display: flex;
            align-items: center;
            padding: 0.75rem 1.25rem;
        }
        .typing-indicator span {
            height: 8px; width: 8px;
            margin: 0 2px;
            background-color: #9ca3af;
            border-radius: 50%;
            display: inline-block;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }

        .chat-input-area {
            padding: 1rem 1.5rem;
            background: #fff;
            border-top: 1px solid #e5e7eb;
            flex-shrink: 0;
        }
        #chat-options { margin-bottom: 0.75rem; }
        .chat-options-container {
            display: flex; flex-wrap: wrap; gap: 0.5rem;
        }
        .chat-option-btn {
            background-color: #f3f4f6; color: #374151;
            padding: 0.5rem 1rem; border-radius: 9999px;
            font-weight: 500; font-size: 0.875rem;
            cursor: pointer; transition: all 0.3s;
            border: 1px solid #e5e7eb;
        }
        .chat-option-btn:hover { background-color: #E63946; color: white; border-color: #E63946; transform: translateY(-2px); }

        #chat-input {
            border: 2px solid #e5e7eb;
            transition: border-color 0.3s;
        }
        #chat-input:focus { border-color: #E63946; outline: none; box-shadow: 0 0 0 2px rgba(230, 57, 70, 0.2); }
        
        #send-btn { background-color: #E63946; }
        #send-btn:hover { background-color: #c22d39; }
        #send-btn:disabled { background-color: #f8b4b8; cursor: not-allowed; }
        
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(230, 57, 70, 0.7); }
            70% { transform: scale(1.1); box-shadow: 0 0 0 10px rgba(230, 57, 70, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(230, 57, 70, 0); }
        }
        /* --- END CHATBOT DESIGN --- */
        
        /* Calendar styles */
        .calendar-container {
            display: grid; grid-template-columns: repeat(7, 1fr);
            gap: 0.5rem; text-align: center;
        }
        .calendar-day {
            padding: 0.5rem; border-radius: 0.5rem;
            cursor: pointer; transition: all 0.2s ease;
            position: relative;
        }
        .calendar-day.current-month { background-color: #f3f4f6; }
        .calendar-day.today { background-color: #E63946; color: white; font-weight: bold; }
        .calendar-day.event { border: 2px solid #339989; }
        .calendar-day.user-event { border: 2px solid #F7B500; }
        .calendar-day:hover { background-color: #ddd; }
        .calendar-day:not(.current-month) { color: #aaa; }

        @media (max-width: 768px) {
            .calendar-container { gap: 0.25rem; }
            .calendar-day { padding: 0.25rem; font-size: 0.75rem; }
        }
        
        /* NEW Countdown timer styles */
        .countdown-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1.5rem; /* Reduced gap */
            padding: 2rem 0;
        }
        .countdown-item {
            display: flex; flex-direction: column;
            align-items: center;
            transition: transform 0.4s;
        }
        .countdown-item:hover { transform: translateY(-8px); }
        .countdown-value {
            font-size: 4rem; /* Increased size */
            font-weight: 700;
            line-height: 1;
        }
        .countdown-label {
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #4b5563;
        }
        @media (max-width: 640px) {
            .countdown-container { gap: 1rem; }
            .countdown-value { font-size: 2.5rem; }
            .countdown-label { font-size: 0.75rem; letter-spacing: 1px;}
        }

        .course-details li {
            position: relative; padding-left: 1.5rem; margin-bottom: 0.5rem;
        }
        .course-details li:before {
            content: "‚úì"; position: absolute; left: 0;
            color: #339989; font-weight: bold;
        }

        /* Carousel Styles */
        .carousel-button {
            position: absolute; top: 50%; transform: translateY(-50%);
            background-color: rgba(76, 60, 52, 0.5);
            color: white; border: none;
            width: 2.75rem; height: 2.75rem;
            display: flex; align-items: center; justify-content: center;
            border-radius: 9999px; cursor: pointer; z-index: 10;
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .carousel-button:hover {
            background-color: rgba(76, 60, 52, 0.8);
            transform: translateY(-50%) scale(1.05);
            box-shadow: 0 6px 15px rgba(0,0,0,0.25);
        }
        .carousel-button.prev { left: 0.75rem; }
        .carousel-button.next { right: 0.75rem; }
        
        .carousel-container {
            position: relative; width: 100%; height: 320px;
            overflow: hidden; border-radius: 1.5rem;
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        @media (min-width: 768px) { 
            .carousel-container { height: 60vh; max-height: 550px; }
        }
        
        .carousel-track {
            display: flex; height: 100%;
            transition: transform 0.5s cubic-bezier(0.65, 0, 0.35, 1);
        }
        .carousel-slide {
            min-width: 100%; height: 100%;
            background-size: cover; background-position: center;
        }

        /* Testimonial Carousel Styles */
        #testimonial-slider-wrapper { overflow: hidden; width: 100%; }
        #testimonial-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .testimonial-card {
            width: 100%; flex-shrink: 0;
            box-sizing: border-box; padding: 0 0.5rem;
        }
        @media (min-width: 768px) {
            #testimonial-track {
                display: grid; grid-template-columns: repeat(2, 1fr);
                gap: 2rem; transform: none !important;
            }
            .testimonial-card { width: auto; padding: 0; }
        }
        @media (min-width: 1024px) {
            #testimonial-track { grid-template-columns: repeat(3, 1fr); }
        }
    </style>
</head>
<body class="bg-yellow-50 text-gray-800">

    <!-- Header & Navigation -->
    <header class="sticky top-0 z-40 bg-yellow-50/80 backdrop-blur-lg py-4 relative">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <a href="#inicio" class="flex items-center space-x-3">
                <img src="./logo-dcore.jpg" alt="D'CORE Logo" class="w-12 h-12 rounded-full">
                <span class="text-3xl font-serif font-bold text-red">D'CORE</span>
            </a>
            <nav class="hidden md:flex space-x-8 text-lg font-medium">
                <a href="#nosotros" class="hover:text-red transition-colors">Nuestra Historia</a>
                <a href="#productos" class="hover:text-red transition-colors">Productos</a>
                <a href="#cursos" class="hover:text-red transition-colors">Cursos</a>
                <a href="#asesorias" class="hover:text-red transition-colors">Asesor√≠as</a>
                <a href="#testimonios" class="hover:text-red transition-colors">Opiniones</a>
            </nav>
            <div class="flex items-center space-x-2 md:space-x-4">
                <button id="cart-btn" class="relative p-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    <span id="cart-count" class="absolute cart-count hidden">0</span>
                </button>
                <!-- Bot√≥n de men√∫ m√≥vil (hamburguesa) -->
                <button id="mobile-menu-btn" class="md:hidden p-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
        </div>
        <!-- Men√∫ desplegable m√≥vil -->
        <div id="mobile-menu" class="hidden md:hidden absolute top-full left-0 w-full bg-yellow-50/95 backdrop-blur-lg shadow-xl">
            <div class="flex flex-col items-center space-y-6 py-8">
                <a href="#nosotros" class="text-lg font-medium hover:text-red transition-colors">Nuestra Historia</a>
                <a href="#productos" class="text-lg font-medium hover:text-red transition-colors">Productos</a>
                <a href="#cursos" class="text-lg font-medium hover:text-red transition-colors">Cursos</a>
                <a href="#asesorias" class="text-lg font-medium hover:text-red transition-colors">Asesor√≠as</a>
                <a href="#testimonios" class="text-lg font-medium hover:text-red transition-colors">Opiniones</a>
            </div>
        </div>
    </header>
    
    <!-- Bot√≥n flotante del Chatbot -->
    <button id="chatbot-btn-trigger" class="fixed bottom-4 right-4 text-white p-4 rounded-full shadow-lg z-50 hover:bg-red/80 transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="currentColor"><path d="M21.928 14.607c-.202.925-.556 1.825-.928 2.656V22l-2.328-1.629c-.754.214-1.53.359-2.322.428A9.957 9.957 0 0 1 12 21c-5.514 0-10-4.486-10-10S6.486 1 12 1s10 4.486 10 10c0 1.513-.349 2.943-.96 4.223.183.033.364.067.54.103.178.035.357.07.535.105.178.036.357.07.535.105.178.035.357.07.535.105.178.036.357.07.535.105.178.035.357.07.535.105.178.036.357.07.535.105s.357.07.535.105a2.5 2.5 0 0 1 .535.105c.178.035.357.07.535.105.178.036.357.07.535.105.178.035.357.07.535.105.178.036.357.07.535.105.178.035.357.07.535.105.178.036.357.07.535.105.178.035.357.07.535.105.178.035.357.07.535.105.178.035.357.07.535.105.178.035.357.07.535.105.178.035.357.07.535.105.178.035.357.07.535.105.178.035.357.07.535.105zm-2.09-1.393c-.152-.029-.304-.059-.456-.088-.152-.029-.304-.059-.456-.088-.152-.029-.304-.059-.456-.088-.152-.029-.304-.059-.456-.088-.152-.029-.304-.059-.456-.088-.152-.029-.304-.059-.456-.088-.152-.029-.304-.059-.456-.088s-.304-.059-.456-.088c-.152-.029-.304-.059-.456-.088-.152-.029-.304-.059-.456-.088-.152-.029-.304-.059-.456-.088-.152-.029-.304-.059-.456-.088-.152-.029-.304-.059-.456-.088-.152-.029-.304-.059-.456-.088-.152-.029-.304-.059-.456-.088-.152-.029-.304-.059-.456-.088a8.038 8.038 0 0 0-1.02-.12 7.923 7.923 0 0 0 .584-3.134c.055-.47.085-.945.085-1.428 0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8c.731 0 1.44-.103 2.103-.292l.689-.202 1.838 1.287v-2.373c.31-.383.593-.787.85-1.207z"/></svg>
    </button>

    <!-- Cart Modal -->
    <div id="cart-overlay"></div>
    <div id="cart-modal" class="slide-in-right fixed top-0 right-0 h-full w-full md:w-96 bg-white shadow-2xl z-50 p-6 flex flex-col">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold font-serif text-red">Tu Carrito</h2>
            <button id="close-cart-btn" class="text-red text-4xl leading-none">&times;</button>
        </div>
        <div id="cart-items" class="flex-1 overflow-y-auto space-y-4 pr-2"></div>
        <div id="cart-summary" class="mt-6 pt-4 border-t border-gray-200">
            <div class="flex justify-between items-center text-xl font-bold mb-4"><span class="font-serif">Total:</span><span id="cart-total">$0.00</span></div>
            <button id="whatsapp-btn" class="btn-primary w-full text-center">Enviar por WhatsApp</button>
        </div>
    </div>
    
    <!-- Chatbot Modal -->
    <div id="chatbot-overlay"></div>
    <div id="chatbot-modal" class="slide-in-bottom fixed shadow-2xl flex flex-col">
        <div class="chatbot-header">
            <div class="flex items-center space-x-3">
                <span class="text-2xl">üß∂</span>
                <h2 class="font-serif text-xl font-bold">Asistente D'CORE</h2>
            </div>
            <button id="close-chatbot-btn" class="text-3xl leading-none">&times;</button>
        </div>
        <div id="chat-window" class="flex flex-col space-y-2 flex-1"></div>
        <div class="chat-input-area">
            <div id="chat-options" class="chat-options-container"></div>
            <div class="flex space-x-2">
                <input type="text" id="chat-input" class="flex-1 rounded-full px-4 py-2 bg-gray-100 focus:outline-none focus:ring-2 focus:ring-red" placeholder="Escribe tu mensaje...">
                <button id="send-btn" class="text-white rounded-full p-2.5 transition-colors flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section id="inicio" class="relative min-h-screen flex items-center justify-center text-center px-6 overflow-hidden bg-yellow-50">
            <div class="relative z-10 fade-in-up in-view">
                <div class="relative inline-block">
                    <img src="./logo-dcore.jpg" alt="D'CORE Logo" class="stagger-child mx-auto mb-4 w-24 h-24 rounded-full shadow-lg" style="transition-delay: 100ms">
                </div>
                <h1 style="transition-delay: 200ms" class="stagger-child text-6xl md:text-8xl font-serif font-extrabold platinum-text">D'CORE</h1>
                <p style="transition-delay: 300ms" class="stagger-child text-xl md:text-3xl font-serif text-gray-700">Un Legado de Detalles del Coraz√≥n</p>
                <p style="transition-delay: 400ms" class="stagger-child mt-6 max-w-2xl mx-auto text-lg md:text-xl font-light">Donde cada regalo es una historia. Explora nuestras creaciones tejidas, talladas y bordadas, hechas con amor y autenticidad.</p>
                <a style="transition-delay: 500ms" href="#productos" class="stagger-child mt-10 inline-block btn-primary">Explorar la Colecci√≥n</a>
            </div>
        </section>

        <!-- Countdown Section -->
        <section id="countdown" class="container mx-auto px-6 py-12 text-center fade-in-up">
            <h2 class="text-4xl md:text-5xl font-serif font-bold platinum-text text-red mb-6">¬°S√∫per Oferta!</h2>
            <p class="text-lg mb-8 max-w-2xl mx-auto">No se pierda el descuento del 20% en toda la colecci√≥n de madera. ¬°El tiempo se acaba!</p>
            <div id="countdown-timer" class="countdown-container">
                <div class="countdown-item">
                    <span id="days" class="countdown-value platinum-text">00</span>
                    <span class="countdown-label">D√≠as</span>
                </div>
                <div class="countdown-item">
                    <span id="hours" class="countdown-value platinum-text">00</span>
                    <span class="countdown-label">Horas</span>
                </div>
                <div class="countdown-item">
                    <span id="minutes" class="countdown-value platinum-text">00</span>
                    <span class="countdown-label">Minutos</span>
                </div>
                <div class="countdown-item">
                    <span id="seconds" class="countdown-value platinum-text">00</span>
                    <span class="countdown-label">Segundos</span>
                </div>
            </div>
        </section>
        
        <!-- Calendar Section -->
        <section id="gift-calendar" class="container mx-auto px-6 py-20 fade-in-up">
            <div class="in-view bg-green/20 rounded-3xl p-6 md:p-12">
                <h2 class="text-4xl md:text-5xl font-serif font-bold text-center text-green mb-6">Tu Calendario de Regalos</h2>
                <p class="text-center text-lg max-w-3xl mx-auto mb-10">
                    Marque sus fechas importantes y reciba recordatorios. Nunca olvide un cumplea√±os o aniversario de nuevo.
                </p>
                <div class="flex flex-col md:flex-row md:space-x-8">
                    <div class="w-full md:w-1/2 mb-8 md:mb-0">
                        <div class="flex justify-between items-center mb-4">
                            <button id="prev-month-btn" class="p-2 rounded-full hover:bg-gray-100 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg></button>
                            <h3 id="current-month-year" class="text-lg font-semibold"></h3>
                            <button id="next-month-btn" class="p-2 rounded-full hover:bg-gray-100 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg></button>
                        </div>
                        <div class="calendar-container text-gray-500 font-bold mb-2 text-sm">
                            <span>Dom</span><span>Lun</span><span>Mar</span><span>Mi√©</span><span>Jue</span><span>Vie</span><span>S√°b</span>
                        </div>
                        <div id="calendar-days" class="calendar-container flex-1"></div>
                    </div>
                    <div class="w-full md:w-1/2">
                        <div class="flex justify-between items-baseline mb-2">
                             <h4 class="font-bold text-lg">Fechas de este mes:</h4>
                             <h4 class="font-bold text-lg">A√±adir una nueva fecha:</h4>
                        </div>
                        <div class="flex space-x-4">
                            <div class="w-1/2">
                                <ul id="month-events" class="text-sm text-gray-600 h-48 overflow-y-auto bg-white/50 rounded-lg p-2"></ul>
                            </div>
                            <div class="w-1/2 flex flex-col space-y-2">
                               <input type="text" id="event-name-input" class="rounded-lg p-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange text-black" placeholder="Nombre del evento">
                                <input type="date" id="event-date-input" class="rounded-lg p-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange text-black">
                                <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2">
                                    <button id="add-event-btn" class="btn-primary w-full text-sm">A√±adir</button>
                                    <button id="whatsapp-reminder-btn" class="btn-primary bg-green text-white w-full text-sm">Recordar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Our Story Section -->
        <section id="nosotros" class="container mx-auto px-6 py-20 fade-in-up">
            <div class="in-view">
                <h2 class="text-4xl md:text-5xl font-serif font-bold text-center mb-12 stagger-child" style="transition-delay: 0ms;">Nuestra Historia</h2>
                <div class="flex flex-col md:flex-row items-center md:space-x-12">
                    <div class="w-full md:flex-1 mb-8 md:mb-0 stagger-child" style="transition-delay: 100ms;">
                        <div class="carousel-container">
                             <div class="carousel-track" id="main-carousel-track"></div>
                             <button id="prev-btn" class="carousel-button prev"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" /></svg></button>
                             <button id="next-btn" class="carousel-button next"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg></button>
                        </div>
                    </div>
                    <div class="flex-1 stagger-child" style="transition-delay: 200ms;">
                        <p class="text-lg leading-relaxed mb-4">La historia de D'CORE no empez√≥ en un bazar, sino en intercambios de nueve hermanos: Pepe, Alba, Marco, Paty, Lenin, Lupe, Kathy, Cubi y Marie. Crecieron en un hogar donde los regalos no se compraban, se creaban.</p>
                        <p class="text-lg leading-relaxed mb-4">Un amigo, conmovido por un obsequio, dijo: <span class="font-semibold italic text-red">‚ÄúSu regalo tiene un valor que el dinero no puede comprar‚Äù</span>. Esa frase encendi√≥ una chispa y transform√≥ una tradici√≥n familiar en una misi√≥n: compartir esa magia con el mundo.</p>
                        <p class="text-lg leading-relaxed">As√≠ naci√≥ D'CORE, uniendo talentos en madera, pintura, bordado y tejido. Cada pieza es un fragmento de nuestra historia, un regalo que conecta corazones y honra las tradiciones familiares que valoran los lazos entre generaciones.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Product Gallery Section -->
        <section id="productos" class="container mx-auto px-6 py-20 bg-orange/20 rounded-3xl my-12 fade-in-up in-view">
            <h2 class="text-4xl md:text-5xl font-serif font-bold text-center mb-6">Nuestros Productos</h2>
            <p class="text-center text-lg max-w-3xl mx-auto mb-10">
                Adem√°s de nuestras colecciones, ofrecemos la posibilidad de crear <strong>modelos personalizados de cualquier personaje o serie</strong>. ¬°Haga su idea realidad!
            </p>
            <div id="product-grid" class="grid grid-cols-2 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-8"></div>
        </section>

        <!-- Promotion Section -->
        <section id="promociones" class="container mx-auto px-6 py-20 fade-in-up">
            <div class="in-view flex flex-col md:flex-row items-center gap-12 bg-red/10 rounded-3xl p-8 md:p-12">
                <div class="stagger-child flex-1 w-full" style="transition-delay: 100ms;">
                    <img src="./IMG-20250830-WA0046.jpg" alt="Promoci√≥n especial" class="w-full h-auto object-cover rounded-2xl shadow-xl transform transition-transform duration-500 hover:scale-105">
                </div>
                <div class="stagger-child flex-1 text-center md:text-left" style="transition-delay: 0ms;">
                    <h2 class="text-4xl md:text-5xl font-serif font-bold text-red mb-4">Promoci√≥n Exclusiva</h2>
                    <p class="text-lg text-gray-600 mb-6">
                        ¬°El arte llama al arte! Al inscribirte en cualquiera de nuestros cursos, te llevas de regalo un <strong>llavero de madera tallada</strong> de nuestra colecci√≥n. Una pieza √∫nica para que lleves la inspiraci√≥n contigo.
                    </p>
                    <a href="#cursos" class="btn-primary bg-red text-white border-red hover:bg-transparent hover:text-red">Ver Cursos</a>
                </div>
            </div>
        </section>
        
        <!-- Courses Section -->
        <section id="cursos" class="container mx-auto px-6 py-20 fade-in-up">
            <h2 class="text-4xl md:text-5xl font-serif font-bold text-center text-green mb-6">Clases y Cursos</h2>
            <p class="text-center text-lg max-w-3xl mx-auto mb-10">
                ¬°No deje que la tradici√≥n se pierda! Aprenda con nuestros cursos personalizados. Ideales para un regalo √∫nico o para compartir con su pareja de una manera terap√©utica y de conexi√≥n.
            </p>
             <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-8">
                <!-- Course 1 -->
                <div class="product-card p-4 text-center flex flex-col justify-between">
                    <div>
                        <img src="./IMG-20250830-WA0045.jpg" alt="Curso de bordado de mu√±ecos" class="w-full h-40 object-cover rounded-xl mb-4">
                        <h3 class="text-lg font-bold font-serif text-green mb-2">Bordado de Mu√±ecos</h3>
                        <p class="text-gray-600 mb-4 text-xs">Aprenda las t√©cnicas fundamentales del bordado para crear personajes adorables.</p>
                    </div>
                    <div class="flex flex-col sm:flex-row items-center justify-between mt-auto pt-4 gap-2">
                        <span class="text-lg sm:text-xl font-bold text-green">$55.00</span>
                        <a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20estoy%20interesado%20en%20el%20Taller%20Inicial%20de%20Bordado%20de%20Mu√±ecos." target="_blank" class="btn-primary text-xs sm:text-sm w-full sm:w-auto">Inscribirse</a>
                    </div>
                </div>
                <!-- Course 2 -->
                <div class="product-card p-4 text-center flex flex-col justify-between">
                    <div>
                        <img src="./IMG-20250830-WA0046.jpg" alt="Taller creativo para parejas" class="w-full h-40 object-cover rounded-xl mb-4">
                        <h3 class="text-lg font-bold font-serif text-green mb-2">Bordado en Pareja</h3>
                        <p class="text-gray-600 mb-4 text-xs">Un plan √∫nico para crear juntos una obra de arte bordada con significado personal.</p>
                    </div>
                    <div class="flex flex-col sm:flex-row items-center justify-between mt-auto pt-4 gap-2">
                        <span class="text-lg sm:text-xl font-bold text-green">$90.00</span>
                        <a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20estoy%20interesado%20en%20el%20Taller%20de%20Bordado%20Creativo%20en%20Pareja." target="_blank" class="btn-primary text-xs sm:text-sm w-full sm:w-auto">Inscribirse</a>
                    </div>
                </div>
                <!-- Course 3 -->
                <div class="product-card p-4 text-center flex flex-col justify-between">
                    <div>
                        <img src="./IMG-20250830-WA0034.jpg" alt="Taller de tejedur√≠a en madera 1:1" class="w-full h-40 object-cover rounded-xl mb-4">
                        <h3 class="text-lg font-bold font-serif text-green mb-2">Tejedur√≠a en Madera</h3>
                        <p class="text-gray-600 mb-4 text-xs">Sesi√≥n personalizada para aprender a tejer en madera, creando un regalo o una pieza de decoraci√≥n.</p>
                    </div>
                    <div class="flex flex-col sm:flex-row items-center justify-between mt-auto pt-4 gap-2">
                        <span class="text-lg sm:text-xl font-bold text-green">$75.00</span>
                        <a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20estoy%20interesado%20en%20el%20Taller%20de%20Tejedur√≠a%20en%20Madera%20(1%20a%201)." target="_blank" class="btn-primary text-xs sm:text-sm w-full sm:w-auto">Inscribirse</a>
                    </div>
                </div>
                <!-- Course 4 -->
                <div class="product-card p-4 text-center flex flex-col justify-between">
                    <div>
                        <img src="./IMG-20250830-WA0022.jpg" alt="Taller de dise√±o en madera" class="w-full h-40 object-cover rounded-xl mb-4">
                        <h3 class="text-lg font-bold font-serif text-green mb-2">Dise√±o y Corte</h3>
                        <p class="text-gray-600 mb-4 text-xs">Curso avanzado para cortar y dise√±ar piezas, ideal para crear objetos m√°s grandes.</p>
                    </div>
                    <div class="flex flex-col sm:flex-row items-center justify-between mt-auto pt-4 gap-2">
                        <span class="text-lg sm:text-xl font-bold text-green">$120.00</span>
                        <a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20estoy%20interesado%20en%20el%20Taller%20de%20Dise√±o%20y%20Corte%20en%20Madera." target="_blank" class="btn-primary text-xs sm:text-sm w-full sm:w-auto">Inscribirse</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Advisory Section -->
        <section id="asesorias" class="container mx-auto px-6 py-20 fade-in-up">
            <div class="in-view flex flex-col md:flex-row-reverse items-center gap-12 bg-green/20 rounded-3xl p-8 md:p-12">
                <div class="stagger-child flex-1 text-center md:text-left" style="transition-delay: 0ms;">
                    <h2 class="text-4xl md:text-5xl font-serif font-bold text-green mb-4">Asesor√≠as Personalizadas</h2>
                    <p class="text-lg text-gray-600 mb-6">
                        ¬øTiene una idea en mente pero no sabe por d√≥nde empezar? Le ayudamos a materializarla. Desde el concepto, elecci√≥n de materiales, hasta la t√©cnica, le guiamos en cada paso.
                    </p>
                    <a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20quisiera%20una%20asesor√≠a%20personalizada." target="_blank" class="btn-primary bg-green text-white border-green hover:bg-transparent hover:text-green text-base">Contratar ($30/hora)</a>
                </div>
                <div class="stagger-child flex-1 w-full" style="transition-delay: 100ms;">
                    <img src="./IMG-20250830-WA0035.jpg" alt="Asesor√≠a personalizada" class="w-full h-auto object-cover rounded-2xl shadow-xl transform transition-transform duration-500 hover:scale-105">
                </div>
            </div>
        </section>

        <!-- Custom Furniture Section -->
        <section id="muebles" class="container mx-auto px-6 py-20 fade-in-up">
            <div class="in-view flex flex-col md:flex-row items-center gap-12 bg-gray-800 text-white rounded-3xl p-8 md:p-12">
                <div class="stagger-child flex-1 w-full" style="transition-delay: 100ms;">
                    <img src="https://images.pexels.com/photos/276583/pexels-photo-276583.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="Muebles de madera a medida" class="w-full h-auto object-cover rounded-2xl shadow-xl transform transition-transform duration-500 hover:scale-105">
                </div>
                <div class="stagger-child flex-1 text-center md:text-left" style="transition-delay: 0ms;">
                    <h2 class="text-4xl md:text-5xl font-serif font-bold text-yellow-50 mb-4">Servicio Premium: Muebles a Medida</h2>
                    <p class="text-lg text-gray-300 mb-6">
                        Transformamos tus espacios con muebles que cuentan tu historia. Nuestro servicio premium ofrece dise√±o y fabricaci√≥n de piezas √∫nicas y personalizadas en madera, creadas artesanalmente para encajar a la perfecci√≥n con tu estilo.
                    </p>
                    <a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20estoy%20interesado%20en%20el%20servicio%20de%20muebles%20a%20medida." target="_blank" class="btn-primary bg-yellow-50 text-gray-800 border-yellow-50 hover:bg-transparent hover:text-yellow-50">Solicitar Cotizaci√≥n</a>
                </div>
            </section>
        
        <!-- Delivery Banner -->
        <section class="container mx-auto px-6 pt-12 pb-4 fade-in-up">
             <div class="bg-red text-white text-center p-4 rounded-2xl shadow-lg flex items-center justify-center space-x-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0" /></svg>
                <p class="font-semibold tracking-wider text-lg">ENTREGAS EN TODO EL ECUADOR</p>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonios" class="container mx-auto px-6 py-20 fade-in-up">
            <h2 class="text-4xl md:text-5xl font-serif font-bold text-center text-orange mb-12">Lo que dicen nuestros clientes</h2>
            <div class="relative">
                <div id="testimonial-slider-wrapper">
                    <div id="testimonial-track">
                        <!-- Testimonial Card 1 -->
                        <div class="testimonial-card">
                            <div class="product-card h-full p-6 md:p-8 text-left flex flex-col">
                                <div class="flex items-center mb-4 text-yellow-400">
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                </div>
                                <p class="text-gray-600 italic mb-4 flex-grow">"¬°El mu√±eco de lana es adorable! La calidad es incre√≠ble y se nota el cari√±o en cada puntada. Fue el regalo perfecto."</p>
                                <p class="font-bold text-right text-orange mt-auto">- Sof√≠a M. <span class="font-light text-gray-500">de Guayaquil</span></p>
                            </div>
                        </div>
                        <!-- Testimonial Card 2 -->
                        <div class="testimonial-card">
                           <div class="product-card h-full p-6 md:p-8 text-left flex flex-col">
                                <div class="flex items-center mb-4 text-yellow-400">
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                </div>
                                <p class="text-gray-600 italic mb-4 flex-grow">"El detalle en madera que compr√© super√≥ mis expectativas. ¬°Calidad y arte puro! Se nota el amor en cada pieza."</p>
                                <p class="font-bold text-right text-orange mt-auto">- Carlos G. <span class="font-light text-gray-500">de Quito</span></p>
                            </div>
                        </div>
                        <!-- Testimonial Card 3 -->
                        <div class="testimonial-card">
                           <div class="product-card h-full p-6 md:p-8 text-left flex flex-col">
                                <div class="flex items-center mb-4 text-yellow-400">
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                </div>
                                <p class="text-gray-600 italic mb-4 flex-grow">"El calendario de regalos es una maravilla. Program√© un obsequio para mi aniversario y lleg√≥ justo a tiempo. ¬°Totalmente recomendado!"</p>
                                <p class="font-bold text-right text-orange mt-auto">- David R. <span class="font-light text-gray-500">de Cuenca</span></p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Mobile Navigation Buttons -->
                <button id="testimonial-prev-btn" class="carousel-button prev md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" /></svg></button>
                <button id="testimonial-next-btn" class="carousel-button next md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg></button>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-red text-white py-12 mt-12">
        <div class="container mx-auto px-6 text-center">
            <img src="./logo-dcore.jpg" alt="D'CORE Logo" class="mx-auto mb-6 w-24 h-24 rounded-full border-4 border-white">
            <h3 class="text-3xl font-serif font-bold">D'CORE</h3>
            <p class="mt-2 text-lg text-white">Un Legado de Detalles del Coraz√≥n</p>
            <div class="flex justify-center space-x-6 my-6">
                 <a href="https://wa.me/593987786632" target="_blank" class="text-white hover:text-gray-200 transition-transform transform hover:scale-110"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99 0-3.903-.52-5.588-1.48L.057 24zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.886-.001 2.267.655 4.398 1.803 6.12l-1.34 4.885 5.023-1.311z"/></svg></a>
                 <a href="https://www.instagram.com/_hannah.yanez/" target="_blank" class="text-white hover:text-gray-200 transition-transform transform hover:scale-110"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919-4.919C8.416 2.175 8.796 2.163 12 2.163m0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948s.014 3.667.072 4.947c.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072s3.667-.014 4.947-.072c4.358-.2 6.78-2.618 6.98-6.98.059-1.281.073-1.689.073-4.948s-.014-3.667-.072-4.947c-.2-4.358-2.618-6.78-6.98-6.98C8.333 0 7.927.014 4.667.072H12zM12 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44 1.441-.645 1.441-1.44-.645-1.44-1.441-1.44z"/></svg></a>
            </div>
            <div class="mt-8 pt-8 border-t border-red/40">
                <p class="text-sm text-red/60">&copy; 2025 D'CORE. Todos los derechos reservados.</p>
                <p class="text-sm text-red/60 mt-4 tracking-wider">Dise√±ado por <a href="https://www.goatify.app/web" target="_blank" class="font-semibold underline hover:text-white">Goatify IA</a> en colaboraci√≥n con Y√°nez, cofundadora de la marca D'CORE.</p>
            </div>
        </div>
    </footer>

    <div id="toast" class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-red text-white px-6 py-3 rounded-full shadow-lg transition-transform duration-500 transform translate-y-20 opacity-0">
        Producto a√±adido al carrito.
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- L√≥gica del Men√∫ M√≥vil ---
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');

            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            
            mobileMenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                });
            });

            function getLocalEvents() {
                try {
                    const events = JSON.parse(localStorage.getItem('userEvents')) || [];
                    return events;
                } catch (e) { console.error("Error parsing userEvents from localStorage:", e); return []; }
            }

            function saveLocalEvents(events) {
                try {
                    localStorage.setItem('userEvents', JSON.stringify(events));
                } catch (e) { console.error("Error saving userEvents to localStorage:", e); }
            }

            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                });
            });
            
            const header = document.querySelector('header');
            window.addEventListener('scroll', () => {
                header.classList.toggle('scrolled', window.scrollY > 20);
            });

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('in-view');
                        entry.target.querySelectorAll('.stagger-child').forEach((child, i) => {
                             child.style.transitionDelay = `${i * 120}ms`;
                        });
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 }); 
            
            document.querySelectorAll('.fade-in-up').forEach(element => { observer.observe(element); });
            
            const products = [
                 { id: 1, name: "Mu√±eco de Lana", price: 25.00, image: "./IMG-20250830-WA0045.jpg", category: "tejido" },
                { id: 2, name: "Llavero Tallado", price: 15.00, image: "./IMG-20250830-WA0029.jpg", discount: 15, category: "madera" },
                { id: 3, name: "Camiseta Bordada", price: 40.00, image: "./IMG-20250830-WA0046.jpg", category: "bordado" },
                { id: 4, name: "Caja de Madera", price: 30.00, image: "./IMG-20250830-WA0030.jpg", discount: 20, category: "madera" },
                { id: 5, name: "Figura Tejida", price: 20.00, image: "./IMG-20250830-WA0047.jpg", category: "tejido" },
                { id: 6, name: "Detalle Tallado", price: 18.00, image: "./IMG-20250830-WA0027.jpg", discount: 20, category: "madera" },
                { id: 7, name: "Mu√±eco de Lana (Dise√±o 2)", price: 25.00, image: "./IMG-20250830-WA0026.jpg", category: "tejido" },
                { id: 8, name: "Llavero Tallado (Dise√±o 2)", price: 15.00, image: "./IMG-20250830-WA0023.jpg", discount: 20, category: "madera" },
                { id: 9, name: "Camiseta Bordada (Dise√±o 2)", price: 40.00, image: "./IMG-20250830-WA0024.jpg", category: "bordado" },
                { id: 10, name: "Figura de Madera", price: 35.00, image: "./IMG-20250830-WA0020.jpg", discount: 20, category: "madera" },
                { id: 11, name: "Mu√±eco Personalizado", price: 50.00, image: "./IMG-20250830-WA0021.jpg", category: "tejido" },
                { id: 12, name: "Caja de Madera (Dise√±o 2)", price: 32.00, image: "./IMG-20250830-WA0022.jpg", discount: 20, category: "madera" },
                { id: 13, name: "Bolso de Tela", price: 28.00, image: "./IMG-20250830-WA0042.jpg", category: "bordado" },
                { id: 14, name: "Bolso de Tela (Dise√±o 2)", price: 28.00, image: "./IMG-20250830-WA0043.jpg", category: "bordado" },
                { id: 15, name: "Marco de Madera", price: 22.00, image: "./IMG-20250830-WA0044.jpg", discount: 20, category: "madera" },
                { id: 16, name: "Llavero de Metal", price: 10.00, image: "./IMG-20250830-WA0039.jpg", category: "madera" },
                { id: 17, name: "Mu√±eca de Lana", price: 25.00, image: "./IMG-20250830-WA0040.jpg", category: "tejido" },
                { id: 18, name: "Tarro de Cer√°mica", price: 15.00, image: "./IMG-20250830-WA0041.jpg", category: "otro" },
                { id: 19, name: "Alcanc√≠a de Madera", price: 20.00, image: "./IMG-20250830-WA0037.jpg", discount: 20, category: "madera" },
                { id: 20, name: "Reloj de Pared", price: 55.00, image: "./IMG-20250830-WA0038.jpg", discount: 20, category: "madera" },
                { id: 21, name: "Cuadro de Madera", price: 45.00, image: "./IMG-20250830-WA0036.jpg", discount: 20, category: "madera" },
                { id: 22, name: "Collar de Madera", price: 12.00, image: "./IMG-20250830-WA0033.jpg", discount: 20, category: "madera" },
                { id: 23, name: "Pulsera de Madera", price: 8.00, image: "./IMG-20250830-WA0034.jpg", discount: 20, category: "madera" },
                { id: 24, name: "Bordado Personalizado", price: 50.00, image: "./IMG-20250830-WA0035.jpg", category: "bordado" },
                { id: 25, name: "Cenicero de Madera", price: 20.00, image: "./IMG-20250830-WA0031.jpg", discount: 20, category: "madera" },
                { id: 26, name: "Vasos de Madera", price: 15.00, image: "./IMG-20250830-WA0032.jpg", discount: 20, category: "madera" },
                { id: 27, name: "Llavero de Peluche", price: 10.00, image: "./IMG-20250830-WA0028.jpg", category: "tejido" },
            ];

            const productGrid = document.getElementById('product-grid');
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.classList.add('product-card', 'flex', 'flex-col', 'text-center');

                let priceHTML = `<span class="text-xl sm:text-2xl font-bold text-red mb-2 sm:mb-4">$${product.price.toFixed(2)}</span>`;
                let finalPrice = product.price;

                if (product.discount) {
                    finalPrice = product.price * (1 - product.discount / 100);
                    priceHTML = `
                        <div class="flex items-baseline justify-center space-x-2 mb-2 sm:mb-4">
                            <span class="text-lg sm:text-xl font-bold text-red">$${finalPrice.toFixed(2)}</span>
                            <span class="text-sm sm:text-lg text-gray-400 line-through">$${product.price.toFixed(2)}</span>
                        </div>`;
                }

                productCard.innerHTML = `
                    ${product.discount ? `<div class="sale-badge">-${product.discount}%</div>` : ''}
                    <div class="overflow-hidden rounded-t-2xl"><img src="${product.image}" alt="${product.name}" class="w-full h-40 sm:h-64 object-cover"></div>
                    <div class="p-3 sm:p-6 flex-1 flex flex-col">
                        <h3 class="text-base sm:text-xl font-semibold mb-2 flex-grow">${product.name}</h3>
                        ${priceHTML}
                        <button class="add-to-cart-btn btn-primary w-full mt-auto text-xs sm:text-sm">A√±adir al Carrito</button>
                    </div>`;
                productGrid.appendChild(productCard);
            });

            // Shopping Cart Logic
            let cart = [];
            const cartBtn = document.getElementById('cart-btn');
            const closeCartBtn = document.getElementById('close-cart-btn');
            const cartModal = document.getElementById('cart-modal');
            const cartOverlay = document.getElementById('cart-overlay');
            const cartItemsContainer = document.getElementById('cart-items');
            const cartTotalSpan = document.getElementById('cart-total');
            const cartCountSpan = document.getElementById('cart-count');
            const whatsappBtn = document.getElementById('whatsapp-btn');
            const toast = document.getElementById('toast');

            function openCart() { cartModal.classList.add('open'); cartOverlay.classList.add('open'); }
            function closeCart() { cartModal.classList.remove('open'); cartOverlay.classList.remove('open'); }

            cartBtn.addEventListener('click', openCart);
            closeCartBtn.addEventListener('click', closeCart);
            cartOverlay.addEventListener('click', closeCart);

            document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const name = e.target.closest('.product-card').querySelector('h3').textContent;
                    addProductToCartByName(name);
                    showToast(`¬°Excelente elecci√≥n! Se a√±adi√≥ ${name} al carrito.`);
                });
            });

            function addProductToCartByName(productName) {
                const productData = products.find(p => p.name === productName);
                if (!productData) return;
                
                const price = productData.discount ? productData.price * (1 - productData.discount / 100) : productData.price;
                const existingItem = cart.find(item => item.name === productName);
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({ name: productName, price: parseFloat(price), image: productData.image, quantity: 1 });
                }
                updateCart();
            }

            cartItemsContainer.addEventListener('click', (e) => {
                const target = e.target.closest('button');
                if (!target) return;
                
                const name = target.closest('.flex-1, .text-right').dataset.name;
                const action = target.dataset.action;
                const itemInCart = cart.find(item => item.name === name);
                if (!itemInCart) return;

                if (action === 'increase') { itemInCart.quantity++; } 
                else if (action === 'decrease') {
                    itemInCart.quantity--;
                    if (itemInCart.quantity === 0) cart = cart.filter(item => item.name !== name);
                } else if (action === 'remove') {
                    cart = cart.filter(item => item.name !== name);
                }
                updateCart();
            });

            function updateCart() {
                cartItemsContainer.innerHTML = '';
                let total = 0;
                let totalItems = 0;
                if (cart.length === 0) {
                    cartItemsContainer.innerHTML = '<p class="text-center text-gray-500">El carrito est√° vac√≠o.</p>';
                    cartCountSpan.classList.add('hidden');
                } else {
                    cart.forEach(item => {
                        total += item.price * item.quantity;
                        totalItems += item.quantity;
                        const itemElement = document.createElement('div');
                        itemElement.classList.add('flex', 'items-center', 'space-x-2', 'p-2', 'bg-gray-50', 'rounded-lg');
                        itemElement.innerHTML = `
                            <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded-lg">
                            <div class="flex-1" data-name="${item.name}">
                                <h4 class="font-bold text-sm">${item.name}</h4>
                                <div class="flex items-center space-x-2 mt-1">
                                    <button data-action="decrease" class="quantity-btn w-6 h-6 bg-gray-200 rounded-full font-bold">-</button>
                                    <span>${item.quantity}</span>
                                    <button data-action="increase" class="quantity-btn w-6 h-6 bg-gray-200 rounded-full font-bold">+</button>
                                </div>
                            </div>
                            <div class="text-right" data-name="${item.name}">
                               <span class="font-semibold text-sm">$${(item.price * item.quantity).toFixed(2)}</span>
                               <button data-action="remove" class="remove-btn text-red text-xs mt-1 hover:underline">Eliminar</button>
                            </div>`;
                        cartItemsContainer.appendChild(itemElement);
                    });
                    cartCountSpan.classList.remove('hidden');
                    cartCountSpan.textContent = totalItems;
                }
                cartTotalSpan.textContent = `$${total.toFixed(2)}`;
            }

            whatsappBtn.addEventListener('click', () => {
                if (cart.length === 0) {
                    showToast("Su carrito est√° vac√≠o.");
                    return;
                }
                let message = "¬°Hola D'CORE! Me gustar√≠a comprar los siguientes productos:\n\n";
                cart.forEach(item => {
                    message += `* ${item.quantity} x ${item.name} ($${(item.price * item.quantity).toFixed(2)})\n`;
                });
                message += `\nTotal: $${cartTotalSpan.textContent.replace('$', '')}`;
                const whatsappUrl = `https://wa.me/593987786632?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            });
            
            function showToast(message) {
                toast.textContent = message;
                toast.classList.remove('opacity-0', 'translate-y-20');
                setTimeout(() => { toast.classList.add('opacity-0', 'translate-y-20'); }, 3000);
            }

            // --- MEJORA: L√≥gica del Chatbot totalmente renovada ---
            const chatbotBtnTrigger = document.getElementById('chatbot-btn-trigger');
            const closeChatbotBtn = document.getElementById('close-chatbot-btn');
            const chatbotModal = document.getElementById('chatbot-modal');
            const chatbotOverlay = document.getElementById('chatbot-overlay');
            const chatInput = document.getElementById('chat-input');
            const sendBtn = document.getElementById('send-btn');
            const chatWindow = document.getElementById('chat-window');
            const chatOptionsContainer = document.getElementById('chat-options');

            let isBotTyping = false;

            const initialGreeting = {
                text: "¬°Hola! Soy tu asistente D'CORE. üòä Estoy aqu√≠ para ayudarte a encontrar el regalo perfecto, contarte sobre nuestros cursos o cualquier otra duda que tengas. ¬øC√≥mo puedo ayudarte hoy?",
                options: ['Ver productos', 'Info de Cursos', 'Ver promociones']
            };

            const knowledgeBase = {
                greetings: {
                    keywords: ['hola', 'buenas', 'saludos', 'hey'],
                    response: "¬°Qu√© bueno verte por aqu√≠! Soy el asistente de D'CORE, listo para ayudarte. ¬øBuscas un regalo, informaci√≥n sobre un curso o algo m√°s?",
                    options: initialGreeting.options
                },
                products: {
                    general: {
                        keywords: ['producto', 'art√≠culo', 'regalo', 'comprar', 'colecci√≥n', 'ver todo'],
                        response: "¬°Nuestros productos son hechos con el coraz√≥n! Tenemos piezas √∫nicas en <strong>madera</strong>, <strong>tejido</strong> y <strong>bordado</strong>. ¬øHay alguna categor√≠a que te interese en particular o prefieres ver toda la colecci√≥n?",
                        options: ['Ver de madera', 'Ver de tejido', 'Ver de bordado']
                    },
                    categories: {
                        madera: {
                            keywords: ['madera', 'tallado'],
                            response: "¬°Excelente elecci√≥n! Nuestra colecci√≥n de madera es muy especial. Tenemos desde llaveros y cajas hasta figuras y muebles a medida. Muchos con un <strong>20% de descuento</strong>. ¬øTe gustar√≠a ver algunos ejemplos populares?",
                            options: ["Llavero Tallado", "Caja de Madera", "Figura de Madera"]
                        },
                        tejido: {
                            keywords: ['tejido', 'lana', 'mu√±eco'],
                            response: "Nuestros tejidos son pura ternura. Creamos mu√±ecos adorables y figuras personalizadas, cada uno con una historia. ¬°Son el regalo perfecto para sorprender! ¬øQuieres que te muestre algunos?",
                            options: ["Mu√±eco de Lana", "Figura Tejida", "Mu√±eco Personalizado"]
                        },
                        bordado: {
                            keywords: ['bordado', 'camiseta', 'bolso'],
                            response: "El arte del bordado le da un toque √∫nico a todo. Hacemos dise√±os en camisetas, bolsos y m√°s. ¬°Incluso puedes personalizar el tuyo! ¬øTe gustar√≠a ver ejemplos?",
                            options: ["Camiseta Bordada", "Bolso de Tela", "Bordado Personalizado"]
                        }
                    }
                },
                courses: {
                    general: {
                        keywords: ['curso', 'clase', 'taller', 'aprender'],
                        response: "¬°Qu√© buena iniciativa! Nuestros talleres son una experiencia para el alma. Perfectos para aprender, regalar o conectar. ¬øCu√°l te llama m√°s la atenci√≥n?",
                        options: ['Bordado de Mu√±ecos', 'Bordado en Pareja', 'Tejedur√≠a en Madera', 'Dise√±o y Corte']
                    },
                    details: {
                        "Bordado de Mu√±ecos": "En este curso ($55) aprender√°s las t√©cnicas fundamentales para crear personajes adorables. ¬°Ideal para empezar en el mundo del bordado! Adem√°s, ¬°te llevas un llavero de regalo por inscribirte!",
                        "Bordado en Pareja": "Es un taller creativo ($90) pensado para parejas. Un plan √∫nico para crear juntos una obra de arte con un significado especial para ambos. ¬°Incluye un llavero de regalo para la pareja!",
                        "Tejedur√≠a en Madera": "Una sesi√≥n personalizada ($75) donde aprender√°s a tejer en madera para crear una pieza de decoraci√≥n o un regalo inolvidable. ¬°Y no olvides tu llavero de obsequio!",
                        "Dise√±o y Corte": "Este es un curso m√°s avanzado ($120) para quienes quieren dise√±ar y cortar sus propias piezas en madera. ¬°Da el siguiente paso en tu creatividad y ll√©vate un llavero de regalo!"
                    }
                },
                services: {
                    asesoria: {
                        keywords: ['asesor√≠a', 'ayuda', 'proyecto', 'idea'],
                        response: "¬°Claro que s√≠! Con nuestra asesor√≠a personalizada de $30/hora, te ayudamos a materializar cualquier idea que tengas, desde el concepto hasta la t√©cnica. Es ideal para que tu proyecto sea un √©xito. ¬øQuieres que te contactemos por WhatsApp para empezar?",
                        options: ['Contactar por WhatsApp', 'Gracias']
                    },
                    muebles: {
                        keywords: ['mueble', 'espacio', 'premium', 'medida'],
                        response: "Transformamos tus espacios con muebles √∫nicos que cuentan tu historia. Dise√±amos y fabricamos piezas personalizadas en madera. Es un servicio premium para un resultado espectacular. ¬øTe gustar√≠a solicitar una cotizaci√≥n por WhatsApp?",
                        options: ['Cotizar por WhatsApp', 'Gracias']
                    },
                    personalizados: {
                        keywords: ['personalizado', 'personaje', 'serie'],
                        response: "¬°Nos encanta hacer realidad tus ideas! Podemos crear modelos personalizados de cualquier personaje o serie que te guste. Cont√°ctanos por WhatsApp para contarnos tu idea y darte una cotizaci√≥n. ¬°El resultado te encantar√°!",
                        options: ['Contactar por WhatsApp', 'Gracias']
                    }
                },
                company: {
                    story: { keywords: ["historia", "nosotros", "quienes son", "d'core"], response: "D'CORE es el sue√±o de 9 hermanos que transformaron una tradici√≥n familiar en un taller de regalos con alma. Cada pieza lleva un trozo de nuestra historia, conectando corazones y honrando lazos familiares." },
                    shipping: { keywords: ["env√≠o", "entrega", "domicilio", "llega a"], response: "¬°Por supuesto! Hacemos env√≠os a cada rinc√≥n de Ecuador. Tu regalo llegar√° seguro a donde est√©s. El costo y tiempo de entrega dependen de tu ubicaci√≥n." }
                },
                promotions: {
                    keywords: ['promoci√≥n', 'promo', 'descuento', 'oferta'],
                    response: "¬°Est√°s de suerte! Actualmente tenemos dos promociones fant√°sticas: <strong>20% de descuento</strong> en toda la colecci√≥n de madera y, si te inscribes en cualquier curso, te llevas de <strong>regalo un llavero</strong> de madera tallada. ¬°Una oportunidad √∫nica!",
                    options: ['Ver productos en oferta', 'Ver cursos']
                },
                thanks: {
                    keywords: ['gracias', 'ok', 'listo', 'no, gracias', 'vale'],
                    response: "¬°De nada! Ha sido un placer ayudarte. Si necesitas algo m√°s, aqu√≠ estar√©. üòä",
                    options: initialGreeting.options
                },
                fallback: {
                    response: "Disculpa, no te entend√≠ muy bien. Puedo darte detalles sobre <strong>productos</strong> (madera, tejido, bordado), <strong>cursos</strong>, <strong>promociones</strong> y nuestra <strong>historia</strong>. ¬øC√≥mo te puedo asistir?",
                    options: initialGreeting.options
                }
            };

            function displayChatOptions(options = []) {
                chatOptionsContainer.innerHTML = '';
                options.forEach(option => {
                    const button = document.createElement('button');
                    button.classList.add('chat-option-btn');
                    button.textContent = option;
                    button.addEventListener('click', () => handleChatInteraction(option));
                    chatOptionsContainer.appendChild(button);
                });
            }

            function handleChatInteraction(message) {
                if (isBotTyping || message.trim() === '') return;
                addMessageToChat(message, true);
                chatInput.value = '';
                setBotTyping(true);

                setTimeout(() => {
                    const lowerCaseMessage = message.toLowerCase().trim().replace(/'/g, "");
                    let responseFound = false;

                    // --- Buscador de respuestas por palabras clave ---
                    const findResponse = (base, query) => {
                        for (const key in base) {
                            if (base[key].keywords && base[key].keywords.some(k => query.includes(k))) {
                                return base[key];
                            }
                        }
                        return null;
                    };
                    
                    // Prioridad 1: Saludos, Agradecimientos
                    let botResponse = findResponse({g: knowledgeBase.greetings, t: knowledgeBase.thanks}, lowerCaseMessage);
                    if (botResponse) {
                        addMessageToChat(botResponse.response, false, true);
                        displayChatOptions(botResponse.options);
                        responseFound = true;
                    }

                    // Prioridad 2: A√±adir al carrito
                    if (!responseFound && (lowerCaseMessage.startsWith('a√±adir') || lowerCaseMessage.startsWith('agregar'))) {
                        const productName = lowerCaseMessage.replace('a√±adir', '').replace('agregar', '').trim();
                        const productToAdd = products.find(p => p.name.toLowerCase() === productName);
                        if (productToAdd) {
                            addProductToCartByName(productToAdd.name);
                            addMessageToChat(`¬°Perfecto! He a√±adido "${productToAdd.name}" a tu carrito. ¬°Seguro le encantar√° a esa persona especial! ¬øNecesitas algo m√°s?`, false);
                            displayChatOptions(initialGreeting.options);
                            responseFound = true;
                        }
                    }

                    // Prioridad 3: Consultas sobre productos/cursos espec√≠ficos por nombre
                    if (!responseFound) {
                        const productMatch = products.find(p => lowerCaseMessage.includes(p.name.toLowerCase()));
                        if (productMatch) {
                            const price = productMatch.discount ? productMatch.price * (1 - productMatch.discount / 100) : productMatch.price;
                            const priceInfo = productMatch.discount
                                ? `Est√° en oferta a solo <strong>$${price.toFixed(2)}</strong> (antes $${productMatch.price.toFixed(2)}).`
                                : `Su precio es <strong>$${productMatch.price.toFixed(2)}</strong>.`;
                            addMessageToChat(`¬°Excelente elecci√≥n! El producto "${productMatch.name}" es una maravilla. ${priceInfo} ¬øQuieres que lo a√±ada al carrito por ti?`, false, true);
                            displayChatOptions([`A√±adir '${productMatch.name}'`, 'No, gracias']);
                            responseFound = true;
                        } else {
                            const courseMatch = Object.keys(knowledgeBase.courses.details).find(c => lowerCaseMessage.includes(c.toLowerCase()));
                            if (courseMatch) {
                                addMessageToChat(knowledgeBase.courses.details[courseMatch], false, true);
                                displayChatOptions(['Inscribirme por WhatsApp', 'Ver otros cursos']);
                                responseFound = true;
                            }
                        }
                    }

                    // Prioridad 4: B√∫squeda por categor√≠as y temas generales
                    if (!responseFound) {
                        botResponse = findResponse({ ...knowledgeBase.products.categories, ...knowledgeBase.services, p: knowledgeBase.promotions, c: knowledgeBase.courses.general, s: knowledgeBase.company.story, h: knowledgeBase.company.shipping, g: knowledgeBase.products.general }, lowerCaseMessage);
                        if (botResponse) {
                            addMessageToChat(botResponse.response, false, true);
                            displayChatOptions(botResponse.options);
                            if(botResponse.keywords.includes("ver todo")) document.getElementById('productos').scrollIntoView();
                            responseFound = true;
                        }
                    }

                    // Prioridad 5: Fallback
                    if (!responseFound) {
                        addMessageToChat(knowledgeBase.fallback.response, false, true);
                        displayChatOptions(knowledgeBase.fallback.options);
                    }

                    setBotTyping(false);
                }, 1200);
            }

            function setBotTyping(isTyping) {
                isBotTyping = isTyping;
                sendBtn.disabled = isTyping;
                chatInput.disabled = isTyping;
                const existingIndicator = chatWindow.querySelector('.typing-indicator');
                if (isTyping && !existingIndicator) {
                    const indicatorDiv = document.createElement('div');
                    indicatorDiv.className = 'typing-indicator';
                    indicatorDiv.innerHTML = '<span></span><span></span><span></span>';
                    chatWindow.appendChild(indicatorDiv);
                    chatWindow.scrollTop = chatWindow.scrollHeight;
                } else if (!isTyping && existingIndicator) {
                    existingIndicator.remove();
                }
            }
            
            function addMessageToChat(message, isUser, allowHTML = false) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message', isUser ? 'user-message' : 'bot-message');
                if (allowHTML) {
                    messageDiv.innerHTML = message;
                } else {
                    messageDiv.textContent = message;
                }
                chatWindow.appendChild(messageDiv);
                chatWindow.scrollTop = chatWindow.scrollHeight;
            }

            function sendMessage() {
                handleChatInteraction(chatInput.value);
            }

            function openChatbot() {
                chatbotModal.classList.add('open');
                chatbotOverlay.classList.add('open');
                chatbotBtnTrigger.classList.add('hidden');
            }
            function closeChatbot() {
                chatbotModal.classList.remove('open');
                chatbotOverlay.classList.remove('open');
                chatbotBtnTrigger.classList.remove('hidden');
            }

            chatbotBtnTrigger.addEventListener('click', () => { 
                chatWindow.innerHTML = '';
                setBotTyping(true);
                setTimeout(() => {
                    setBotTyping(false);
                    addMessageToChat(initialGreeting.text, false);
                    displayChatOptions(initialGreeting.options);
                }, 800);
                openChatbot();
            });
            closeChatbotBtn.addEventListener('click', closeChatbot);
            chatbotOverlay.addEventListener('click', closeChatbot);
            sendBtn.addEventListener('click', sendMessage);
            chatInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') sendMessage(); });
            
            // Chatbot se abre al cargar y se cierra tras un momento
            setTimeout(() => {
                if (!chatbotModal.classList.contains('open') && window.innerWidth > 768) { // Solo en escritorio
                    chatWindow.innerHTML = '';
                    addMessageToChat(initialGreeting.text, false);
                    displayChatOptions(initialGreeting.options);
                    openChatbot();
                    
                    setTimeout(() => {
                        closeChatbot();
                    }, 8000); // Se cierra despu√©s de 8 segundos
                }
            }, 1500); // Se abre despu√©s de 1.5 segundos

            // Carousel Logic
            const mainCarouselTrack = document.getElementById('main-carousel-track');
            const storyImages = ["./IMG-20250830-WA0034.jpg", "./IMG-20250830-WA0035.jpg", "./IMG-20250830-WA0046.jpg", "./IMG-20250830-WA0045.jpg", "./IMG-20250830-WA0030.jpg"];
            storyImages.forEach(imageUrl => {
                const slide = document.createElement('div');
                slide.className = 'carousel-slide';
                slide.style.backgroundImage = `url('${imageUrl}')`;
                mainCarouselTrack.appendChild(slide);
            });
            let mainCurrentSlide = 0;
            const mainSlides = mainCarouselTrack.children;
            const mainPrevBtn = document.getElementById('prev-btn');
            const mainNextBtn = document.getElementById('next-btn');

            function updateMainCarousel() {
                if (mainSlides.length > 0) {
                   mainCarouselTrack.style.transform = `translateX(-${mainCurrentSlide * 100}%)`;
                }
            }
            function nextMainSlide() { mainCurrentSlide = (mainCurrentSlide + 1) % mainSlides.length; updateMainCarousel(); }
            function prevMainSlide() { mainCurrentSlide = (mainCurrentSlide - 1 + mainSlides.length) % mainSlides.length; updateMainCarousel(); }
            mainNextBtn.addEventListener('click', nextMainSlide);
            mainPrevBtn.addEventListener('click', prevMainSlide);
            setInterval(nextMainSlide, 2500);

            const testimonialTrack = document.getElementById('testimonial-track');
            const testimonialSlides = Array.from(testimonialTrack.children);
            const testimonialPrevBtn = document.getElementById('testimonial-prev-btn');
            const testimonialNextBtn = document.getElementById('testimonial-next-btn');
            let currentTestimonialSlide = 0;
            function updateTestimonialCarousel() {
                if (window.innerWidth < 768) {
                    testimonialTrack.style.transform = `translateX(-${currentTestimonialSlide * 100}%)`;
                } else {
                    testimonialTrack.style.transform = 'none';
                }
            }
            function nextTestimonialSlide() { currentTestimonialSlide = (currentTestimonialSlide + 1) % testimonialSlides.length; updateTestimonialCarousel(); }
            function prevTestimonialSlide() { currentTestimonialSlide = (currentTestimonialSlide - 1 + testimonialSlides.length) % testimonialSlides.length; updateTestimonialCarousel(); }
            testimonialNextBtn.addEventListener('click', nextTestimonialSlide);
            testimonialPrevBtn.addEventListener('click', prevTestimonialSlide);
            window.addEventListener('resize', updateTestimonialCarousel);

            // Countdown timer logic
            const countdownEnd = new Date(Date.now() + 1000 * 60 * 60 * 24 * 7); // 7 d√≠as
            const daysSpan = document.getElementById('days');
            const hoursSpan = document.getElementById('hours');
            const minutesSpan = document.getElementById('minutes');
            const secondsSpan = document.getElementById('seconds');
            const countdownInterval = setInterval(() => {
                const now = new Date();
                const diff = countdownEnd - now;
                if (diff < 0) {
                    clearInterval(countdownInterval);
                    daysSpan.textContent = hoursSpan.textContent = minutesSpan.textContent = secondsSpan.textContent = '00';
                    return;
                }
                daysSpan.textContent = String(Math.floor(diff / (1000 * 60 * 60 * 24))).padStart(2, '0');
                hoursSpan.textContent = String(Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))).padStart(2, '0');
                minutesSpan.textContent = String(Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60))).padStart(2, '0');
                secondsSpan.textContent = String(Math.floor((diff % (1000 * 60)) / 1000)).padStart(2, '0');
            }, 1000);

            // Calendar Logic
            const currentMonthYearHeader = document.getElementById('current-month-year');
            const calendarDaysContainer = document.getElementById('calendar-days');
            const prevMonthBtn = document.getElementById('prev-month-btn');
            const nextMonthBtn = document.getElementById('next-month-btn');
            const addEventBtn = document.getElementById('add-event-btn');
            const eventNameInput = document.getElementById('event-name-input');
            const eventDateInput = document.getElementById('event-date-input');
            const monthEventsList = document.getElementById('month-events');
            const whatsappReminderBtn = document.getElementById('whatsapp-reminder-btn');
            
            let currentMonth = new Date();
            let userEvents = getLocalEvents();

            const specialDates = {
                1: [ { day: 1, name: "A√±o Nuevo" }, { day: 6, name: "D√≠a de Reyes" }, { day: 15, name: "D√≠a del Artesano Ecuatoriano" }],
                2: [ { day: 14, name: "D√≠a de San Valent√≠n" }, { day: 27, name: "D√≠a del Civismo (Ecuador)" } ],
                3: [ { day: 8, name: "D√≠a de la Mujer" }, { day: 19, name: "D√≠a del Padre (Espa√±a/Italia)" }, { day: 20, name: "Equinoccio de Primavera" } ],
                4: [ { day: 1, name: "D√≠a del Ni√±o (varios pa√≠ses)" }, { day: 22, name: "D√≠a de la Tierra" }, { day: 23, name: "D√≠a del Libro" } ],
                5: [ { day: 1, name: "D√≠a del Trabajo" }, { day: 10, name: "D√≠a de la Madre (M√©xico/EEUU)" }, { day: 24, name: "Batalla de Pichincha (Ecuador)" } ],
                6: [ { day: 1, name: "D√≠a del Ni√±o (Ecuador)" }, { day: 16, name: "D√≠a del Padre (EEUU/Latam)" }, { day: 21, name: "Inti Raymi (Andes)" } ],
                7: [ { day: 20, name: "D√≠a del Amigo" }, { day: 25, name: "Fundaci√≥n de Guayaquil" } ],
                8: [ { day: 10, name: "Primer Grito de Independencia (Ecuador)" }, { day: 15, name: "Asunci√≥n de la Virgen" }, { day: 26, name: "D√≠a de los Abuelos (Ecuador)" } ],
                9: [ { day: 21, name: "D√≠a del Amor y la Amistad (Colombia)" }, { day: 26, name: "D√≠a de la Bandera (Ecuador)" } ],
                10: [ { day: 9, name: "Independencia de Guayaquil" }, { day: 31, name: "D√≠a del Escudo (Ecuador) / Halloween" } ],
                11: [ { day: 2, name: "D√≠a de los Difuntos" }, { day: 3, name: "Independencia de Cuenca" } ],
                12: [ { day: 6, name: "Fundaci√≥n de Quito" }, { day: 24, name: "Nochebuena" }, { day: 25, name: "Navidad" }, { day: 31, name: "Fin de A√±o" } ],
            };

            function renderCalendar() {
                const year = currentMonth.getFullYear();
                const month = currentMonth.getMonth();
                currentMonthYearHeader.textContent = `${currentMonth.toLocaleString('es-ES', { month: 'long', year: 'numeric' })}`;
                calendarDaysContainer.innerHTML = '';
                const firstDay = new Date(year, month, 1).getDay();
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                const today = new Date();

                for (let i = 0; i < firstDay; i++) {
                    calendarDaysContainer.appendChild(document.createElement('div'));
                }

                for (let day = 1; day <= daysInMonth; day++) {
                    const dayElement = document.createElement('div');
                    dayElement.classList.add('calendar-day', 'current-month');
                    dayElement.textContent = day;
                    const date = new Date(year, month, day);

                    if (date.getDate() === today.getDate() && date.getMonth() === today.getMonth() && date.getFullYear() === today.getFullYear()) {
                        dayElement.classList.add('today');
                    }
                    
                    const monthEvents = specialDates[month + 1] || [];
                    if (monthEvents.some(e => e.day === day)) dayElement.classList.add('event');
                    
                    if (userEvents.some(e => {
                        const eventDate = new Date(e.date + 'T00:00:00');
                        return eventDate.getDate() === day && eventDate.getMonth() === month && eventDate.getFullYear() === year;
                    })) {
                        dayElement.classList.add('user-event');
                    }
                    
                    dayElement.addEventListener('click', () => {
                        eventDateInput.value = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                        showToast(`D√≠a ${day} seleccionado.`);
                    });
                    calendarDaysContainer.appendChild(dayElement);
                }
                renderMonthEvents();
            }
            
            function renderMonthEvents() {
                monthEventsList.innerHTML = '';
                const year = currentMonth.getFullYear();
                const month = currentMonth.getMonth() + 1;
                
                const eventsForMonth = userEvents.map(e => ({ ...e, dateObj: new Date(e.date + 'T00:00:00') }))
                                                 .filter(e => e.dateObj.getMonth() + 1 === month && e.dateObj.getFullYear() === year);

                const allEvents = (specialDates[month] || []).concat(
                    eventsForMonth.map(e => ({ day: e.dateObj.getDate(), name: e.name }))
                ).sort((a,b) => a.day - b.day);

                if (allEvents.length > 0) {
                     allEvents.forEach(event => {
                        const li = document.createElement('li');
                        li.classList.add('flex', 'justify-between', 'items-center', 'mb-2', 'text-sm', 'pr-1');

                        const dateObj = new Date(year, month - 1, event.day);
                        const dateString = dateObj.toLocaleDateString('es-ES', { day: 'numeric', month: 'long' });
                        
                        const message = `Hola D'CORE, quiero un recordatorio para: "${event.name}" el ${dateString}.`;
                        const whatsappUrl = `https://wa.me/593987786632?text=${encodeURIComponent(message)}`;

                        li.innerHTML = `
                            <span class="truncate">${event.day}: ${event.name}</span>
                            <a href="${whatsappUrl}" target="_blank" class="bg-green text-white p-1 rounded-full hover:bg-green/80 transition-colors ml-2 flex-shrink-0">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99 0-3.903-.52-5.588-1.48L.057 24zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.886-.001 2.267.655 4.398 1.803 6.12l-1.34 4.885 5.023-1.311z"/></svg>
                            </a>
                        `;
                        monthEventsList.appendChild(li);
                    });
                } else {
                    monthEventsList.innerHTML = "<li>No hay fechas especiales.</li>";
                }
            }

            function addEvent(eventName, eventDate) {
                if (!eventName || !eventDate) {
                    showToast('Por favor, ingrese un nombre y una fecha.');
                    return;
                }
                userEvents.push({ name: eventName, date: eventDate });
                saveLocalEvents(userEvents);
                renderCalendar(); 
                showToast("Fecha especial a√±adida a su calendario.");
            }

            addEventBtn.addEventListener('click', () => {
                addEvent(eventNameInput.value.trim(), eventDateInput.value);
                eventNameInput.value = '';
                eventDateInput.value = '';
            });

            whatsappReminderBtn.addEventListener('click', () => {
                const eventName = eventNameInput.value.trim();
                const eventDate = eventDateInput.value;
                if (!eventName || !eventDate) {
                    showToast('Por favor, ingrese nombre y fecha para el recordatorio.');
                    return;
                }
                const dateObj = new Date(eventDate + 'T00:00:00');
                const dateString = dateObj.toLocaleDateString('es-ES', { day: 'numeric', month: 'long', year: 'numeric' });
                const message = `Hola D'CORE, agendar un recordatorio para: "${eventName}" el ${dateString}.`;
                const whatsappUrl = `https://wa.me/593987786632?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            });

            prevMonthBtn.addEventListener('click', () => { currentMonth.setMonth(currentMonth.getMonth() - 1); renderCalendar(); });
            nextMonthBtn.addEventListener('click', () => { currentMonth.setMonth(currentMonth.getMonth() + 1); renderCalendar(); });

            renderCalendar();
        });
    </script>
</body>
</html>

