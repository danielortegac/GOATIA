<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D'CORE - Un Legado de Detalles del Coraz√≥n</title>
    <link rel="icon" href="./logo-dcore.jpg" type="image/x-icon">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Swiper.js for Carousels -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles and animations */
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F4F0;
            color: #4C3C34;
            overflow-x: hidden;
        }
        h1, h2, h3 { font-family: 'Playfair Display', serif; }
        
        .bg-cream{ background-color: #F8F4F0; }
        .bg-dark-brown{ background-color: #4C3C34; }
        .text-cream{ color: #F8F4F0; }
        .bg-light-brown { background-color: #D6C2B4; }

        .btn-primary {
            background-color: #4C3C34;
            color: #F8F4F0;
            padding: 0.85rem 2rem;
            border-radius: 9999px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: 0 4px 10px rgba(76, 60, 52, 0.2);
            transform: translateY(0);
        }
        .btn-primary:hover {
            background-color: #6A5C52;
            box-shadow: 0 8px 20px rgba(76, 60, 52, 0.25);
            transform: translateY(-3px);
        }
        .btn-cta:hover {
            background-color: #ffffff;
            color: #4C3C34 !important; /* Fixed text color on hover */
        }

        /* Animations */
        @keyframes gradient-flow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .animate-gradient-flow {
            background: linear-gradient(-45deg, #4C3C34, #A0522D, #D6C2B4, #4C3C34);
            background-size: 400% 400%;
            color: transparent;
            background-clip: text;
            -webkit-background-clip: text;
            animation: gradient-flow 10s ease infinite;
        }
        
        @keyframes hero-fade-in {
            from {
                opacity: 0;
                transform: scale(0.95) translateY(10px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        .hero-animation {
            animation: hero-fade-in 1.2s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
        }
        
        .fade-in-up {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .in-view {
            opacity: 1;
            transform: translateY(0);
        }

        /* Product Card Enhancements */
        .product-card {
            background-color: #fff;
            border-radius: 1rem;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.4s ease, box-shadow 0.4s ease;
            overflow: hidden;
            position: relative;
        }
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 30px rgba(0, 0, 0, 0.1);
        }
        .product-card img {
            transition: transform 0.4s ease;
        }
        .product-card:hover img {
            transform: scale(1.05);
        }
        .sale-badge {
            position: absolute;
            top: 1rem;
            left: -10px; /* Positioned for effect */
            background-color: #EF4444;
            color: white;
            padding: 0.35rem 1rem;
            border-radius: 3px;
            font-size: 0.9rem;
            font-weight: bold;
            transform: rotate(-5deg);
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
        }

        /* Swiper Carousel styles */
        .hero-swiper .swiper-slide img {
            width: 100%;
            height: 60vh;
            object-fit: cover;
            border-radius: 1.5rem;
        }
        .swiper-pagination-bullet-active {
            background: #4C3C34 !important;
        }
        
        .performance-section {
            position: relative;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        /* Mobile horizontal scroll */
        .mobile-scroll-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 3rem;
        }
        @media (max-width: 768px) {
            .mobile-scroll-wrapper {
                overflow-x: auto;
                padding-bottom: 1rem;
                -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
            }
             .mobile-scroll-wrapper::-webkit-scrollbar {
                display: none; /* Hide scrollbar */
            }
            .mobile-scroll-container {
                display: flex;
                flex-wrap: nowrap;
                gap: 1.5rem;
            }
            .mobile-scroll-item {
                flex: 0 0 80%;
            }
        }
    </style>
</head>
<body class="bg-cream text-brown">

    <!-- Header & Navigation -->
    <header class="sticky top-0 z-50 bg-cream/90 backdrop-blur-lg shadow-sm transition-all duration-300 py-4">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <a href="#inicio" class="flex items-center space-x-3">
                <img src="./logo-dcore.jpg" alt="D'CORE Logo" class="w-12 h-12 rounded-full border-2 border-brown">
                <span class="text-3xl font-bold tracking-wider" style="font-family: 'Playfair Display', serif;">D'CORE</span>
            </a>
            <nav class="hidden md:flex items-center space-x-8 text-lg">
                <a href="#nosotros" class="hover:text-gray-600 transition-colors duration-300">Nuestra Historia</a>
                <a href="#promociones" class="hover:text-gray-600 transition-colors duration-300">Promociones</a>
                <a href="#productos" class="hover:text-gray-600 transition-colors duration-300">Productos</a>
                <a href="#contacto" class="hover:text-gray-600 transition-colors duration-300">Contacto</a>
            </nav>
            <div class="flex items-center space-x-4">
                <button id="cart-btn" class="relative group">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-brown group-hover:scale-110 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.182 1.944.693 1.944H17.5a2.25 2.25 0 002-2.25v-2.25" /></svg>
                    <span id="cart-count" class="absolute top-[-0.5rem] right-[-0.5rem] bg-red-500 text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center hidden">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Cart Modal -->
    <div id="cart-modal" class="fixed top-0 right-0 h-full w-full md:w-96 bg-white shadow-2xl z-[100] p-6 flex flex-col transform translate-x-full transition-transform duration-500 ease-in-out">
        <div class="flex justify-between items-center mb-6"><h2 class="text-3xl font-bold text-brown">Tu Carrito</h2><button id="close-cart-btn" class="text-brown text-4xl hover:text-gray-600 transition-colors">&times;</button></div><div id="cart-items" class="flex-1 overflow-y-auto space-y-4 pr-2"></div><div id="cart-summary" class="mt-6 pt-4 border-t border-gray-200"><div class="flex justify-between items-center text-xl font-bold mb-4"><span>Total:</span><span id="cart-total">$0.00</span></div><button id="whatsapp-btn" class="btn-primary w-full text-center">Enviar Carrito por WhatsApp</button></div>
    </div>

    <main>
        <!-- Hero Section with Swiper Carousel -->
        <section id="inicio" class="container mx-auto px-6 py-12">
            <div class="swiper hero-swiper shadow-xl rounded-2xl">
                <div class="swiper-wrapper" id="hero-carousel-wrapper">
                    <!-- Images will be injected by JS -->
                </div>
                <div class="swiper-pagination"></div>
            </div>
            <div class="text-center mt-12 hero-animation">
                <h1 class="text-6xl md:text-8xl font-extrabold text-brown mb-4 animate-gradient-flow">D'CORE</h1>
                <p class="text-2xl md:text-3xl font-light text-brown" style="font-family: 'Playfair Display', serif;">Un Legado de Detalles del Coraz√≥n</p>
                <a href="#productos" class="mt-8 inline-block btn-primary">Explorar Colecci√≥n</a>
            </div>
        </section>

        <!-- Our Story Section -->
        <section id="nosotros" class="container mx-auto px-6 py-20 fade-in-up">
            <h2 class="text-4xl md:text-5xl font-bold text-center mb-12">Nuestra Historia</h2>
            <div class="flex flex-col md:flex-row items-center gap-12">
                <div class="md:w-1/2">
                    <img src="./IMG-20250830-WA0037.jpg" alt="Foto de la familia D'CORE" class="w-full h-auto rounded-xl shadow-lg transform rotate-2 transition-transform duration-500 hover:rotate-0">
                </div>
                <div class="md:w-1/2 text-lg leading-relaxed">
                    <p class="mb-4">
                        La historia de D'CORE no empez√≥ en un bazar, sino en intercambios de nueve hermanos. Pepe, Alba, Marco, Paty, Lenin, Lupe, Kathy, Cubi y Marie crecieron en un hogar donde los regalos no se compraban, se creaban. Cada cumplea√±os, cada Navidad, el verdadero desaf√≠o era superar la creatividad del a√±o anterior.
                    </p>
                    <p class="mb-4">
                        El incidente detonante ocurri√≥ cuando un amigo de la familia, conmovido por un obsequio de Paty, le dijo: ‚ÄúTu regalo tiene un valor que el dinero no puede comprar‚Äù. Esa simple frase encendi√≥ una chispa en los hermanos.
                    </p>
                    <p>
                        As√≠, lo que empez√≥ como una tradici√≥n familiar se transform√≥ en una misi√≥n: unir sus talentos y crear D'CORE, un lugar donde cada detalle sale del coraz√≥n.
                    </p>
                </div>
            </div>
        </section>

        <!-- Why Choose Us Section -->
        <section id="why-us" class="container mx-auto px-6 py-20">
            <div class="mobile-scroll-wrapper">
                <div class="mobile-scroll-container text-center">
                    <div class="mobile-scroll-item fade-in-up" style="transition-delay: 100ms;"><div class="bg-white p-6 rounded-full w-24 h-24 mx-auto flex items-center justify-center shadow-lg mb-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-brown" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg></div><h3 class="text-2xl font-bold mb-2">Hecho a Mano con Amor</h3><p>Cada pieza es √∫nica, creada con dedicaci√≥n y pasi√≥n.</p></div>
                    <div class="mobile-scroll-item fade-in-up" style="transition-delay: 200ms;"><div class="bg-white p-6 rounded-full w-24 h-24 mx-auto flex items-center justify-center shadow-lg mb-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-brown" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" /></svg></div><h3 class="text-2xl font-bold mb-2">Totalmente Personalizable</h3><p>Adaptamos dise√±os a tus ideas para un regalo inolvidable.</p></div>
                    <div class="mobile-scroll-item fade-in-up" style="transition-delay: 300ms;"><div class="bg-white p-6 rounded-full w-24 h-24 mx-auto flex items-center justify-center shadow-lg mb-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-brown" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10l2-2h8a1 1 0 001-1zM22 9h-2a1 1 0 00-1 1v6a1 1 0 001 1h2v2h-4" /></svg></div><h3 class="text-2xl font-bold mb-2">Entregas a todo el Ecuador</h3><p>Llevamos la magia de D'CORE hasta la puerta de tu casa.</p></div>
                </div>
            </div>
        </section>

        <!-- Promotions Section Redesigned -->
        <section id="promociones" class="py-20 bg-cream">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto bg-white rounded-2xl p-8 md:p-12 text-center fade-in-up shadow-xl border-2 border-dark-brown border-dashed">
                    <h3 class="text-3xl font-bold mb-3 text-red-600">¬°OFERTA DE SEPTIEMBRE!</h3>
                    <h2 class="text-4xl md:text-5xl font-bold text-center mb-6 text-dark-brown">Amor y Amistad</h2>
                    <p class="text-xl text-gray-800 mb-8">
                        Recibe un <strong>15% de DESCUENTO</strong> en todos los productos de las categor√≠as <strong>tejido y bordado</strong>. ¬°El detalle perfecto para esa persona especial!
                    </p>
                    <a href="#productos" class="btn-primary">Ver Productos en Oferta</a>
                </div>
            </div>
        </section>

        <!-- How It Works Section Redesigned -->
        <section id="how-it-works" class="container mx-auto px-6 py-20">
            <h2 class="text-4xl md:text-5xl font-bold text-center mb-16 fade-in-up">Tu Regalo Ideal en 3 Pasos</h2>
             <div class="mobile-scroll-wrapper">
                <div class="relative mobile-scroll-container">
                    <!-- Dashed line for desktop -->
                    <div class="absolute top-12 left-0 w-full h-1 border-t-2 border-dashed border-gray-300 hidden md:block"></div>
            
                    <!-- Step 1 Card -->
                    <div class="mobile-scroll-item relative z-10 flex flex-col items-center text-center max-w-xs fade-in-up" style="transition-delay: 100ms;">
                        <div class="bg-dark-brown text-cream p-4 rounded-full mb-4 shadow-lg"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg></div>
                        <h3 class="text-2xl font-bold mb-2">1. Explora y Elige</h3>
                        <p>Navega por nuestra colecci√≥n y encuentra el producto que te enamore.</p>
                    </div>
            
                    <!-- Step 2 Card -->
                    <div class="mobile-scroll-item relative z-10 flex flex-col items-center text-center max-w-xs fade-in-up" style="transition-delay: 200ms;">
                        <div class="bg-dark-brown text-cream p-4 rounded-full mb-4 shadow-lg"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></div>
                        <h3 class="text-2xl font-bold mb-2">2. Personaliza tu Pedido</h3>
                        <p>A√±ade los productos al carrito y env√≠anos tu pedido para afinar los detalles.</p>
                    </div>
            
                    <!-- Step 3 Card -->
                    <div class="mobile-scroll-item relative z-10 flex flex-col items-center text-center max-w-xs fade-in-up" style="transition-delay: 300ms;">
                        <div class="bg-dark-brown text-cream p-4 rounded-full mb-4 shadow-lg"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10l2-2h8a1 1 0 001-1zM22 9h-2a1 1 0 00-1 1v6a1 1 0 001 1h2v2h-4" /></svg></div>
                        <h3 class="text-2xl font-bold mb-2">3. Rec√≠belo en Casa</h3>
                        <p>Coordinamos el pago y te lo enviamos a cualquier parte del Ecuador.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Product Gallery Section -->
        <section id="productos" class="py-20 bg-light-brown my-12">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-12 fade-in-up">Nuestras Creaciones</h2>
                <div id="product-grid" class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-8">
                    <!-- Products will be injected here by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonials" class="container mx-auto px-6 py-20">
            <h2 class="text-4xl md:text-5xl font-bold text-center mb-12 fade-in-up">Lo que dicen Nuestros Clientes</h2>
            <div class="swiper testimonials-swiper max-w-3xl mx-auto fade-in-up">
                <div class="swiper-wrapper">
                    <div class="swiper-slide text-center p-8">
                        <div class="flex justify-center mb-4 text-yellow-500"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg></div>
                        <p class="text-xl italic text-gray-700">"¬°El mu√±eco que ped√≠ super√≥ mis expectativas! La calidad y el cari√±o que le ponen a cada detalle es incre√≠ble. 100% recomendado."</p><p class="mt-4 font-bold text-lg">- Ana G., Quito</p>
                    </div>
                    <div class="swiper-slide text-center p-8">
                        <div class="flex justify-center mb-4 text-yellow-500"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg></div>
                        <p class="text-xl italic text-gray-700">"El regalo perfecto. Mi sudadera bordada es mi nueva prenda favorita. Gracias D'CORE por crear algo tan especial."</p><p class="mt-4 font-bold text-lg">- Carlos R., Guayaquil</p>
                    </div>
                    <div class="swiper-slide text-center p-8">
                         <div class="flex justify-center mb-4 text-yellow-500"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg></div>
                        <p class="text-xl italic text-gray-700">"Excelente servicio y el grabado en madera qued√≥ precioso. Un recuerdo que atesorar√© para siempre."</p><p class="mt-4 font-bold text-lg">- Sof√≠a M., Cuenca</p>
                    </div>
                     <div class="swiper-slide text-center p-8">
                         <div class="flex justify-center mb-4 text-yellow-500"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg></div>
                        <p class="text-xl italic text-gray-700">"El llavero de aguacate es adorable. Se nota que est√° hecho con mucho amor. ¬°Definitivamente volver√© a comprar!"</p><p class="mt-4 font-bold text-lg">- Mateo V., Ambato</p>
                    </div>
                     <div class="swiper-slide text-center p-8">
                         <div class="flex justify-center mb-4 text-yellow-500"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg></div>
                        <p class="text-xl italic text-gray-700">"¬°Me encant√≥! El env√≠o fue s√∫per r√°pido y el producto lleg√≥ en perfectas condiciones. Calidad de exportaci√≥n."</p><p class="mt-4 font-bold text-lg">- Valentina C., Manta</p>
                    </div>
                </div>
                <div class="swiper-pagination mt-8"></div>
            </div>
        </section>

        <!-- Call to Action Section (Improved) -->
        <section id="contacto" class="container mx-auto px-6 py-20 text-center">
            <div class="bg-dark-brown text-white p-8 md:p-16 rounded-3xl shadow-xl transform hover:scale-[1.02] transition-transform duration-500 fade-in-up">
                <h2 class="text-4xl md:text-5xl font-bold mb-4">Convierte Tu Visi√≥n en un Regalo √önico</h2>
                <p class="text-lg md:text-xl mb-10 max-w-3xl mx-auto">
                    ¬øViste un personaje que te encanta? ¬øTienes una foto especial? Tu idea es nuestro lienzo. Env√≠anos tu inspiraci√≥n, ya sea un personaje favorito, un dise√±o so√±ado o cualquier imagen, y nuestro equipo de artesanos lo transformar√° en una pieza de arte tangible, hecha exclusivamente para ti.
                </p>
                <a href="https://wa.me/593987654321?text=Hola%20D'CORE,%20me%20gustar√≠a%20cotizar%20un%20regalo%20personalizado." target="_blank" class="btn-primary bg-cream text-brown btn-cta">Cotiza tu Idea Aqu√≠</a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-dark-brown text-cream pt-16 pb-8">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left">
                <div class="flex flex-col items-center md:items-start">
                    <div class="flex items-center space-x-3 mb-4"><img src="./logo-dcore.jpg" alt="D'CORE Logo" class="w-12 h-12 rounded-full"><span class="text-2xl font-bold" style="font-family: 'Playfair Display', serif;">D'CORE</span></div>
                    <p class="max-w-xs text-gray-400">Un Legado de Detalles del Coraz√≥n.</p>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-4 text-white">Navegaci√≥n</h4>
                    <ul class="space-y-2">
                        <li><a href="#nosotros" class="text-gray-400 hover:text-white transition-colors">Nuestra Historia</a></li>
                        <li><a href="#promociones" class="text-gray-400 hover:text-white transition-colors">Promociones</a></li>
                        <li><a href="#productos" class="text-gray-400 hover:text-white transition-colors">Productos</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-4 text-white">S√≠guenos</h4>
                    <div class="flex justify-center md:justify-start space-x-6"><a href="#" target="_blank" class="text-gray-400 hover:text-white transform hover:scale-125 transition-transform"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" /></svg></a><a href="#" target="_blank" class="text-gray-400 hover:text-white transform hover:scale-125 transition-transform"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.013-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.345 2.525c.636-.247 1.363-.416 2.427-.465C9.792 2.013 10.146 2 12.315 2zM12 7.044c-2.749 0-4.973 2.224-4.973 4.973S9.251 16.99 12 16.99s4.973-2.224 4.973-4.973S14.749 7.044 12 7.044zM12 14.9a2.904 2.904 0 110-5.808 2.904 2.904 0 010 5.808zM16.949 6.02a1.185 1.185 0 11-2.37.001 1.185 1.185 0 012.37-.001z" clip-rule="evenodd" /></svg></a><a href="#" target="_blank" class="text-gray-400 hover:text-white transform hover:scale-125 transition-transform"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M11.91 10.84a2.23 2.23 0 11-2.23 2.23 2.23 2.23 0 012.23-2.23m0-1.87a4.1 4.1 0 104.1 4.1 4.1 4.1 0 00-4.1-4.1zM19.33 3.25a3.63 3.63 0 00-2.45-1.1H7.12a3.63 3.63 0 00-2.45 1.1 3.63 3.63 0 00-1.1 2.45v12.6a3.63 3.63 0 001.1 2.45 3.63 3.63 0 002.45 1.1h12.6a3.63 3.63 0 002.45-1.1 3.63 3.63 0 001.1-2.45V5.7a3.63 3.63 0 00-1.1-2.45zM21.2 18.3a1.8 1.8 0 01-1.8 1.8H4.6a1.8 1.8 0 01-1.8-1.8V5.7A1.8 1.8 0 014.6 3.9h14.8a1.8 1.8 0 011.8 1.8z"/></svg></a></div></div></div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-400">
                <p>&copy; 2025 D'CORE. Hecho con ‚ù§Ô∏è en Ecuador.</p>
                <p class="text-sm mt-2">Dise√±ado por <a href="https://www.goatify.app/web" target="_blank" rel="noopener noreferrer" class="font-semibold text-cream hover:underline">Goatify IA</a> en colaboraci√≥n con <b class="font-semibold text-cream">Hannah Y√°nez</b>, fundadora de la marca.</p>
            </div>
        </div>
    </footer>

    <!-- Toast Notification (Corrected) -->
    <div id="toast" class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-dark-brown text-cream px-6 py-3 rounded-full shadow-lg transition-all duration-500 opacity-0 -translate-y-4"></div>

    <script>
        // --- DATA & CONFIG ---
        const PROMOTION_DISCOUNT = 0.15; // 15%
        const PROMOTION_CATEGORIES = ['tejido', 'bordado'];
        const allProducts = [
            { name: "Amigurumi Pollito", price: 22.00, image: "./IMG-20250830-WA0045.jpg", category: 'tejido' },
            { name: "Sudadera Bordada Floral", price: 45.00, image: "./IMG-20250830-WA0046.jpg", category: 'bordado' },
            { name: "Amigurumi Stich", price: 25.00, image: "./IMG-20250830-WA0047.jpg", category: 'tejido' },
            { name: "Llavero de Madera", price: 15.00, image: "./IMG-20250830-WA0042.jpg", category: 'madera' },
            { name: "Detalle en Madera", price: 18.00, image: "./IMG-20250830-WA0043.jpg", category: 'madera' },
            { name: "Bordado Personalizado", price: 35.00, image: "./IMG-20250830-WA0044.jpg", category: 'bordado' },
            { name: "Caja de Recuerdos", price: 30.00, image: "./IMG-20250830-WA0039.jpg", category: 'madera' },
            { name: "Amigurumi Osito", price: 20.00, image: "./IMG-20250830-WA0040.jpg", category: 'tejido' },
            { name: "Detalle Bordado Coraz√≥n", price: 28.00, image: "./IMG-20250830-WA0041.jpg", category: 'bordado' },
            { name: "Recuerdo Familiar", price: 40.00, image: "./IMG-20250830-WA0037.jpg", category: 'madera' },
            { name: "Base de Madera Decorativa", price: 25.00, image: "./IMG-20250830-WA0036.jpg", category: 'madera' },
            { name: "Llavero Aguacate", price: 12.00, image: "./IMG-20250830-WA0033.jpg", category: 'tejido' },
            { name: "Set de Llaveros", price: 20.00, image: "./IMG-20250830-WA0034.jpg", category: 'madera' },
            { name: "Llavero Tejido", price: 10.00, image: "./IMG-20250830-WA0035.jpg", category: 'tejido' },
            { name: "Grabado en Madera", price: 28.00, image: "./IMG-20250830-WA0031.jpg", category: 'madera' },
            { name: "Recuerdo en Madera", price: 26.00, image: "./IMG-20250830-WA0032.jpg", category: 'madera' },
            { name: "Figura de Madera Girasol", price: 24.00, image: "./IMG-20250830-WA0028.jpg", category: 'madera' },
            { name: "Llavero Tallado Gato", price: 15.00, image: "./IMG-20250830-WA0029.jpg", category: 'madera' },
            { name: "Caja de Madera Personalizada", price: 30.00, image: "./IMG-20250830-WA0030.jpg", category: 'madera' },
            { name: "Detalle Tallado Especial", price: 18.00, image: "./IMG-20250830-WA0027.jpg", category: 'madera' },
            { name: "Amigurumi Dinosaurio", price: 25.00, image: "./IMG-20250830-WA0025.jpg", category: 'tejido' },
            { name: "Mu√±eco de Lana (Dise√±o 2)", price: 25.00, image: "./IMG-20250830-WA0026.jpg", category: 'tejido' },
            { name: "Llavero Tallado (Dise√±o 2)", price: 15.00, image: "./IMG-20250830-WA0023.jpg", category: 'madera' },
            { name: "Camiseta Bordada (Dise√±o 2)", price: 40.00, image: "./IMG-20250830-WA0024.jpg", category: 'bordado' },
            { name: "Figura de Madera Grabada", price: 35.00, image: "./IMG-20250830-WA0020.jpg", category: 'madera' },
            { name: "Mu√±eco Personalizado", price: 50.00, image: "./IMG-20250830-WA0021.jpg", category: 'tejido' },
            { name: "Caja de Madera (Dise√±o 2)", price: 32.00, image: "./IMG-20250830-WA0022.jpg", category: 'madera' },
        ];
        
        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            initCarousels();
            populateProducts();
            setupEventListeners();
            updateCart();
            setupIntersectionObserver();
        });

        // --- ANIMATIONS ---
        function setupIntersectionObserver() {
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('in-view');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            document.querySelectorAll('.fade-in-up').forEach(el => observer.observe(el));
        }

        // --- CAROUSELS ---
        function initCarousels() {
            const heroWrapper = document.getElementById('hero-carousel-wrapper');
            allProducts.forEach(product => {
                heroWrapper.innerHTML += `<div class="swiper-slide"><img src="${product.image}" alt="${product.name}" loading="lazy"></div>`;
            });

            new Swiper('.hero-swiper', {
                loop: true,
                autoplay: { delay: 3000, disableOnInteraction: false },
                pagination: { el: '.swiper-pagination', clickable: true },
                effect: 'slide', // Smoother on mobile than 'fade'
                grabCursor: true,
            });
            new Swiper('.testimonials-swiper', {
                loop: true,
                autoplay: { delay: 5000, disableOnInteraction: false },
                pagination: { el: '.swiper-pagination', clickable: true },
                grabCursor: true,
            });
        }

        // --- PRODUCT & CART LOGIC ---
        function populateProducts() {
            const productGrid = document.getElementById('product-grid');
            allProducts.forEach((product) => {
                const isOnSale = PROMOTION_CATEGORIES.includes(product.category);
                const finalPrice = isOnSale ? product.price * (1 - PROMOTION_DISCOUNT) : product.price;

                const saleBadgeHTML = isOnSale ? `<div class="sale-badge">${PROMOTION_DISCOUNT * 100}% OFF</div>` : '';
                const priceHTML = isOnSale
                    ? `<div class="flex items-center justify-center gap-2"><span class="text-gray-500 line-through text-base">$${product.price.toFixed(2)}</span><span class="text-2xl font-bold text-red-500">$${finalPrice.toFixed(2)}</span></div>`
                    : `<span class="text-2xl font-bold text-brown">$${product.price.toFixed(2)}</span>`;

                const productCard = document.createElement('div');
                productCard.className = 'product-card flex flex-col text-center';
                productCard.innerHTML = `
                    <div class="overflow-hidden relative">
                        ${saleBadgeHTML}
                        <img src="${product.image}" alt="${product.name}" class="w-full h-56 object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x400/F8F4F0/4C3C34?text=${encodeURIComponent(product.name)}';">
                    </div>
                    <div class="p-4 md:p-6 flex flex-col flex-grow">
                        <h3 class="text-lg font-semibold mb-2 flex-grow">${product.name}</h3>
                        <div class="my-4">${priceHTML}</div>
                        <button class="add-to-cart-btn btn-primary mt-auto text-sm" data-name="${product.name}" data-price="${finalPrice}" data-image="${product.image}">A√±adir al Carrito</button>
                    </div>`;
                productGrid.appendChild(productCard);
            });
        }
        
        let cart = [];
        const cartModal = document.getElementById('cart-modal');
        
        function setupEventListeners() {
            document.getElementById('cart-btn').addEventListener('click', () => cartModal.classList.remove('translate-x-full'));
            document.getElementById('close-cart-btn').addEventListener('click', () => cartModal.classList.add('translate-x-full'));
            
            document.getElementById('product-grid').addEventListener('click', e => {
                if (e.target.classList.contains('add-to-cart-btn')) addToCart(e.target.dataset);
            });

            document.getElementById('cart-items').addEventListener('click', e => {
                if (e.target.classList.contains('quantity-change')) updateQuantity(e.target.dataset.index, e.target.dataset.amount);
            });

            document.getElementById('whatsapp-btn').addEventListener('click', sendWhatsAppMessage);
        }

        function addToCart({ name, price, image }) {
            const existingItem = cart.find(item => item.name === name);
            if (existingItem) existingItem.quantity++;
            else cart.push({ name, price: parseFloat(price), image, quantity: 1 });
            updateCart();
            showToast(`'${name}' a√±adido al carrito.`);
            cartModal.classList.remove('translate-x-full');

            // Auto-close cart after a delay
            setTimeout(() => {
                cartModal.classList.add('translate-x-full');
            }, 2500);
        }

        function updateQuantity(index, amount) {
            cart[index].quantity += parseInt(amount);
            if (cart[index].quantity <= 0) cart.splice(index, 1);
            updateCart();
        }

        function updateCart() {
            const cartItemsContainer = document.getElementById('cart-items');
            const cartTotalSpan = document.getElementById('cart-total');
            const cartCountSpan = document.getElementById('cart-count');
            cartItemsContainer.innerHTML = '';
            let total = 0, totalItems = 0;

            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p class="text-center text-gray-500 py-10">Tu carrito est√° vac√≠o.</p>';
                cartCountSpan.classList.add('hidden');
            } else {
                cart.forEach((item, index) => {
                    total += item.price * item.quantity;
                    totalItems += item.quantity;
                    const itemElement = document.createElement('div');
                    itemElement.className = 'flex items-center space-x-4 p-2 bg-gray-50 rounded-lg';
                    itemElement.innerHTML = `<img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded-md"><div class="flex-1"><h4 class="font-bold text-sm">${item.name}</h4><p class="text-xs text-gray-600">$${item.price.toFixed(2)}</p><div class="flex items-center mt-1"><button class="quantity-change text-lg font-bold px-2" data-index="${index}" data-amount="-1">-</button><span class="px-3 text-sm">${item.quantity}</span><button class="quantity-change text-lg font-bold px-2" data-index="${index}" data-amount="1">+</button></div></div><span class="font-semibold text-lg">$${(item.price * item.quantity).toFixed(2)}</span>`;
                    cartItemsContainer.appendChild(itemElement);
                });
                cartCountSpan.textContent = totalItems;
                cartCountSpan.classList.remove('hidden');
            }
            cartTotalSpan.textContent = `$${total.toFixed(2)}`;
        }

        function sendWhatsAppMessage() {
            if (cart.length === 0) { showToast("Tu carrito est√° vac√≠o."); return; }
            let message = "¬°Hola D'CORE! ‚ú® Me gustar√≠a comprar los siguientes productos:\n\n";
            cart.forEach(item => {
                message += `*${item.quantity}x* - ${item.name} ($${item.price.toFixed(2)} c/u)\n`;
            });
            message += `\n*Total a pagar: ${document.getElementById('cart-total').textContent}*\n\n¬°Gracias! Quedo a la espera de su confirmaci√≥n. üòä`;
            const whatsappUrl = `https://wa.me/593987654321?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.remove('opacity-0', '-translate-y-4');
            toast.classList.add('opacity-100', 'translate-y-0');
            setTimeout(() => {
                toast.classList.remove('opacity-100', 'translate-y-0');
                toast.classList.add('opacity-0', '-translate-y-4');
            }, 3000);
        }
    </script>
</body>
</html>


