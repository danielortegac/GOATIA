<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D'CORE - Un Legado de Detalles del Corazón</title>
    <link rel="icon" href="./logo-dcore.jpg" type="image/x-icon">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Swiper.js for Carousels -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Paleta de Colores Vibrante */
        :root {
            --bg-light: #FFFAF5; --text-dark: #402A24; --primary-red: #E63946;
            --accent-orange: #F4A261; --accent-green: #2A9D8F; --highlight-yellow: #E9C46A;
        }
        html { scroll-behavior: smooth; }
        body { font-family: 'Poppins', sans-serif; background-color: var(--bg-light); color: var(--text-dark); overflow-x: hidden; }
        h1, h2, h3, h4 { font-family: 'Playfair Display', serif; }
        .btn-primary { background-color: var(--primary-red); color: white; padding: 0.85rem 2.5rem; border-radius: 9999px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); box-shadow: 0 4px 15px rgba(230, 57, 70, 0.3); transform: translateY(0); border: 2px solid transparent; }
        .btn-primary:hover { background-color: #c42d38; box-shadow: 0 8px 25px rgba(230, 57, 70, 0.4); transform: translateY(-4px); }
        .btn-secondary { background-color: transparent; color: var(--primary-red); border: 2px solid var(--primary-red); }
        .btn-secondary:hover { background-color: var(--primary-red); color: white; }
        @keyframes gradient-flow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .animate-gradient-flow { background: linear-gradient(-45deg, var(--primary-red), var(--accent-orange), var(--highlight-yellow), var(--primary-red)); background-size: 400% 400%; color: transparent; background-clip: text; -webkit-background-clip: text; animation: gradient-flow 10s ease infinite; }
        .fade-in-up { opacity: 0; transform: translateY(40px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .in-view { opacity: 1; transform: translateY(0); }
        .hero-swiper .swiper-slide img { width: 100%; height: 60vh; object-fit: cover; border-radius: 1.5rem; }
        .swiper-pagination-bullet-active { background: var(--primary-red) !important; }
        .product-card { background-color: #fff; border-radius: 1.25rem; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.04); transition: transform 0.4s ease, box-shadow 0.4s ease; border: 1px solid #00000010; }
        .product-card:hover { transform: translateY(-12px); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08); }

        /* Calendario Mejorado y Responsivo */
        #calendar { display: grid; grid-template-columns: repeat(7, 1fr); gap: 4px; }
        .calendar-day { padding: 4px; font-size: 0.8rem; aspect-ratio: 1/1; display:flex; align-items:center; justify-content:center; text-align: center; border-radius: 50%; transition: all 0.2s ease; position: relative; cursor: default; }
        .calendar-day.has-event::after { content: ''; position: absolute; bottom: 4px; left: 50%; transform: translateX(-50%); width: 5px; height: 5px; border-radius: 50%; background-color: var(--primary-red); }
        .calendar-day.today { background-color: var(--highlight-yellow); color: var(--text-dark); font-weight: 700; }
        .calendar-day.user-event { background-color: var(--accent-green); color: white; }
        .calendar-day.user-event::after { background-color: white; }
        @media (max-width: 640px) { .calendar-day { padding: 2px; font-size: 0.7rem; } }
        
        /* Taller Card Rediseño */
        .workshop-card { background-color: white; border-radius: 1.5rem; box-shadow: 0 10px 30px rgba(0,0,0,0.07); transition: all 0.3s ease; }
        .workshop-card:hover { transform: translateY(-10px) scale(1.02); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .workshop-card ul { list-style-position: inside; }
        .workshop-card ul li { background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="%232A9D8F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>') no-repeat left center; padding-left: 24px; margin-bottom: 0.5rem; }

        /* Chatbot Mejorado */
        @keyframes gift-wobble {
            0%, 50%, 100% { transform: scale(1) rotate(0deg); box-shadow: 0 5px 20px rgba(42, 157, 143, 0.4); }
            25% { transform: scale(1.1) rotate(5deg); box-shadow: 0 10px 30px rgba(42, 157, 143, 0.5); }
            75% { transform: scale(1.1) rotate(-5deg); box-shadow: 0 10px 30px rgba(42, 157, 143, 0.5); }
        }
        #chat-widget { position: fixed; bottom: 25px; right: 25px; z-index: 1000; }
        #chat-button { background-color: var(--accent-green); color: white; width: 65px; height: 65px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.3s ease; animation: gift-wobble 2.5s infinite ease-in-out; }
        #chat-button.open { animation: none; }
        #chat-window { position: fixed; bottom: 100px; right: 25px; width: 90vw; max-width: 380px; height: 75vh; max-height: 550px; background-color: #F9F9F9; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.15); display: flex; flex-direction: column; transform: scale(0.95) translateY(20px); opacity: 0; transition: all 0.3s ease-in-out; pointer-events: none; z-index: 999; }
        #chat-window.open { transform: scale(1) translateY(0); opacity: 1; pointer-events: auto; }
        .chat-header { background: linear-gradient(135deg, var(--accent-green), #258a7e); }
        .chat-message { padding: 10px 15px; border-radius: 18px; margin-bottom: 10px; max-width: 85%; line-height: 1.4; animation: pop-in 0.3s ease; }
        @keyframes pop-in { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .user-message { background-color: var(--accent-orange); color: var(--text-dark); align-self: flex-end; border-bottom-right-radius: 4px; }
        .bot-message { background-color: #fff; color: var(--text-dark); align-self: flex-start; border-bottom-left-radius: 4px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .chat-options { display: flex; flex-wrap: wrap; justify-content: flex-start; padding-top: 5px; }
        .chat-options button { background-color: #fff; border: 1px solid var(--accent-green); color: var(--accent-green); padding: 8px 12px; border-radius: 20px; font-size: 0.9rem; transition: all 0.2s ease; margin: 4px; cursor: pointer; }
        .chat-options button:hover { background-color: var(--accent-green); color: white; }
        .typing-indicator span { display: inline-block; width: 8px; height: 8px; border-radius: 50%; background-color: #aaa; margin: 0 2px; animation: bounce 1s infinite; }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; } .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }
    </style>
</head>
<body class="antialiased">
    <header class="sticky top-0 z-50 bg-white/80 backdrop-blur-lg shadow-sm transition-all duration-300 py-4">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <a href="#inicio" class="flex items-center space-x-3"><img src="./logo-dcore.jpg" alt="D'CORE Logo" class="w-14 h-14 rounded-full border-2 border-orange-200"><span class="text-3xl font-black tracking-wider" style="font-family: 'Playfair Display', serif;">D'CORE</span></a>
            <nav class="hidden md:flex items-center space-x-8 text-lg font-semibold"><a href="#nosotros" class="hover:text-red-500 transition-colors duration-300">Nuestra Esencia</a><a href="#talleres" class="hover:text-red-500 transition-colors duration-300">Talleres y Cursos</a><a href="#productos" class="hover:text-red-500 transition-colors duration-300">Creaciones</a><a href="#contacto" class="hover:text-red-500 transition-colors duration-300">Contacto</a></nav>
            <div class="flex items-center space-x-4"><button id="cart-btn" class="relative group"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-gray-700 group-hover:text-red-500 transition-all" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" /></svg><span id="cart-count" class="absolute top-[-0.5rem] right-[-0.5rem] bg-red-500 text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center hidden">0</span></button></div>
        </div>
    </header>
    <div id="cart-modal" class="fixed top-0 right-0 h-full w-full md:w-96 bg-white shadow-2xl z-[100] p-6 flex flex-col transform translate-x-full transition-transform duration-500 ease-in-out">
        <div class="flex justify-between items-center mb-6"><h2 class="text-3xl font-bold">Tu Carrito</h2><button id="close-cart-btn" class="text-4xl hover:text-red-500 transition-colors">&times;</button></div><div id="cart-items" class="flex-1 overflow-y-auto space-y-4 pr-2"></div><div id="cart-summary" class="mt-6 pt-4 border-t border-gray-200"><div class="flex justify-between items-center text-xl font-bold mb-4"><span>Total:</span><span id="cart-total">$0.00</span></div><button id="whatsapp-btn" class="btn-primary w-full text-center">Contactar por WhatsApp</button></div>
    </div>
    <main>
        <section id="inicio" class="container mx-auto px-6 py-12">
            <div class="swiper hero-swiper shadow-xl rounded-2xl mb-12"><div class="swiper-wrapper" id="hero-carousel-wrapper"></div><div class="swiper-pagination"></div></div>
            <div class="text-center"><h1 class="text-6xl md:text-8xl font-black mb-4 animate-gradient-flow">D'CORE</h1><p class="text-2xl md:text-3xl font-light text-gray-700" style="font-family: 'Playfair Display', serif;">Un Legado de Detalles del Corazón</p><div class="mt-10 flex flex-col sm:flex-row justify-center items-center gap-4"><a href="#productos" class="btn-primary">Explorar Creaciones</a><a href="#talleres" class="btn-primary btn-secondary">Unirme a un Taller</a></div></div>
        </section>
        <section id="nosotros" class="container mx-auto px-6 py-20 fade-in-up"><div class="flex flex-col md:flex-row items-center gap-12"><div class="md:w-1/2"><img src="./IMG-20250830-WA0037.jpg" alt="Foto de la familia D'CORE" class="w-full h-auto rounded-2xl shadow-xl transform transition-transform duration-500 hover:scale-105"></div><div class="md:w-1/2 text-lg"><h2 class="text-4xl md:text-5xl font-bold mb-6">Nuestra Esencia</h2><p class="mb-4">D'CORE nació del corazón de nueve hermanos. No en un taller, sino en el intercambio de regalos hechos con las propias manos. Cada cumpleaños, el reto era superar la <strong class="font-bold text-orange-600">creatividad</strong> del anterior.</p><p class="mb-4">Un día, un amigo dijo: “Tu regalo tiene un <strong class="font-bold text-orange-600">valor que el dinero no puede comprar</strong>”. Esa frase fue la semilla.</p><p>Así, lo que era una tradición familiar se convirtió en nuestra misión: unir talentos para crear D'CORE, un lugar donde cada detalle es un <strong class="font-bold text-orange-600">legado del corazón</strong>.</p></div></div></section>
        <section id="promociones" class="py-20 bg-white"><div class="container mx-auto px-6"><div class="max-w-4xl mx-auto bg-gradient-to-br from-red-50 to-orange-50 rounded-2xl p-8 md:p-12 text-center fade-in-up shadow-lg border-2 border-red-200 border-dashed"><h3 class="text-2xl font-bold mb-3" style="color: var(--primary-red);">OFERTA EXCLUSIVA DE SEPTIEMBRE</h3><h2 class="text-4xl md:text-5xl font-bold text-center mb-4">Renueva tu Espacio y Estilo</h2><p class="text-xl text-gray-700 mb-8">Recibe un <strong>15% de DESCUENTO</strong> en todos los productos de <strong>tejido y bordado</strong>. ¡El detalle perfecto para esa persona especial está esperando!</p><div id="countdown" class="flex justify-center gap-4 md:gap-8 my-8 text-gray-800"><div><span id="days" class="text-4xl md:text-5xl font-bold">00</span><p class="text-sm">Días</p></div><div><span id="hours" class="text-4xl md:text-5xl font-bold">00</span><p class="text-sm">Horas</p></div><div><span id="minutes" class="text-4xl md:text-5xl font-bold">00</span><p class="text-sm">Minutos</p></div><div><span id="seconds" class="text-4xl md:text-5xl font-bold">00</span><p class="text-sm">Segundos</p></div></div><a href="#productos" class="btn-primary">Ver Oferta</a></div></div></section>
        
        <section id="talleres" class="py-20"><div class="container mx-auto px-6 text-center"><h2 class="text-4xl md:text-5xl font-bold mb-4 fade-in-up">Crea con Tus Propias Manos</h2><p class="max-w-3xl mx-auto text-lg text-gray-600 mb-12 fade-in-up">Rescatamos la belleza de lo artesanal. Únase a nuestros talleres y aprenda a crear regalos inolvidables, una experiencia perfecta para compartir o para reconectar con su lado creativo.</p><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            <div class="workshop-card p-6 flex flex-col text-left fade-in-up" style="transition-delay: 100ms;"><h3 class="text-2xl font-bold mb-2 text-center">Taller de Amigurumi</h3><div class="text-center mb-4"><span class="font-bold text-lg text-green-600">$45.00</span><span class="text-gray-500"> / persona</span></div><p class="text-gray-600 mb-4 flex-grow text-sm">Aprenda desde cero a tejer muñecos adorables. Ideal para principiantes.</p><ul class="text-sm text-gray-700"><li>Materiales incluidos</li><li>4 sesiones de 2h</li><li>Proyecto final guiado</li></ul><a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20deseo%20más%20información%20del%20Taller%20de%20Amigurumi." target="_blank" class="btn-primary btn-secondary mt-auto text-center text-sm">Más Detalles</a></div>
            <div class="workshop-card p-6 flex flex-col text-left fade-in-up" style="transition-delay: 200ms;"><h3 class="text-2xl font-bold mb-2 text-center">Bordado para Parejas</h3><div class="text-center mb-4"><span class="font-bold text-lg text-green-600">$60.00</span><span class="text-gray-500"> / pareja</span></div><p class="text-gray-600 mb-4 flex-grow text-sm">Una cita terapéutica y creativa para fortalecer su conexión bordando un diseño que represente su unión.</p><ul class="text-sm text-gray-700"><li>Ambiente relajante</li><li>Todos los materiales</li><li>1 sesión intensiva de 3h</li></ul><a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20deseamos%20información%20del%20Taller%20de%20Bordado%20para%20Parejas." target="_blank" class="btn-primary btn-secondary mt-auto text-center text-sm">Reservar Cita</a></div>
            <div class="workshop-card p-6 flex flex-col text-left fade-in-up" style="transition-delay: 300ms;"><h3 class="text-2xl font-bold mb-2 text-center">Taller de Carpintería</h3><div class="text-center mb-4"><span class="font-bold text-lg text-green-600">$75.00</span><span class="text-gray-500"> / persona</span></div><p class="text-gray-600 mb-4 flex-grow text-sm">Cree un objeto decorativo de madera, desde tablas de picar personalizadas hasta pequeños organizadores.</p><ul class="text-sm text-gray-700"><li>Maderas nobles</li><li>Uso de herramientas</li><li>Acabados profesionales</li></ul><a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20deseo%20información%20del%20Taller%20de%20Carpintería." target="_blank" class="btn-primary btn-secondary mt-auto text-center text-sm">Consultar Fechas</a></div>
            <div class="workshop-card p-6 flex flex-col text-left fade-in-up" style="transition-delay: 400ms;"><h3 class="text-2xl font-bold mb-2 text-center">Asesoría 1-a-1</h3><div class="text-center mb-4"><span class="font-bold text-lg text-green-600">$25.00</span><span class="text-gray-500"> / hora</span></div><p class="text-gray-600 mb-4 flex-grow text-sm">¿Atascado en un proyecto? Le ayudamos a resolver dudas y a perfeccionar su técnica de tejido, bordado o madera.</p><ul class="text-sm text-gray-700"><li>Atención personalizada</li><li>Resolución de dudas</li><li>Técnicas avanzadas</li></ul><a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20quisiera%20agendar%20una%20Asesoría%201-a-1." target="_blank" class="btn-primary btn-secondary mt-auto text-center text-sm">Agendar Ahora</a></div>
        </div></div></section>

        <section id="reminder-service" class="py-20 bg-green-50"><div class="container mx-auto px-6 fade-in-up"><div class="text-center mb-12"><h2 class="text-4xl md:text-5xl font-bold mb-4">El Guardián de Fechas</h2><p class="max-w-3xl mx-auto text-lg text-gray-700">¡No vuelva a olvidar una fecha importante! Revise nuestro calendario de celebraciones y agende sus recordatorios personales. Nosotros le avisaremos.</p></div><div class="max-w-6xl mx-auto grid lg:grid-cols-5 gap-8 items-start"><div class="lg:col-span-3 bg-white p-4 sm:p-6 rounded-2xl shadow-lg"><div id="calendar-header" class="flex justify-between items-center mb-4"><button id="prev-month" class="p-2 rounded-full hover:bg-gray-100">&lt;</button><h3 id="month-year" class="text-xl font-bold text-center"></h3><button id="next-month" class="p-2 rounded-full hover:bg-gray-100">&gt;</button></div><div id="calendar-weekdays" class="grid grid-cols-7 gap-2 text-center font-semibold text-gray-500 text-xs sm:text-sm mb-2"><div>D</div><div>L</div><div>M</div><div>M</div><div>J</div><div>V</div><div>S</div></div><div id="calendar"></div></div><div class="lg:col-span-2"><div class="bg-white p-6 rounded-2xl shadow-lg mb-6"><h3 class="text-2xl font-bold mb-4">Fechas de <span id="events-month"></span></h3><ul id="events-list" class="space-y-2 text-gray-700 h-32 overflow-y-auto pr-2 text-sm"><li>Cargando...</li></ul></div><div class="bg-white p-6 rounded-2xl shadow-lg"><h3 class="text-2xl font-bold mb-4">Agende su Fecha Especial</h3><form id="date-form" class="flex flex-col gap-4"><input type="text" id="event-name" placeholder="Ej: Aniversario con mi amor" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400" required><input type="date" id="event-date" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400" required><button type="submit" class="btn-primary">¡Agendar y Recordar!</button></form></div></div></div></div></section>
        
        <section id="productos" class="py-20"><div class="container mx-auto px-6"><h2 class="text-4xl md:text-5xl font-bold text-center mb-12 fade-in-up">Nuestras Creaciones</h2><div id="product-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 md:gap-8"></div></div></section>
        
        <section id="testimonials" class="container mx-auto px-6 py-20 bg-white rounded-2xl"><h2 class="text-4xl md:text-5xl font-bold text-center mb-12 fade-in-up">Lo que dicen Nuestros Clientes</h2><div class="swiper testimonials-swiper max-w-3xl mx-auto fade-in-up"><div class="swiper-wrapper" id="testimonials-wrapper"></div><div class="swiper-pagination mt-8"></div></div></section>

        <section id="contacto" class="container mx-auto px-6 py-20 text-center"><div class="bg-gradient-to-tr from-gray-800 to-gray-900 rounded-3xl shadow-xl p-8 md:p-16 fade-in-up"><h2 class="text-4xl md:text-5xl font-bold mb-4 text-white">¿Tiene una idea? La hacemos realidad.</h2><p class="text-lg md:text-xl mb-10 max-w-3xl mx-auto text-gray-300">Su imaginación es el único límite. Realizamos personajes de cualquier serie, película o videojuego. Envíenos su inspiración y nuestro equipo de artesanos la transformará en una pieza de arte tangible y exclusiva para usted.</p><a href="https://wa.me/593987786632?text=Hola%20D'CORE,%20me%20gustaría%20cotizar%20un%20regalo%20personalizado." target="_blank" class="btn-primary">Cotice su Idea Aquí</a></div></section>
    </main>
    <footer class="bg-text-dark text-white pt-16 pb-8" style="background-color: var(--text-dark);"><div class="container mx-auto px-6 text-center md:text-left"><div class="grid grid-cols-1 md:grid-cols-3 gap-8"><div><div class="flex items-center justify-center md:justify-start space-x-3 mb-4"><img src="./logo-dcore.jpg" alt="D'CORE Logo" class="w-12 h-12 rounded-full"><span class="text-2xl font-bold" style="font-family: 'Playfair Display', serif;">D'CORE</span></div><p class="max-w-xs mx-auto md:mx-0 text-gray-400">Un Legado de Detalles del Corazón.</p></div><div><h4 class="font-bold text-lg mb-4">Navegación</h4><ul class="space-y-2"><li><a href="#nosotros" class="text-gray-400 hover:text-white transition-colors">Nuestra Esencia</a></li><li><a href="#talleres" class="text-gray-400 hover:text-white transition-colors">Talleres</a></li><li><a href="#productos" class="text-gray-400 hover:text-white transition-colors">Creaciones</a></li></ul></div><div><h4 class="font-bold text-lg mb-4">Síganos</h4><div class="flex justify-center md:justify-start space-x-6"><a href="https://www.instagram.com/_hannah.yanez/" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transform hover:scale-125 transition-transform"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.013-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.345 2.525c.636-.247 1.363-.416 2.427-.465C9.792 2.013 10.146 2 12.315 2zM12 7.044c-2.749 0-4.973 2.224-4.973 4.973S9.251 16.99 12 16.99s4.973-2.224 4.973-4.973S14.749 7.044 12 7.044zM12 14.9a2.904 2.904 0 110-5.808 2.904 2.904 0 010 5.808zM16.949 6.02a1.185 1.185 0 11-2.37.001 1.185 1.185 0 012.37-.001z" clip-rule="evenodd" /></svg></a><a href="https://wa.me/593987786632" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transform hover:scale-125 transition-transform"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 13.66 2.59 15.35 3.4 16.86L2.05 22L7.31 20.75C8.77 21.48 10.38 21.89 12.04 21.89C17.5 21.89 21.95 17.44 21.95 11.98C21.95 9.32 20.96 6.84 19.13 4.99C17.28 3.14 14.79 2 12.04 2M12.04 3.67C14.24 3.67 16.31 4.53 17.87 6.09C19.42 7.65 20.28 9.72 20.28 11.92C20.28 16.56 16.59 20.25 11.95 20.25C10.46 20.25 9.03 19.88 7.79 19.18L7.42 18.96L4.38 19.78L5.22 16.81L4.97 16.42C4.18 15.11 3.77 13.54 3.77 11.91C3.77 7.27 7.46 3.67 12.04 3.67M9.13 7.5C8.91 7.5 8.7 7.55 8.51 7.92C8.31 8.29 7.68 9.53 7.68 10.84C7.68 12.15 8.53 13.4 8.68 13.58C8.83 13.77 10.56 16.32 13.08 17.31C15.04 18.06 15.61 17.84 16.08 17.79C16.56 17.74 17.42 17.22 17.62 16.56C17.81 15.89 17.81 15.35 17.74 15.25C17.67 15.16 17.47 15.09 17.22 14.97C16.97 14.84 15.71 14.22 15.49 14.13C15.26 14.04 15.11 13.99 14.96 14.27C14.81 14.55 14.34 15.11 14.2 15.28C14.07 15.45 13.92 15.47 13.67 15.35C13.42 15.22 12.63 14.95 11.67 14.1C10.91 13.43 10.39 12.61 10.27 12.35C10.14 12.1 10.26 11.97 10.39 11.84C10.5 11.73 10.64 11.53 10.79 11.36C10.93 11.19 10.98 11.07 11.08 10.89C11.18 10.71 11.13 10.56 11.06 10.44C10.98 10.32 10.56 9.23 10.36 8.75C10.17 8.27 9.98 7.85 9.81 7.85C9.64 7.85 9.46 7.85 9.28 7.85" /></svg></a></div></div></div><div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-400"><p>&copy; 2025 D'CORE. Hecho con ❤️ en Ecuador.</p><p class="text-sm mt-2">Diseñado por <a href="https://www.goatify.app/web" target="_blank" rel="noopener noreferrer" class="font-semibold text-white hover:underline">Goatify IA</a> en colaboración con <b class="font-semibold text-white">Hannah Yánez</b>, fundadora de la marca.</p></div></div></footer>
    <div id="toast" class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-gray-800 text-white px-6 py-3 rounded-full shadow-lg transition-all duration-500 opacity-0 -translate-y-4 z-[101]"></div>
    <div id="chat-widget"><div id="chat-window"><div class="chat-header text-white rounded-t-2xl p-4 flex justify-between items-center"><div><h3 class="font-bold text-lg">Asistente D'CORE</h3><p class="text-sm opacity-90">Disponible para usted</p></div><button id="close-chat" class="text-2xl opacity-80 hover:opacity-100">&times;</button></div><div id="chat-body" class="flex-1 p-4 overflow-y-auto flex flex-col gap-3"></div><div class="p-2 border-t bg-white rounded-b-2xl"><div id="chat-options-container" class="p-2"></div><form id="chat-form" class="flex gap-2 p-2"><input type="text" id="chat-input" placeholder="Escriba su mensaje..." class="flex-1 p-3 border border-gray-300 rounded-full focus:ring-2 focus:ring-green-400 text-sm" autocomplete="off"><button type="submit" class="bg-green-500 text-white rounded-full w-12 h-12 flex items-center justify-center flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 5l7 7-7 7M5 12h14" /></svg></button></form></div></div><button id="chat-button"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M12 8v13"></path>
        <path d="M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"></path>
        <path d="M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 9 0a2.5 2.5 0 0 1 0 5"></path>
        <rect x="3" y="8" width="18" height="4" rx="1"></rect>
     </svg></button></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const allProducts = [{ name: "Amigurumi Pollito", price: 22.00, image: "./IMG-20250830-WA0045.jpg", category: 'tejido' }, { name: "Sudadera Bordada Floral", price: 45.00, image: "./IMG-20250830-WA0046.jpg", category: 'bordado' }, { name: "Amigurumi Stich", price: 25.00, image: "./IMG-20250830-WA0047.jpg", category: 'tejido' }, { name: "Llavero de Madera", price: 15.00, image: "./IMG-20250830-WA0042.jpg", category: 'madera' }, { name: "Detalle en Madera", price: 18.00, image: "./IMG-20250830-WA0043.jpg", category: 'madera' }, { name: "Bordado Personalizado", price: 35.00, image: "./IMG-20250830-WA0044.jpg", category: 'bordado' }, { name: "Caja de Recuerdos", price: 30.00, image: "./IMG-20250830-WA0039.jpg", category: 'madera' }, { name: "Amigurumi Osito", price: 20.00, image: "./IMG-20250830-WA0040.jpg", category: 'tejido' }, { name: "Detalle Bordado Corazón", price: 28.00, image: "./IMG-20250830-WA0041.jpg", category: 'bordado' }, { name: "Recuerdo Familiar", price: 40.00, image: "./IMG-20250830-WA0037.jpg", category: 'madera' }, { name: "Base Decorativa", price: 25.00, image: "./IMG-20250830-WA0036.jpg", category: 'madera' }, { name: "Llavero Aguacate", price: 12.00, image: "./IMG-20250830-WA0033.jpg", category: 'tejido' }, { name: "Set de Llaveros", price: 20.00, image: "./IMG-20250830-WA0034.jpg", category: 'madera' }, { name: "Llavero Tejido", price: 10.00, image: "./IMG-20250830-WA0035.jpg", category: 'tejido' }, { name: "Grabado en Madera", price: 28.00, image: "./IMG-20250830-WA0031.jpg", category: 'madera' }, { name: "Recuerdo en Madera", price: 26.00, image: "./IMG-20250830-WA0032.jpg", category: 'madera' }, { name: "Girasol de Madera", price: 24.00, image: "./IMG-20250830-WA0028.jpg", category: 'madera' }, { name: "Llavero Gato", price: 15.00, image: "./IMG-20250830-WA0029.jpg", category: 'madera' }, { name: "Caja Personalizada", price: 30.00, image: "./IMG-20250830-WA0030.jpg", category: 'madera' }, { name: "Detalle Tallado", price: 18.00, image: "./IMG-20250830-WA0027.jpg", category: 'madera' }, { name: "Amigurumi Dinosaurio", price: 25.00, image: "./IMG-20250830-WA0025.jpg", category: 'tejido' }, { name: "Muñeco de Lana", price: 25.00, image: "./IMG-20250830-WA0026.jpg", category: 'tejido' }, { name: "Llavero Tallado", price: 15.00, image: "./IMG-20250830-WA0023.jpg", category: 'madera' }, { name: "Camiseta Bordada", price: 40.00, image: "./IMG-20250830-WA0024.jpg", category: 'bordado' }, { name: "Figura Grabada", price: 35.00, image: "./IMG-20250830-WA0020.jpg", category: 'madera' }, { name: "Muñeco Personalizado", price: 50.00, image: "./IMG-20250830-WA0021.jpg", category: 'tejido' }, { name: "Caja de Madera", price: 32.00, image: "./IMG-20250830-WA0022.jpg", category: 'madera' }];
            const testimonials = [{ text: "¡El muñeco que pedí superó mis expectativas! La calidad y el cariño que le ponen a cada detalle es increíble. 100% recomendado.", author: "Ana G., Quito" }, { text: "El regalo perfecto. Mi sudadera bordada es mi nueva prenda favorita. Gracias D'CORE por crear algo tan especial.", author: "Carlos R., Guayaquil" }, { text: "Excelente servicio y el grabado en madera quedó precioso. Un recuerdo que atesoraré para siempre.", author: "Sofía M., Cuenca" }, { text: "El llavero de aguacate es adorable. Se nota que está hecho con mucho amor. ¡Definitivamente volveré a comprar!", author: "Mateo V., Ambato" }, { text: "¡Me encantó! El envío fue súper rápido y el producto llegó en perfectas condiciones. Calidad de exportación.", author: "Valentina C., Manta" }];
            
            const showToast = (message) => { const toast = document.getElementById('toast'); toast.textContent = message; toast.classList.remove('opacity-0', '-translate-y-4'); setTimeout(() => toast.classList.add('opacity-0', '-translate-y-4'), 3000); };
            const observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('in-view'); }); }, { threshold: 0.1 });
            document.querySelectorAll('.fade-in-up').forEach(el => observer.observe(el));

            (() => {
                const heroWrapper = document.getElementById('hero-carousel-wrapper');
                allProducts.slice(0, 8).forEach(p => heroWrapper.innerHTML += `<div class="swiper-slide"><img src="${p.image}" alt="${p.name}" loading="lazy"></div>`);
                new Swiper('.hero-swiper', { loop: true, autoplay: { delay: 3000 }, pagination: { el: '.swiper-pagination', clickable: true }, effect: 'fade', grabCursor: true });
                const testimonialsWrapper = document.getElementById('testimonials-wrapper');
                const starSVG = `<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>`.repeat(5);
                testimonials.forEach(t => testimonialsWrapper.innerHTML += `<div class="swiper-slide text-center px-4"><div class="flex justify-center mb-4 text-yellow-400">${starSVG}</div><p class="text-lg italic text-gray-700">"${t.text}"</p><p class="mt-4 font-bold">- ${t.author}</p></div>`);
                new Swiper('.testimonials-swiper', { loop: true, autoplay: { delay: 5000 }, pagination: { el: '.swiper-pagination', clickable: true }, grabCursor: true });
            })();

            (() => {
                const now = new Date();
                const endOfMonth = new Date(now.getFullYear(), now.getMonth() + 1, 0, 23, 59, 59);
                const interval = setInterval(() => {
                    const d = endOfMonth.getTime() - new Date().getTime();
                    if (d < 0) { clearInterval(interval); document.getElementById("countdown").innerHTML = "<p class='text-xl font-bold'>¡OFERTA TERMINADA!</p>"; return; }
                    document.getElementById("days").innerText = Math.floor(d/(1000*60*60*24)).toString().padStart(2,'0');
                    document.getElementById("hours").innerText = Math.floor((d%(1000*60*60*24))/(1000*60*60)).toString().padStart(2,'0');
                    document.getElementById("minutes").innerText = Math.floor((d%(1000*60*60))/(1000*60)).toString().padStart(2,'0');
                    document.getElementById("seconds").innerText = Math.floor((d%(1000*60))/1000).toString().padStart(2,'0');
                }, 1000);
            })();

            (() => {
                let currentDate = new Date();
                const importantDates = {0:[{d:1,e:"Año Nuevo"},{d:4,e:"Día Mundial del Braille"},{d:21,e:"Día Internacional del Abrazo"}],1:[{d:4,e:"Día Mundial contra el Cáncer"},{d:13,e:"Día Mundial de la Radio"},{d:14,e:"San Valentín"},{d:17,e:"Día Mundial del Gato"}],2:[{d:8,e:"Día de la Mujer"},{d:15,e:"Día Mundial del Sueño"},{d:19,e:"Día del Hombre / Artesano"},{d:20,e:"Día de la Felicidad"},{d:21,e:"Día del Perro / Poesía"}],3:[{d:7,e:"Día de la Salud"},{d:13,e:"Día Internacional del Beso"},{d:22,e:"Día de la Tierra"},{d:23,e:"Día del Libro"}],4:[{d:1,e:"Día del Trabajo"},{d:4,e:"Día de Star Wars"},{d:12,e:"Día de la Madre (EC)"},{d:15,e:"Día del Maestro (EC)"},{d:24,e:"Batalla de Pichincha"},{d:25,e:"Día del Orgullo Friki"}],5:[{d:1,e:"Día del Niño"},{d:5,e:"Día del Medio Ambiente"},{d:8,e:"Día Mundial de los Océanos"},{d:16,e:"Día del Padre (EC)"},{d:21,e:"Día de la Música"}],6:[{d:4,e:"Independencia de EEUU"},{d:13,e:"Día Mundial del Rock"},{d:20,e:"Día del Amigo"},{d:26,e:"Día de los Abuelos"}],7:[{d:8,e:"Día Internacional del Gato"},{d:10,e:"Primer Grito de Independencia"},{d:13,e:"Día de los Zurdos"},{d:19,e:"Día de la Fotografía"}],8:[{d:1,e:"Día Mundial de la Barba"},{d:21,e:"Día Internacional de la Paz"},{d:27,e:"Día Mundial del Turismo"}],9:[{d:4,e:"Día Mundial de los Animales"},{d:9,e:"Indep. de Guayaquil"},{d:16,e:"Día del Jefe"},{d:31,e:"Halloween / Día del Escudo"}],10:[{d:1,e:"Día del Veganismo"},{d:2,e:"Día de los Difuntos"},{d:3,e:"Indep. de Cuenca"}],11:[{d:6,e:"Fundación de Quito"},{d:25,e:"Navidad"},{d:28,e:"Día de los Inocentes"},{d:31,e:"Fin de Año"}]};
                let userEvents = JSON.parse(localStorage.getItem('dcoreUserEvents')) || [];
                const renderCalendar = () => {
                    const calendarEl=document.getElementById('calendar'), monthYearEl=document.getElementById('month-year'), eventsListEl=document.getElementById('events-list'), eventsMonthEl=document.getElementById('events-month');
                    calendarEl.innerHTML=''; eventsListEl.innerHTML='';
                    const year=currentDate.getFullYear(), month=currentDate.getMonth();
                    const monthName = currentDate.toLocaleDateString('es-ES',{month:'long'});
                    monthYearEl.textContent=`${monthName.charAt(0).toUpperCase()+monthName.slice(1)} ${year}`;
                    eventsMonthEl.textContent=monthName;
                    const monthEvents = importantDates[month]||[];
                    monthEvents.forEach(evt => eventsListEl.innerHTML+=`<li><strong class="text-red-500">${evt.d}:</strong> ${evt.e}</li>`);
                    userEvents.filter(e=>e.m===month && e.y===year).forEach(evt => eventsListEl.innerHTML+=`<li><strong class="text-green-500">${evt.d}:</strong> ${evt.e} (Su evento)</li>`);
                    if(eventsListEl.innerHTML==='') eventsListEl.innerHTML='<li>No hay eventos este mes.</li>';
                    const firstDayOfMonth=new Date(year,month,1).getDay();
                    const daysInMonth=new Date(year,month+1,0).getDate();
                    for(let i=0;i<firstDayOfMonth;i++) calendarEl.innerHTML+='<div></div>';
                    for(let day=1;day<=daysInMonth;day++){
                        const dayEl=document.createElement('div');
                        dayEl.textContent=day; dayEl.className='calendar-day';
                        if(day===new Date().getDate()&&month===new Date().getMonth()&&year===new Date().getFullYear()) dayEl.classList.add('today');
                        if(monthEvents.some(e=>e.d===day)) dayEl.classList.add('has-event');
                        if(userEvents.some(e=>e.d===day&&e.m===month&&e.y===year)) dayEl.classList.add('user-event');
                        calendarEl.appendChild(dayEl);
                    }
                };
                document.getElementById('prev-month').addEventListener('click',()=>{currentDate.setMonth(currentDate.getMonth()-1);renderCalendar();});
                document.getElementById('next-month').addEventListener('click',()=>{currentDate.setMonth(currentDate.getMonth()+1);renderCalendar();});
                document.getElementById('date-form').addEventListener('submit',(e)=>{
                    e.preventDefault();
                    const eventName=document.getElementById('event-name').value;
                    const eventDate=document.getElementById('event-date').value;
                    const [year,month,day]=eventDate.split('-').map(Number);
                    userEvents.push({y:year,m:month-1,d:day,e:eventName});
                    localStorage.setItem('dcoreUserEvents',JSON.stringify(userEvents));
                    const formattedDate=new Date(eventDate+'T00:00:00').toLocaleDateString('es-EC',{dateStyle:'full'});
                    const text=`¡Hola D'CORE! Por favor, agenden un recordatorio para mi evento: "${eventName}" en la fecha ${formattedDate}. ¡Gracias!`;
                    window.open(`https://wa.me/593987786632?text=${encodeURIComponent(text)}`,'_blank');
                    showToast(`'${eventName}' agendado.`); e.target.reset(); renderCalendar();
                });
                renderCalendar();
            })();

            (() => {
                const PROMOTION_DISCOUNT = 0.15, PROMOTION_CATEGORIES = ['tejido', 'bordado'];
                const productGrid = document.getElementById('product-grid');
                allProducts.forEach(p => {
                    const isOnSale = PROMOTION_CATEGORIES.includes(p.category);
                    const finalPrice = isOnSale ? p.price * (1 - PROMOTION_DISCOUNT) : p.price;
                    const priceHTML = isOnSale ? `<div class="flex items-baseline justify-center gap-2"><span class="text-gray-400 line-through">$${p.price.toFixed(2)}</span><span class="text-xl font-bold" style="color:var(--primary-red)">$${finalPrice.toFixed(2)}</span></div>` : `<span class="text-xl font-bold">$${p.price.toFixed(2)}</span>`;
                    productGrid.innerHTML += `<div class="product-card flex flex-col text-center"><div class="overflow-hidden relative rounded-t-2xl"><img src="${p.image}" alt="${p.name}" class="w-full h-56 object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x400/FFFAF5/402A24?text=${encodeURIComponent(p.name)}';"></div><div class="p-4 flex flex-col flex-grow"><h3 class="text-lg font-semibold mb-2 flex-grow">${p.name}</h3><div class="my-2">${priceHTML}</div><button class="add-to-cart-btn btn-primary mt-auto text-sm" data-name="${p.name}" data-price="${finalPrice}" data-image="${p.image}">Añadir</button></div></div>`;
                });
                let cart = [];
                const cartModal = document.getElementById('cart-modal');
                const updateCart = () => {
                    const cartItems = document.getElementById('cart-items'), totalEl = document.getElementById('cart-total'), countEl = document.getElementById('cart-count');
                    cartItems.innerHTML = ''; let total = 0, count = 0;
                    if (cart.length === 0) { cartItems.innerHTML = '<p class="text-center text-gray-500 py-10">Su carrito está vacío.</p>'; countEl.classList.add('hidden'); }
                    else { cart.forEach((item, index) => { total += item.price * item.quantity; count += item.quantity; cartItems.innerHTML += `<div class="flex items-center gap-4 p-2 bg-gray-50 rounded-lg"><img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded-md"><div class="flex-1"><h4 class="font-bold text-sm">${item.name}</h4><p class="text-xs text-gray-600">$${item.price.toFixed(2)}</p><div class="flex items-center mt-1"><button class="quantity-change text-lg font-bold px-2" data-index="${index}" data-amount="-1">-</button><span class="px-3 text-sm">${item.quantity}</span><button class="quantity-change text-lg font-bold px-2" data-index="${index}" data-amount="1">+</button></div></div><span class="font-semibold">$${(item.price*item.quantity).toFixed(2)}</span></div>`; }); countEl.textContent = count; countEl.classList.remove('hidden'); }
                    totalEl.textContent = `$${total.toFixed(2)}`;
                };
                document.getElementById('cart-btn').addEventListener('click', () => cartModal.classList.remove('translate-x-full'));
                document.getElementById('close-cart-btn').addEventListener('click', () => cartModal.classList.add('translate-x-full'));
                document.getElementById('product-grid').addEventListener('click', e => { if (e.target.classList.contains('add-to-cart-btn')) { const {name, price, image} = e.target.dataset; const existing = cart.find(i => i.name === name); if (existing) existing.quantity++; else cart.push({ name, price: +price, image, quantity: 1 }); updateCart(); showToast(`'${name}' añadido.`); }});
                document.getElementById('cart-items').addEventListener('click', e => { if(e.target.classList.contains('quantity-change')) { const {index, amount} = e.target.dataset; cart[index].quantity += +amount; if(cart[index].quantity <= 0) cart.splice(index, 1); updateCart(); }});
                document.getElementById('whatsapp-btn').addEventListener('click', () => { if (cart.length === 0) { showToast("Su carrito está vacío."); return; } let msg = "¡Hola D'CORE! ✨ Quisiera consultar sobre los siguientes productos de mi carrito:\n\n"; cart.forEach(i => { msg += `*${i.quantity}x* - ${i.name} ($${i.price.toFixed(2)} c/u)\n`; }); msg += `\n*Total estimado: ${document.getElementById('cart-total').textContent}*\n\n¡Gracias!`; window.open(`https://wa.me/593987786632?text=${encodeURIComponent(msg)}`, '_blank'); });
                updateCart();
            })();

            (() => {
                const chatButton = document.getElementById('chat-button'), chatWindow = document.getElementById('chat-window'), closeChat = document.getElementById('close-chat'), chatBody = document.getElementById('chat-body'), chatForm = document.getElementById('chat-form'), chatInput = document.getElementById('chat-input'), optionsContainer = document.getElementById('chat-options-container');
                const toggleChat = () => { chatWindow.classList.toggle('open'); chatButton.classList.toggle('open'); };
                chatButton.addEventListener('click', toggleChat);
                closeChat.addEventListener('click', toggleChat);
                const addMessage = (text, sender) => { const el = document.createElement('div'); el.className = `chat-message ${sender}-message`; el.innerHTML = text; chatBody.appendChild(el); chatBody.scrollTop = chatBody.scrollHeight; };
                const showTyping = () => { const el = document.createElement('div'); el.className = 'chat-message bot-message typing-indicator'; el.innerHTML='<span></span><span></span><span></span>'; chatBody.appendChild(el); chatBody.scrollTop = chatBody.scrollHeight; return el; };
                const showOptions = (options) => { optionsContainer.innerHTML = ''; const container = document.createElement('div'); container.className = 'chat-options'; options.forEach(opt => { const btn = document.createElement('button'); btn.textContent = opt.text; btn.dataset.payload = opt.payload; container.appendChild(btn); }); optionsContainer.appendChild(container); };
                const conversationTree = {
                    'start': { response: "¡Bienvenido/a a D'CORE! Soy su asistente virtual. ¿Cómo puedo ayudarle hoy?", options: [{text:"Ver Productos", payload:"products"}, {text:"Talleres y Cursos", payload:"workshops"}, {text:"Envíos y Entregas", payload:"shipping"}, {text:"Otra Consulta", payload:"other"}] },
                    'products': { response: "Manejamos creaciones en tejido, bordado y madera. ¿Le gustaría saber sobre los precios, ver ejemplos o preguntar por una personalización?", options: [{text:"Precios Generales", payload:"prices"}, {text:"Personalización", payload:"custom"}, {text:"Volver", payload:"start"}] },
                    'workshops': { response: "¡Excelente! Ofrecemos talleres de Amigurumi, Bordado para Parejas y Carpintería Creativa. También hay asesorías 1-a-1. ¿Sobre cuál le gustaría saber más?", options: [{text:"Amigurumi", payload:"w_amigurumi"}, {text:"Bordado Parejas", payload:"w_embroidery"}, {text:"Carpintería", payload:"w_wood"}, {text:"Asesoría", payload:"w_consult"}] },
                    'shipping': { response: "Realizamos envíos a todo el Ecuador a través de Servientrega. El costo y tiempo de entrega varían según su ciudad. Usualmente tarda de 2 a 3 días hábiles.", options: [{text:"Gracias", payload:"thanks"}, {text:"Volver", payload:"start"}] },
                    'other': { response: "Entendido. Por favor, escriba su consulta y con gusto le atenderé.", options: [] },
                    'unknown': { response: "Disculpe, no he comprendido su consulta. Tal vez le interese preguntar sobre alguno de los siguientes temas:", options: [{text:"Productos", payload:"products"}, {text:"Talleres", payload:"workshops"}, {text:"Envíos", payload:"shipping"}]},
                    'prices': { response: "Los precios son variados. Amigurumis desde $20, sudaderas desde $45, detalles en madera desde $15. Para un valor exacto, lo mejor es cotizar su idea.", options: [{text:"Cotizar", payload:"custom"}, {text:"Volver", payload:"products"}]},
                    'custom': { response: "¡Perfecto! Para cotizar una idea personalizada, por favor contáctenos por WhatsApp con su imagen o descripción. El botón está en la parte de abajo de la página.", options: [{text:"Gracias", payload:"thanks"}, {text:"Volver", payload:"start"}]},
                    'thanks': { response: "¿Hay algo más en lo que pueda asistirle?", options: [{text:"Sí, por favor", payload:"start"}, {text:"No, gracias", payload:"end"}] },
                    'end': { response: "Fue un placer atenderle. ¡Que tenga un excelente día!", options: []},
                    'w_amigurumi': { response: "El Taller de Amigurumi Nivel Inicial cuesta $45, dura 4 semanas. Aprenderá todo lo básico para crear sus propios muñecos. ¿Desea el enlace de inscripción?", options: [{text:"Sí, por favor", payload:"link_amigurumi"}, {text:"Volver a Talleres", payload:"workshops"}]},
                    'w_embroidery': { response: "El taller de Bordado para Parejas es una experiencia única. Cuesta $60 por pareja. Crearán una pieza juntos. ¿Desea reservar?", options: [{text:"Sí, por favor", payload:"link_embroidery"}, {text:"Volver a Talleres", payload:"workshops"}]},
                    'w_wood': { response: "Nuestro taller de carpintería tiene un costo de $75. Aprenderá técnicas básicas para crear objetos decorativos funcionales. ¿Le gustaría saber las próximas fechas?", options: [{text:"Sí, por favor", payload:"link_wood"}, {text:"Volver a Talleres", payload:"workshops"}]},
                    'w_consult': { response: "La asesoría 1-a-1 tiene un valor de $25 por hora. Es ideal para despejar dudas puntuales en sus proyectos. ¿Desea agendar una sesión?", options: [{text:"Sí, por favor", payload:"link_consult"}, {text:"Volver a Talleres", payload:"workshops"}]},
                };
                const handlePayload = (payload) => {
                    const node = conversationTree[payload];
                    if (node) { const typing = showTyping(); setTimeout(() => { typing.remove(); addMessage(node.response, 'bot'); showOptions(node.options); }, 800); }
                };
                optionsContainer.addEventListener('click', e => { if (e.target.tagName === 'BUTTON') { const {payload} = e.target.dataset; addMessage(e.target.textContent, 'user'); handlePayload(payload); } });
                chatForm.addEventListener('submit', (e) => { e.preventDefault(); const userInput = chatInput.value.trim(); if(userInput) { addMessage(userInput, 'user'); chatInput.value = ''; handlePayload('unknown');} });
                addMessage(conversationTree.start.response, 'bot');
                showOptions(conversationTree.start.options);
            })();
        });
    </script>
</body>
</html>


